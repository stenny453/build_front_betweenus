{"version":3,"sources":["./src/app/components/client/client-routing.module.ts","./src/app/services/auth/auth-guard.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmG;AACvB;AAErB;AACqB;AACO;AACT;AACS;AACZ;AACJ;AACI;AACS;AACpB;AACmC;AACnC;AACA;AACkC;AACjB;;;AAG7E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,yEAAe;KAC3B;IACD;QACE,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,yEAAe;KAC3B;IACD;QACE,IAAI,EAAE,SAAS;QACf,SAAS,EAAE,yEAAe;QAC1B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,iBAAiB;QACvB,SAAS,EAAE,mFAAkB;QAC7B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,cAAc;QACpB,SAAS,EAAE,0FAAoB;QAC/B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,8EAAiB;QAC5B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,oBAAoB;QAC1B,SAAS,EAAE,8FAAmB;QAC9B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,qFAAiB;QAC5B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,cAAc;QACpB,SAAS,EAAE,8FAAoB;QAC/B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,kFAAgB;QAC3B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,WAAW;QACjB,SAAS,EAAE,qFAAiB;QAC5B,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,mBAAmB;QACzB,SAAS,EAAE,4GAAwB;QACnC,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,gBAAgB;QACtB,SAAS,EAAE,0GAAuB;QAClC,WAAW,EAAE,CAAC,yFAAgB,CAAC;KAChC;IACD;QACE,IAAI,EAAE,kBAAkB;QACxB,SAAS,EAAE,6FAAqB;KACjC;IACD;QACE,IAAI,EAAE,sBAAsB;QAC5B,SAAS,EAAE,4GAA0B;KACtC;CACF,CAAC;AAMK,MAAM,mBAAmB;;sFAAnB,mBAAmB;mGAAnB,mBAAmB;uGAHrB,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY;oIAEX,mBAAmB,uFAFpB,4DAAY;;;;;;;;;;;;;;;;;;;;;ACxFjB,MAAM,gBAAgB;IAE3B,YAAoB,WAAyB,EAAS,MAAe;QAAjD,gBAAW,GAAX,WAAW,CAAc;QAAS,WAAM,GAAN,MAAM,CAAS;IAAI,CAAC;IAE1E,WAAW,CAAC,KAA6B,EAAE,KAA0B;QACnE,IAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAC;YAC5B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACrC,OAAO,KAAK,CAAC;SAChB;QACD,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;QAC1C,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,SAAS,CAC3C,CAAC,IAAI,EAAE,EAAE;YACP,mBAAmB;YACnB,0DAA0D;QAC5D,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACrC,OAAO,KAAK,CAAC;QACf,CAAC,CACF;QACD,OAAO,IAAI;IACb,CAAC;;gFArBU,gBAAgB;mGAAhB,gBAAgB,WAAhB,gBAAgB,mBAFf,MAAM","file":"components-client-client-routing-module-es2015.js","sourcesContent":["import { LiveTipsClientsComponent } from './../live/live-tips-clients/live-tips-clients.component';\r\nimport { LiveTipsComponent } from './../live/live-tips/live-tips.component';\r\nimport { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { AuthGuardService } from \"src/app/services/auth/auth-guard.service\";\r\nimport { HomeClientComponent } from \"../home/home-connected/home-client.component\";\r\nimport { LiveFreeComponent } from \"../live/live-free/live-free.component\";\r\nimport { LivePrivateComponent } from \"../live/live-private/live-private.component\";\r\nimport { LiveVipComponent } from \"../live/live-vip/live-vip.component\";\r\nimport { PaiementComponent } from \"../paiement/paiement.component\";\r\nimport { BuyCreditComponent } from \"./buy-credit/buy-credit.component\";\r\nimport { ConfirmEmailComponent } from \"./confirm-email/confirm-email.component\";\r\nimport { ProfilComponent } from \"./profil/profil.component\";\r\nimport { ReactivateAccountComponent } from \"./reactivate-account/reactivate-account.component\";\r\nimport { SigninComponent } from \"./signin/signin.component\";\r\nimport { SignupComponent } from \"./signup/signup.component\";\r\nimport { LiveFreeSaloonComponent } from '../live/live-free-saloon/live-free-saloon.component';\r\nimport { BetweenShopComponent } from './between-shop/between-shop.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'inscription',\r\n    component: SignupComponent\r\n  },\r\n  {\r\n    path: 'connexion',\r\n    component: SigninComponent\r\n  },\r\n  {\r\n    path: 'profile',\r\n    component: ProfilComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'achat_de_credit',\r\n    component: BuyCreditComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'between_shop',\r\n    component: BetweenShopComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'paiement',\r\n    component: PaiementComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'accueil/registered',\r\n    component: HomeClientComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/free',\r\n    component: LiveFreeComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/private',\r\n    component: LivePrivateComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/vip',\r\n    component: LiveVipComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/tips',\r\n    component: LiveTipsComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/tips-clients',\r\n    component: LiveTipsClientsComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'live/choice-us',\r\n    component: LiveFreeSaloonComponent,\r\n    canActivate: [AuthGuardService]\r\n  },\r\n  {\r\n    path: 'register/confirm',\r\n    component: ConfirmEmailComponent\r\n  },\r\n  {\r\n    path: 'reactivation/account',\r\n    component: ReactivateAccountComponent\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ClientRoutingModule { }\r\n","import { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuardService implements CanActivate {\r\n\r\n  constructor(private authService : AuthService, public router : Router) { }\r\n\r\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean | UrlTree | Observable<boolean | UrlTree> | Promise<boolean | UrlTree> {\r\n    if(!this.authService.getToken()){\r\n        this.router.navigateByUrl(\"accueil\");\r\n        return false;\r\n    }\r\n    const token = this.authService.getToken();\r\n    this.authService.verifyToken(token).subscribe(\r\n      (data) => {\r\n        //console.log(data)\r\n        // this.router.navigateByUrl(\"client/accueil/registered\");\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.router.navigateByUrl(\"accueil\");\r\n        return false;\r\n      }\r\n    )\r\n    return true\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}