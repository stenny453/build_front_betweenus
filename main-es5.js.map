{"version":3,"sources":["webpack:///src/app/services/between-shop/between-shop.service.ts","webpack:///src/app/components/live/tips/tips.component.html","webpack:///src/app/components/live/tips/tips.component.ts","webpack:///src/app/layouts/scrolltop/scrolltop.component.ts","webpack:///src/app/layouts/scrolltop/scrolltop.component.html","webpack:///src/app/modals/confirm-logout/confirm-logout/confirm-logout.component.html","webpack:///src/app/modals/confirm-logout/confirm-logout/confirm-logout.component.ts","webpack:///ws (ignored)","webpack:///src/app/modals/forgot-password/forgot-password.component.ts","webpack:///src/app/modals/forgot-password/forgot-password.component.html","webpack:///src/app/layouts/header/disconnected/disconnected.component.ts","webpack:///src/app/layouts/header/disconnected/disconnected.component.html","webpack:///src/app/components/modele/dashboard/information/information.component.ts","webpack:///src/app/components/modele/dashboard/information/information.component.html","webpack:///src/app/components/forgot/send-forgot-model/send-forgot-model.component.html","webpack:///src/app/components/forgot/send-forgot-model/send-forgot-model.component.ts","webpack:///src/app/components/live/stat-tips/stat-tips.component.html","webpack:///src/app/components/live/stat-tips/stat-tips.component.ts","webpack:///src/app/animation.ts","webpack:///src/app/components/modele/dashboard/setting/setting.component.ts","webpack:///src/app/components/modele/dashboard/setting/setting.component.html","webpack:///src/app/components/live/album-live/album-live.component.ts","webpack:///src/app/components/live/album-live/album-live.component.html","webpack:///src/app/components/modele/albums/albums.component.html","webpack:///src/app/components/modele/albums/albums.component.ts","webpack:///src/app/modals/pack-modal/pack-modal.component.html","webpack:///src/app/modals/pack-modal/pack-modal.component.ts","webpack:///src/app/services/socket/socket.service.ts","webpack:///src/app/components/modele/dashboard/gain/gain.component.ts","webpack:///src/app/components/modele/dashboard/gain/gain.component.html","webpack:///src/app/components/client/between-shop/between-shop.component.html","webpack:///src/app/components/client/between-shop/between-shop.component.ts","webpack:///src/app/components/forgot/send-forgot/send-forgot.component.html","webpack:///src/app/components/forgot/send-forgot/send-forgot.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/detail-model-admin/detail-model-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/detail-model-admin/detail-model-admin.component.html","webpack:///src/app/services/header/header.service.ts","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-left-dashboard-admin/main-left-dashboard-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-left-dashboard-admin/main-left-dashboard-admin.component.ts","webpack:///src/app/components/live/topbar-model/topbar-model.component.ts","webpack:///src/app/components/live/topbar-model/topbar-model.component.html","webpack:///src/app/components/modele/dashboard/dashboard.component.ts","webpack:///src/app/components/modele/dashboard/dashboard.component.html","webpack:///src/app/services/auth/auth.service.ts","webpack:///src/app/interfaces/timer.interface.ts","webpack:///src/app/modals/central-pay/central-pay.component.ts","webpack:///src/app/modals/central-pay/central-pay.component.html","webpack:///src/app/components/modele/dashboard/connexion/connexion.component.ts","webpack:///src/app/components/modele/dashboard/connexion/connexion.component.html","webpack:///src/app/components/modele/setting-tips/setting-tips.component.html","webpack:///src/app/components/modele/setting-tips/setting-tips.component.ts","webpack:///src/app/components/modele/live-vip-model/live-vip-model.component.ts","webpack:///src/app/components/modele/live-vip-model/live-vip-model.component.html","webpack:///src/environments/environment.ts","webpack:///src/app/components/live/live-private/live-private-cam/live-private-cam.component.ts","webpack:///src/app/components/live/live-private/live-private-cam/live-private-cam.component.html","webpack:///src/app/components/modele/dashboard/solde/solde.component.ts","webpack:///src/app/components/modele/dashboard/solde/solde.component.html","webpack:///src/app/components/forgot/new-password/new-password.component.html","webpack:///src/app/components/forgot/new-password/new-password.component.ts","webpack:///src/app/components/live/live-free-saloon/live-free-saloon.component.ts","webpack:///src/app/components/live/live-free-saloon/live-free-saloon.component.html","webpack:///src/app/components/client/out/out.component.ts","webpack:///src/app/components/client/out/out.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-right-dashboard-admin/main-right-dashboard-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-right-dashboard-admin/main-right-dashboard-admin.component.html","webpack:///src/app/components/modele/profil-model/profil-model.component.html","webpack:///src/app/components/modele/profil-model/profil-model.component.ts","webpack:///src/app/components/live/live-vip/live-vip-stat/live-vip-stat.component.html","webpack:///src/app/components/live/live-vip/live-vip-stat/live-vip-stat.component.ts","webpack:///src/app/components/home/home-disconnected/home-live.component.ts","webpack:///src/app/components/home/home-disconnected/home-live.component.html","webpack:///src/app/utils/slide.ts","webpack:///src/app/modals/popup-info/popup-info.component.html","webpack:///src/app/modals/popup-info/popup-info.component.ts","webpack:///src/app/components/client/contact/contact.component.html","webpack:///src/app/components/client/contact/contact.component.ts","webpack:///src/app/services/roomTips/room-tips.service.ts","webpack:///src/app/components/page-not-found/page-not-found.component.ts","webpack:///src/app/components/page-not-found/page-not-found.component.html","webpack:///src/app/services/banish/banish.service.ts","webpack:///src/app/components/admin/connected/infobar-admin/infobar-admin.component.ts","webpack:///src/app/components/admin/connected/infobar-admin/infobar-admin.component.html","webpack:///src/app/components/live/live-vip/live-vip.component.ts","webpack:///src/app/components/live/live-vip/live-vip.component.html","webpack:///src/app/modals/profil-model-detail/profil-model-detail.component.ts","webpack:///src/app/modals/profil-model-detail/profil-model-detail.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/demande-clients-admin/demande-clients-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/demande-clients-admin/demande-clients-admin.component.ts","webpack:///src/app/services/timer/timer.service.ts","webpack:///src/app/layouts/header/connected-model/connected-model.component.ts","webpack:///src/app/layouts/header/connected-model/connected-model.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/list-models-admin/list-models-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/list-models-admin/list-models-admin.component.ts","webpack:///src/app/components/modele/live-chat-model/try-webcam/try-webcam.component.ts","webpack:///src/app/components/modele/live-chat-model/try-webcam/try-webcam.component.html","webpack:///src/app/layouts/header/header.component.html","webpack:///src/app/layouts/header/header.component.ts","webpack:///src/app/components/client/profil/password/password.component.html","webpack:///src/app/components/client/profil/password/password.component.ts","webpack:///src/app/components/client/buy-credit/buy-credit.component.html","webpack:///src/app/components/client/buy-credit/buy-credit.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/dashboard-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/dashboard-admin.component.html","webpack:///src/app/components/modele/dashboard/password-modele/password-modele.component.html","webpack:///src/app/components/modele/dashboard/password-modele/password-modele.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/administration/paiement-admin/paiement-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/administration/paiement-admin/paiement-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/ask-models-admin/ask-models-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/ask-models-admin/ask-models-admin.component.ts","webpack:///src/app/components/modele/live-private-model/live-private-model.component.ts","webpack:///src/app/components/modele/live-private-model/live-private-model.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/services/encryption/encryption.service.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/bloquer-models-admin/bloquer-models-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/bloquer-models-admin/bloquer-models-admin.component.ts","webpack:///src/app/components/live/live-free/live-free-chat/live-free-chat.component.ts","webpack:///src/app/components/live/live-free/live-free-chat/live-free-chat.component.html","webpack:///src/app/components/modele/inscription-model/inscription-model.component.html","webpack:///src/app/components/modele/inscription-model/inscription-model.component.ts","webpack:///src/app/services/roomVip/room-vip.service.ts","webpack:///src/app/services/admin/admin.service.ts","webpack:///src/app/interfaces/info-chat.interface.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/commissions-model-admin/commissions-model-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/commissions-model-admin/commissions-model-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/statistique-models-admin/statistique-models-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/statistique-models-admin/statistique-models-admin.component.html","webpack:///src/app/components/modele/live-tips-clients-model/live-tips-clients-model.component.ts","webpack:///src/app/components/modele/live-tips-clients-model/live-tips-clients-model.component.html","webpack:///src/app/components/modele/shim.js","webpack:///src/app/components/client/reactivate-account/reactivate-account.component.ts","webpack:///src/app/components/client/reactivate-account/reactivate-account.component.html","webpack:///src/app/components/client/signin/signin.component.html","webpack:///src/app/components/client/signin/signin.component.ts","webpack:///node_modules/peerjs/dist sync","webpack:///src/app/services/profil/profil.service.ts","webpack:///src/app/services/model/model.service.ts","webpack:///src/app/pipes/safe.pipe.ts","webpack:///src/app/components/paiement/paiement.component.ts","webpack:///src/app/services/auth/auth.interceptor.ts","webpack:///src/app/components/admin/connected/dashboard-admin/administration/message-admin/message-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/administration/message-admin/message-admin.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/services/commission/commission.service.ts","webpack:///src/app/components/admin/connected/dashboard-admin/list-clients-admin/list-clients-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/list-clients-admin/list-clients-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/suivi-models-admin/suivi-models-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/suivi-models-admin/suivi-models-admin.component.html","webpack:///src/app/services/client/client.service.ts","webpack:///src/app/components/admin/connected/dashboard-admin/model/detail-model-admin/motif-reject/motif-reject.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/model/detail-model-admin/motif-reject/motif-reject.component.ts","webpack:///src/app/pipes/sanitize/sanitize.pipe.ts","webpack:///src/app/services/roomPrivate/room-private.service.ts","webpack:///src/app/services/popup/popup.service.ts","webpack:///src/app/layouts/header/connected/connected.component.ts","webpack:///src/app/layouts/header/connected/connected.component.html","webpack:///src/app/services/subscribe/subscribe.service.ts","webpack:///src/app/modals/suivi-pay-model/suivi-pay-model.component.ts","webpack:///src/app/modals/suivi-pay-model/suivi-pay-model.component.html","webpack:///src/app/layouts/footer/footer.component.ts","webpack:///src/app/layouts/footer/footer.component.html","webpack:///src/app/services/chat/chat.service.ts","webpack:///src/app/components/modele/live-tips-clients-model/stat-tips-model/stat-tips-model.component.ts","webpack:///src/app/components/modele/live-tips-clients-model/stat-tips-model/stat-tips-model.component.html","webpack:///src/app/services/room/room.service.ts","webpack:///src/app/components/modele/dashboard/credit/pack-bronze/pack-bronze.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-bronze/pack-bronze.component.html","webpack:///src/app/components/modele/live-free-saloon-model/live-free-saloon-model.component.ts","webpack:///src/app/components/modele/live-free-saloon-model/live-free-saloon-model.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/administration/list-paiement-admin/list-paiement-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/administration/list-paiement-admin/list-paiement-admin.component.ts","webpack:///src/app/components/client/signup/signup.component.html","webpack:///src/app/components/client/signup/signup.component.ts","webpack:///src/app/components/admin/connected/leftbar-admin/leftbar-admin.component.ts","webpack:///src/app/components/admin/connected/leftbar-admin/leftbar-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/statistique-clients-admin/statistique-clients-admin.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/statistique-clients-admin/statistique-clients-admin.component.html","webpack:///src/app/components/modele/live-chat-model/live-chat-model.component.html","webpack:///src/app/components/modele/live-chat-model/live-chat-model.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-argent/pack-argent.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-argent/pack-argent.component.html","webpack:///src/app/services/album/album.service.ts","webpack:///src/app/components/live/live-tips-clients/live-tips-clients.component.ts","webpack:///src/app/components/live/live-tips-clients/live-tips-clients.component.html","webpack:///src/app/services/credit/credit.service.ts","webpack:///src/app/components/modele/dashboard/commission/commission.component.html","webpack:///src/app/components/modele/dashboard/commission/commission.component.ts","webpack:///src/app/services/notification/notification.service.ts","webpack:///src/app/components/modele/connexion-model/connexion-model.component.html","webpack:///src/app/components/modele/connexion-model/connexion-model.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-dashboard-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/main-dashboard-admin/main-dashboard-admin.component.ts","webpack:///src/app/components/admin/connected/topbar-admin/topbar-admin.component.html","webpack:///src/app/components/admin/connected/topbar-admin/topbar-admin.component.ts","webpack:///src/app/modals/popup-image/popup-image.component.ts","webpack:///src/app/modals/popup-image/popup-image.component.html","webpack:///src/app/components/client/confirm-email/confirm-email.component.ts","webpack:///src/app/components/client/confirm-email/confirm-email.component.html","webpack:///src/app/components/client/albums-model/albums-model.component.ts","webpack:///src/app/components/client/albums-model/albums-model.component.html","webpack:///src/app/components/modele/dashboard/credit/credit.component.html","webpack:///src/app/components/modele/dashboard/credit/credit.component.ts","webpack:///src/app/services/log/log.service.ts","webpack:///src/app/components/live/live-private/live-private.component.ts","webpack:///src/app/components/live/live-private/live-private.component.html","webpack:///src/app/services/tips/tips.service.ts","webpack:///src/app/components/client/enter/enter.component.ts","webpack:///src/app/components/client/enter/enter.component.html","webpack:///src/app/components/live/gauge-bar/gauge-bar.component.html","webpack:///src/app/components/live/gauge-bar/gauge-bar.component.ts","webpack:///src/app/components/live/live-free/live-free.component.html","webpack:///src/app/components/live/live-free/live-free.component.ts","webpack:///src/app/interfaces/get-model.interface.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/components/client/profil/profil.component.ts","webpack:///src/app/components/client/profil/profil.component.html","webpack:///src/app/components/client/profil/delete/delete.component.html","webpack:///src/app/components/client/profil/delete/delete.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/bloquer-clients-admin/bloquer-clients-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/bloquer-clients-admin/bloquer-clients-admin.component.ts","webpack:///src/app/services/paiement/paiement.service.ts","webpack:///src/app/components/live/topbar/topbar.component.html","webpack:///src/app/components/live/topbar/topbar.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-or/pack-or.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-or/pack-or.component.html","webpack:///src/app/components/home/home-connected/home-client.component.html","webpack:///src/app/components/home/home-connected/home-client.component.ts","webpack:///src/app/components/admin/connected/dashboard-admin/administration/setting-admin/setting-admin.component.html","webpack:///src/app/components/admin/connected/dashboard-admin/administration/setting-admin/setting-admin.component.ts","webpack:///src/app/components/admin/connexion-admin/connexion-admin.component.html","webpack:///src/app/components/admin/connexion-admin/connexion-admin.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-bienvenue/pack-bienvenue.component.ts","webpack:///src/app/components/modele/dashboard/credit/pack-bienvenue/pack-bienvenue.component.html","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["httpOptions","headers","BetweenShopService","http","endpoint","symbol","price","data","post","get","TipsComponent","tipsService","betweenShopService","notificationService","tipsNormaux","tipsVIP","currentSymbole","currentCredit","currentDesignation","creditSelected","isVIPItem","newItemEvent","closeItemEvent","listItem","getMyItems","getItems","subscribe","forEach","tips","item","symbole","push","error","console","log","index","findIndex","element","credit","designation","vip","isItem","infoMsg","src","emit","closeTips","ScrolltopComponent","hide","window","scroll","event","scrollTop","show","body","animate","ConfirmLogoutComponent","dialogRef","authService","socketService","store","roomService","logService","clientService","exclamation","password","empty","loading","action","close","createLog","room","leave","parseInt","remove","leaveRoom","logoutUser","set","lastRoom","validate","ForgotPasswordComponent","DisconnectedComponent","headerSrv","animationState","connect","showContact","active","defaultLogoBul","logoBUL","defaultLogoCP","logoCP","actif","divName","toggleShowDiv","toggleContact","InformationComponent","profilService","information","id","like","dislike","social_network","sex_orientation","description","getInfo","updateProfil","success","getProfil","oldInfo","restoreInfo","saveInfo","SendForgotModelComponent","modelService","email","forgot","message","errorMsg","send","StatTipsComponent","SlideInOutAnimation","SettingComponent","profileService","colorSwitch","checkedSound","checkedMail","checkedMessage","setting","sound_message","sound_notification","mail_notification","formData","FormData","info","pseudo","path_soft","cin","date_birth","fullName","photoImg","firstname","lastname","originalInfo","originalSetting","fileInput","file","target","files","mimeType","reader","FileReader","type","readAsDataURL","onload","result","append","name","updatePhoto","events","UploadProgress","Response","path","changePseudo","access_token","saveToken","then","updateSetting","toSend","updateInfo","switchSound","switchMail","switchMessage","restoreSetting","saveSetting","lightbox","AlbumLiveComponent","gallery","albums","showed","imageData","init","items","map","url","thumb","lightboxRef","ref","setConfig","imageSize","Cover","thumbPosition","Top","load","album","length","AlbumsComponent","route","albumService","dialog","defaultImage","bg","profil","photoAdd","bannier","totalAlbum","sectionAlbum","page","contextAlbum","currentAlbum","fileData","count","param","snapshot","queryParamMap","initAlbum","countAlbum","getCount","free","debut","getAlbums","context","verified","textAlbum","fetchAlbum","marge","Math","floor","mime","document","querySelector","scrollIntoView","verifyMimeType","failure","fileUploadProgress","uploadAlbumModel","round","loaded","total","paths","addAlbums","open","width","afterClosed","ngOnInit","take","fileChoose","profilChoose","PackModalComponent","creditService","paiementService","subscribeService","currentOnglet","currentSelected","montantSelected","currentPack","clientId","creditId","listPack","packBienvenue","packBronze","packArgent","packOr","designationPack","subscription","subscribed","expired","rest","getMyCredit","isSubscribed","getMyInfos","verify","montant","buyPack","verifyPack","openCentralPayModal","openCentralPay","breakdowns","paymentRequestId","point","value","unsubscribe","SocketService","socket","roomPrivateService","roomTipsService","audio","Audio","play","idRoom","live_selected","modelId","eventName","subscriber","on","next","pseudoClient","idClient","clientPseudo","role","clientPeer","updateActif","roomId","modelPseudo","special","peerId","isAudio","isVideo","stream","mini","bronze","argent","or","title","tarif","GainComponent","roomVIPService","updating","gain","useDefaultGridStyle","options","gridStyle","stroke","lineDash","axes","update","getData","startUpdates","setTimeout","autoSize","series","xKey","yKey","yName","marker","size","fill","color","position","nice","tick","label","format","background","visible","tooltip","enabled","navigator","text","legend","getInfoModel","getGainVip","getGainPrivate","getGain","gainTmp","date","getDate","createdAt","gainVIP","gainPrivate","insertGainVIP","insertGainPrivate","year","substring","month","day","exist","i","BetweenShopComponent","coinImg","client","promo","freeCash","got","addItems","montantVIP","creditGain","buyCreditInShop","SendForgotComponent","DetailModelAdminComponent","router","adminService","path_recto","path_verso","path_cin","state","params","navigate","getInfos","getInfosModel","accepted","acceptInscriptionModel","HeaderService","hidded","unselected","MainLeftDashboardAdminComponent","demandes","clients","modeles","countModelInscription","countModelDesactivation","countModelSuppression","countClientActif","countModelActif","countNewLastClients","countNewLastModels","countRoomPrivate","countRoomVIP","getChiffreAffaire","countModelState","newLastClients","newLastModels","countRoom","TopbarModelComponent","popupService","hour","minute","second","user","strech","microOn","microOff","mute","video","noVideo","volume","soundOff","add","isSound","isStreched","isMicro","currentMinute","countUser","showTools","startMinuteur","material","setInterval","leaved","reinit","DashboardComponent","pageId","menu","slided","activate","addClass","removeClass","AuthService","authentified","paying","who","authentication","reportProgress","observe","token","newPassword","put","authToken","removeToken","location","href","TypeTimer","CentralPayComponent","formBuilder","submitted","currentCard","oldCount","payForm","group","firstName","required","lastName","card","pattern","mm","yyyy","cvv","listen","object","transactionStatus","pay","bankMessage","controls","charCode","which","keyCode","lastIndex","word","long","saveDetailsBuyPack","buyCreditClient","ConnexionComponent","history","lundi","mardi","mercredi","jeudi","vendredi","samedi","dimanche","yKeys","yNames","grouped","fills","strokeWidth","formatter","keys","SettingTipsComponent","incomplete","invalid","settingBronze","settingArgent","settingOr","getLastDescriptions","descriptions","split","autocompleteField","countBronze","countArgent","countOr","isPrice","convertCreditToMoney","isEmpty","isInvalid","last","tipsFusion","descriptionsFusion","LiveVipModelComponent","_platform","chatService","roomVipService","timerService","banishService","imgPoster","thrombone","dot","toggleDot","showInfoRoom","img","chatColor","creditModel","idCreditModel","winCredit","timer","fail","stat","id_show","type_show","tarif_show","time_show","time_passed","hour_passed","minute_passed","second_passed","actualCredit","totalCredit","messages","joinSub","leaveSub","messageSub","peerSub","toggleAudioSub","toggleVideoSub","showEmojiPicker","sets","showVideo","showAudio","peerList","hasGotStreamClient","getPeerId","peer","newPeerIdModel","call","answer","lazyStream","remoteStream","streamRemoteVideo","currentPeer","peerConnection","verifySound","ready","initSettingVideoModel","nativeElement","autoplay","playsInline","muted","remote_video","initLiveVideo","VerifyHasGotStreamClient","onStop","clearInterval","profile","status","getInfoRoom","getCredit","getRoomModel","getMessages","initSocket","getInfoClient","initTimer","getCostShow","joinedRoom","joinRoom","joinVip","soundIncome","soundOutcome","peerIdShare","connectWithPeer","toggleAudioClientStream","toggleVideoClientStream","prop","filterVal","filterFull","css","type_source","id_source","type_chat","code_couleur","msg","sendMessage","postMessage","getMessage","leaveTimer","clearTimer","leaveVip","updateStatus","beginTimerModel","VIP","created","updated","updatedAt","convertTime","toString","toUpperCase","beginTimer","delay","Date","updateTimer","onStart","mediaDevices","getUserMedia","ms","srcObject","pause","getVideoTracks","stop","callPeer","includes","_video","track","toggleVideo","getAudioTracks","toggleAudio","banishClient","emoji","toggleDots","toggleShowInfoRoom","liveOut","banish","focus","toggleEmojiPicker","environment","production","CRYPT_PSEUDO","CRYPT_PASS","CRYPT_PSEUDO_MODEL","CRYPT_PASS_MODEL","LivePrivateCamComponent","iterableDiffers","clientSelected","idSelected","currentPseudo","contextMenuPosition","x","y","isVisible","iterableDiffer","find","create","offsetParent","trigger","canSelect","changes","diff","streams","theId","myId","currentId","getClient","preventDefault","clientX","clientY","contextMenu","menuData","focusFirstItem","openMenu","streamId","undefined","SoldeComponent","solde","height","detailPay","NewPasswordComponent","activatedRoute","confirmPassword","errorToken","queryParams","verifyToken","getCredential","reinitPassword","saveLog","createRoom","LiveFreeSaloonComponent","clientCredit","indisponible","choiceUs","modelLeaveSub","modelPassedVipSub","invitationVipSub","newPeerSub","banishSub","updateChoiceUsSub","hidedDetailShow","showTips","hasGotStreamModel","paramMap","errorRoom","getModel","initColor","VerifyHasGotStreamModel","creditTimer","askModelPeerId","getMyInfo","isBanished","ok","authorized","navigateByUrl","roomIdString","storeLastChat","obsolete","toggleAudioModelStream","toggleVideoModelStream","sendClientPeerId","relaunchPeerId","getColor","deleteLastChat","getTimer","aucunCredit","creditInsuffisant","timerId","showCredit","showSecond","showType","type_album","getModelAlbums","path_album","buyGift","creditClient","sendTips","giftSymbol","giftDesign","giftSource","toggleDetailShow","buy","toggleTips","OutComponent","MainRightDashboardAdminComponent","years","currentSelect","clientsOrig","modelesOrig","isIntegral","currentYear","getFullYear","currentMonth","labelsShow","valueUser","labelUser","initYears","getInscriptionsClient","getInscriptionsModel","getAverageClient","initial","getStatInscriptionModel","tmp","inscrit","formatDate","getStatInscriptionClient","search","filter","val","duree","convertToTime","countLoop","rang","selectMonth","selectYear","integral","changeSelection","ProfilModelComponent","camera","totalAlbumPrivate","pagePrivate","currentAlbumPrivate","totalAlbumVIP","pageVIP","currentAlbumVIP","totalAlbumFree","pageFree","currentAlbumFree","model","age","date_last_connection","horaire","arrowLeft","arrowRight","getStatus","year_birth","full","section","toLeft","toRight","LiveVipStatComponent","stats1","stats2","choiceUsDetail","getRoomInfo","found","updateChoiceUs","filledChoiceUs","HomeLiveComponent","modelSrv","titleService","metaTagService","mainModel","allLive","other","angular","bootstrap","setTitle","addTags","content","scheme","charset","updateTag","getLive","getNoLive","random","ANIMATION_SPEED","routeTransitionAnimations","optional","transform","PopupInfoComponent","isCondition","ContactComponent","loginForm","reset","RoomTipsService","joined","type_room","PageNotFoundComponent","BanishService","InfobarAdminComponent","icon","help","helps","LiveVipComponent","getTracks","ProfilModelDetailComponent","modelProfil","modelAge","getProfilModel","seeModel","getCreditClient","getSpecificProfil","navigateTo","liveTips","debiterRoom","clientCreditId","launch","goToAlbums","DemandeClientsAdminComponent","four","deactivate","bloqued","debloquer","etat","askTxt","TimerService","step","dayCreated","dayUpdated","hourCreated","hourUpdated","minCreated","minUpdated","secCreated","secUpdated","time","inFloat","inInteger","ConnectedModelComponent","authSrv","chat","settings","showHelp","goToChat","logout","hoverHelp","outHelp","ListModelsAdminComponent","range","selected","selectedStatus","topPage","thirdlyPage","list_pagination","countClient","listClients","res","countModels","initPagination","getModels","deleteModel","reverse","blockModel","deactivateModel","activateModel","listStatusClients","getStatusModel","select","selectStatus","input_search","TryWebcamComponent","HeaderComponent","isConnected","isClickable","isModel","isActif","connected","clickable","PasswordComponent","errorPassword","mustMatch","controlName","matchControlName","formGroup","control","matchingControl","errors","setErrors","passwordForm","oldPassword","validators","passwords","changePassword","BuyCreditComponent","futureDate","setDate","startDate","date1","date2","timeMilli","getTime","daysBetweensDates","ceil","DashboardAdminComponent","PasswordModeleComponent","old","confirm","changeForm","PaiementAdminComponent","creditSent","list","getModelsActif","isNaN","payModel","savePay","AskModelsAdminComponent","countRequestsModel","getRequestsModel","acceptRequestModel","LivePrivateModelComponent","isToggledTool","clientStream","inviteVIPSub","askModelStreamSub","statVIP","listInvitation","getLastSaloonFree","lastTypeSaloon","getActif","sendCurrentSaloon","getActifs","callClient","removeStream","ansModelPeerId","addInvitationToVIP","answerModelStream","indexOf","splice","closeInvitation","liveVIP","responseNegativeInvitationModelToVIP","roomVIP","askLeave","responsePositiveInvitationModelToVIP","leavePrivate","PRIVATE","getCostVIPShow","beginCountCredit","nbSecond","choice","toggleTool","chooseClient","changeSalonLibre","AppComponent","unselect","EncryptionService","key","Utf8","parse","iv","enString","encrypted","encrypt","JSON","stringify","keySize","mode","CBC","padding","Pkcs7","decString","decrypted","decrypt","BloquerModelsAdminComponent","countModelsBlocked","getModelsBlocked","prevPage","nextPage","LiveFreeChatComponent","listColor","top","msgCreated","lastStoreDate","getLastChat","lastDate","comparedDate","InscriptionModelComponent","emailExist","pseudoExist","fileRecto","errorRecto","fileVerso","errorVerso","filePhoto","errorPhoto","fileSoft","errorSoft","signForm","day_birth","month_birth","passwordConfirm","initDay","initYear","click","preview","previewRecto","nameRecto","previewVerso","nameVerso","previewPhoto","namePhoto","previewSoft","nameSoft","uploadImagesModel","registerModel","createSetting","createCredit","createProfil","err","selectPhoto","register","RoomVipService","AdminService","motif","flux","idPay","idModel","pseudoModel","emailModel","lastPayement","objet","idTaboo","TypeInfoChat","CommissionsModelAdminComponent","commissionService","commissions","getAllCommissions","StatistiqueModelsAdminComponent","models","original","originModels","getInscriptions","inscription","suppression","getSuppression","getStatSuppressionModel","resume","LiveTipsClientsModelComponent","newTipsSub","Number","getActifRoom","getStatRoom","leaveTips","TIPS","parcelRequire","ReactivateAccountComponent","errorMessageToken","successMessageToken","confirmToken","reactivateAccount","SigninComponent","encryptionService","checked","pseudoStorage","passStorage","errorAuth","isRemembered","localStorage","setItem","getItem","pseudoCrypted","encryptUsingAES256","passCrypted","decryptUsingAES256","replace","setValue","loginClient","isRemember","remember","login","webpackEmptyContext","req","e","Error","code","resolve","module","exports","ProfilService","patch","ModelService","live","offline","slice","userId","SafePipe","sanitizer","bypassSecurityTrustResourceUrl","PaiementComponent","AuthInterceptor","getToken","credentialPay","header","clone","setHeaders","Authorization","handle","pipe","statusCode","MessageAdminComponent","messageForm","sendMail","config","customNotifierOptions","horizontal","distance","vertical","gap","theme","behaviour","autoHide","onClick","onMouseover","showDismissButton","stacking","animations","preset","speed","easing","offset","shift","overlap","AppModule","provide","useClass","multi","useValue","withConfig","warnOnNgModelWithFormControl","forRoot","CommissionService","ListClientsAdminComponent","countClients","getClients","deleteClient","blockClient","deactivateClient","activateClient","SuiviModelsAdminComponent","paymentService","today","toLocaleDateString","dayToday","monthToday","getMonth","yearToday","origModels","filterPseudo","getCreditActifsModels","nextPayment","lastPayment","payCredit","soldeCredit","payCreditModel","successMsg","calculateDay","calculateMonth","nextPay","theDay","theMonth","filterModel","ClientService","linkRoom","currentDate","lastChatRoom","lastChatRoomEntry","MotifRejectComponent","SanitizePipe","_sanitizer","bypassSecurityTrustHtml","RoomPrivateService","PopupService","ConnectedComponent","lastChat","SubscribeService","SuiviPayModelComponent","getSuiviPay","FooterComponent","ChatService","StatTipsModelComponent","RoomService","PackBronzeComponent","LiveFreeSaloonModelComponent","ListPaiementAdminComponent","paiements","countPay","listPay","getListPaiement","deletePaiement","newPay","SignupComponent","registerClient","createCreditClient","LeftbarAdminComponent","dashboard","toggledMenu","under","toggleMenu","out","StatistiqueClientsAdminComponent","inscriptions","LiveChatModelComponent","invitePrivateSub","statPrivate","infos","selected_orig","showMessage","join","getCostPrivateShow","joinChat","leaveChat","invitationPrivate","responseInvitationModelToPrivate","launchLive","initInfoChat","toISOString","invitedPrivate","askLeaveTips","askLeaveVIP","PackArgentComponent","AlbumService","albumPrivate","albumVIP","albumFree","begin","end","LiveTipsClientsComponent","invitedVIP","passedVIP","actifSub","responsePositiveInvitationVIPSub","responseNegativeInvitationVIPSub","answerModelStreamSub","isAudioModel","isVideoModel","joinTips","reload","addOtherClientstreamRemoteVideo","updateGain","newTips","buyTips","CreditService","cout","affaire","CommissionComponent","commissionsPrimes","palier","commissionCredit","commissionEuro","primeCredit","primeEuro","star","getCommissions","verifyCommission","palierCredit","used","NotificationService","_snackbar","ngxNotificationMsgService","SUCCESS","displayIcon","closeable","direction","TOP_RIGHT","displayProgressBar","INFO","FAILURE","NONE","duration","horizontalPosition","verticalPosition","panelClass","BOTTOM_RIGHT","ConnexionModelComponent","loginModel","MainDashboardAdminComponent","lastShowPrivate","lastShowVIP","lastShowTIPS","lastShowChoiceUS","valueShow","topModels","currentShowLabel","labelShow","getLastShowPrivate","getLastShowVIP","getLastShowTips","getLastShowChoiceUS","getTopModels","get10LastShowPrivate","getDuree","get10LastShowTips","get10LastShowVIP","get10LastShowChoiceUS","getTop10Model","showCreated","privateRooms","vipRooms","lastShow","hourStr","minStr","secStr","changeSelectionShow","TopbarAdminComponent","icon_notification","value_notification","getInfosAdmin","PopupImageComponent","deleteAlbum","ConfirmEmailComponent","AlbumsModelComponent","profilModel","actualStatus","albumsFree","albumsPrivate","albumsVIP","hasPaid","verifyPayment","verifySubscription","CreditComponent","LogService","LivePrivateComponent","callPeerClient","verifyExistClient","askCurrentSaloon","joinPrivate","clientInviteModelToVIP","getInfoRoomVIP","actifs","invitationToVIP","TipsService","EnterComponent","logoDark","alert","Promise","visited","GaugeBarComponent","vide","bronze1","bronze2","bronze3","bronze4","bronze5","argent1","argent2","argent3","argent4","argent5","or1","or2","or3","or4","or5","containInterval","LiveFreeComponent","passedToPrivate","passedToTips","modelPassedPrivateSub","modelLeavedSub","responseInvitationPrivateSub","acceptedInvitationToPrivate","costShowPrivate","costShowVip","acceptedVIP","livePrivate","acceptedInvitation","invalideRoom","clientInviteModelToPrivate","routes","component","loadChildren","m","ClientRoutingModule","ModelRoutingModule","AdminRoutingModule","AppRoutingModule","scrollPositionRestoration","relativeLinkResolution","ProfilComponent","sound","autoRecharge","disabled","isModifing","showExclam","clientEmail","getSetting","getSettingClient","newPseudo","changeSound","recharge","tryChangeEmail","modifing","openDialogPassword","deleteAccount","DeleteComponent","onNoClick","deactivateAccount","BloquerClientsAdminComponent","countClientsBlocked","getClientsBlocked","PaiementService","money","toFixed","amount","TopbarComponent","PackOrComponent","HomeClientComponent","image","totalInLive","paginationLive","photoLive","indiceLive","totalInChat","paginationChat","photoChat","indiceChat","totalOffline","paginationOffline","photoOffline","indiceOffline","OFFLINE","INLINE","LIVE","getTotal","margeLive","margeChat","margeOffline","initPhoto","contxt","indice","getList","newStatus","prev","SettingAdminComponent","imgDelete","changedProfil","getTaboos","getTaboo","listTaboo","deleteTaboo","addTaboo","updateInfoAdmin","changePasswordAdmin","uploadProfil","ConnexionAdminComponent","PackBienvenueComponent","bootstrapModule","webpackEmptyAsyncContext"],"mappings":"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F;;AACF;;;;AA7BsB;;AAAA;;AAiBI;;AAAA;;;;;;;;;;;;;;;;;;;;;AC9B1B;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA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E;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;AACF;;AACF;;;;;;AAvBY;;AAAA;;AASA;;AAAA;;AASF;;AAAA;;;;;;AASN;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;;;;;AArBQ;;AAAA;;AASA;;AAAA;;AASF;;AAAA;;;;;;AAxBV;;AACE;;AACE;;AA0BF;;AACF;;;;;;AA3BkD;;AAAA;;;;;;AA+B9C;;AACE;;AACE;;AACE;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;;;;;AArBQ;;AAAA;;AASA;;AAAA;;AASF;;AAAA;;;;;;AAxBV;;AACE;;AACE;;AA0BF;;AACF;;;;;;AA3BkD;;AAAA;;;;;;AAiC1C;;AACE;;AACF;;;;;;;;;;;;AAJJ;;AACE;;AACE;;AAGA;;AACE;;AACE;;AACF;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACA;;AACE;;AACF;;AACF;;AACA;;AACE;;AACE;;AACF;;AACF;;AACA;;AACE;;AACF;;AACF;;AACF;;;;;;AA3BoB;;AAAA;;AACc;;AAAA;;AAK1B;;AAAA;;AASA;;AAAA;;AASF;;AAAA;;;;;;AA3BV;;AACE;;AACE;;AA6BF;;AACF;;;;;;AA9BkD;;AAAA;;;;UC3G3CwpC,e;AAgCX,mCAAc;AAAA;;AA/Bd,eAAArrB,KAAA,GAAQ,GAAR;AAEA,eAAA3b,WAAA,GAAsB,WAAtB;AAEA,eAAAI,aAAA,GAAsB;AACpB1N,kBAAM,EAAC,EADa;AACTyvC,gBAAI,EAAE,IADG;AACGlhC,mBAAO,EAAE,IADZ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","file":"main-es5.js","sourcesContent":["import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BetweenShopService {\r\n  endpoint = environment.endpoint;\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  addItems(symbol: string, price: number) {\r\n    const data = {\r\n      symbol,\r\n      price\r\n    }\r\n    return this.http.post(`${this.endpoint}/between-shop`, data, httpOptions)\r\n  }\r\n\r\n  getItems(symbol?: string) {\r\n    if (!symbol) {\r\n      return this.http.get(`${this.endpoint}/between-shop`, httpOptions)\r\n    }\r\n    return this.http.get(`${this.endpoint}/between-shop/${symbol}`, httpOptions)\r\n  }\r\n}\r\n","<div class=\"contain_tips\" data-aos=\"zoom-in\">\r\n  <img src=\"./../../../../assets/icons/close.svg\" alt=\"close\" id=\"img_close_tips\"\r\n  (click)=\"closeTips()\">\r\n  <mat-tab-group mat-align-tabs=\"center\">\r\n    <mat-tab label=\"Tips Free\">\r\n      <p class=\"title\">\r\n        Gift :\r\n        <span *ngIf=\"currentSymbole\">\r\n          {{currentSymbole}} - {{currentCredit}}\r\n        </span>\r\n      </p>\r\n      <div class=\"container-fluid list_tips\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2\" *ngFor=\"let item of tipsNormaux\">\r\n            <img [src]=\"item.src\" alt=\"\" class=\"item_tips\"\r\n            (mouseover)=\"hoverItems(item.symbole, item.credit, item.designation, false)\"\r\n            (mouseout)=\"outItems()\"\r\n            (click)=\"selectItem()\"\r\n            data-aos=\"zoom-in\" data-aos-duration=\"1500\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n\r\n    <mat-tab label=\"Tips VIP\">\r\n      <p class=\"title\">\r\n        Gift :\r\n        <span *ngIf=\"currentSymbole\">\r\n          {{currentSymbole}} - {{currentCredit}}\r\n        </span>\r\n      </p>\r\n      <div class=\"container-fluid list_tips\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2\" *ngFor=\"let item of tipsVIP\">\r\n            <img [src]=\"item.src\" alt=\"\" class=\"item_tips\"\r\n            (mouseover)=\"hoverItems(item.symbole, item.credit, item.designation, true)\"\r\n            (mouseout)=\"outItems()\"\r\n            (click)=\"selectItem()\"\r\n            [ngClass]='{\"disabled\": !isItem(item.symbole)}'\r\n            data-aos=\"zoom-in\" data-aos-duration=\"1500\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n\r\n</div>\r\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport * as AOS from 'aos';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport { TipsService } from '../../../services/tips/tips.service';\r\nimport { BetweenShopService } from '../../../services/between-shop/between-shop.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-tips',\r\n  templateUrl: './tips.component.html',\r\n  styleUrls: ['./tips.component.scss']\r\n})\r\nexport class TipsComponent implements OnInit {\r\n  tipsNormaux: TIP[] = [];\r\n  tipsVIP: TIP[] = [];\r\n\r\n  currentSymbole: string = null;\r\n  currentCredit: string = null;\r\n  currentDesignation: string = null;\r\n  creditSelected: number = 0;\r\n  isVIPItem: boolean = false;\r\n\r\n  @Output() newItemEvent = new EventEmitter<TIP>();\r\n  @Output() closeItemEvent = new EventEmitter<any>();\r\n\r\n  listItem: any[] = [];\r\n\r\n  constructor(\r\n    public tipsService: TipsService,\r\n    public betweenShopService: BetweenShopService,\r\n    private notificationService: NotificationService\r\n  ) {\r\n    this.tipsNormaux = this.tipsService.tipsNormaux;\r\n    this.tipsVIP = this.tipsService.tipsVIP;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    this.getMyItems();\r\n  }\r\n\r\n  async getMyItems() {\r\n    this.betweenShopService.getItems().subscribe(\r\n      (data: any[]) => {\r\n        this.tipsVIP.forEach(\r\n          (tips) => {\r\n            data.forEach(\r\n              (item) => {\r\n                if (item.symbol === tips.symbole) {\r\n                  this.listItem.push(tips);\r\n                  // console.log(this.listItem);\r\n                }\r\n              }\r\n            )\r\n          }\r\n        )\r\n\r\n        this.listItem = data;\r\n        // console.log(this.listItem);\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  isItem(symbol: string) {\r\n    const index = this.listItem.findIndex(\r\n      (element) => element.symbol === symbol\r\n    )\r\n    return (index >= 0) ? true : false;\r\n  }\r\n\r\n  hoverItems(symbole: string, credit: number, designation: string, vip: boolean) {\r\n    this.currentSymbole = symbole;\r\n    this.currentCredit = credit + ' crédits';\r\n    this.currentDesignation = designation;\r\n    this.creditSelected = credit;\r\n    this.isVIPItem = vip;\r\n  }\r\n\r\n  outItems() {\r\n    this.currentSymbole = null;\r\n    this.currentCredit = null;\r\n    this.creditSelected = 0;\r\n  }\r\n\r\n\r\n  selectItem() {\r\n    if (!this.currentSymbole || !this.currentCredit) return false;\r\n\r\n    if (this.isVIPItem && !this.isItem(this.currentSymbole)) {\r\n      this.notificationService.infoMsg('Item à debloquer dans Between Shop');\r\n      return false;\r\n    }\r\n\r\n    const data: TIP = {\r\n      symbole: this.currentSymbole,\r\n      credit: this.creditSelected,\r\n      src: null,\r\n      designation: this.currentDesignation,\r\n      vip: this.isVIPItem\r\n    }\r\n    this.newItemEvent.emit(data);\r\n  }\r\n\r\n  closeTips() {\r\n    this.closeItemEvent.emit();\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n  selector: 'app-scrolltop',\r\n  templateUrl: './scrolltop.component.html',\r\n  styleUrls: ['./scrolltop.component.scss']\r\n})\r\nexport class ScrolltopComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    $(\"#pulse\").hide();\r\n    $(window).scroll(function (event) {\r\n      var scroll = $(window).scrollTop();\r\n      if (scroll && scroll > 200) {\r\n        $(\"#pulse\").show();\r\n      } else {\r\n        $(\"#pulse\").hide();\r\n      }\r\n  });\r\n  }\r\n\r\n  scroll() {\r\n    var body = $(\"html, body\");\r\n    body.animate({scrollTop:0},'swing', function() {\r\n    console.log(\"Finished animating\");\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"contain_scroll\">\r\n  <div id=\"pulse\" (click)=\"scroll()\">\r\n    <i class=\"fa fa-arrow-up\"></i>\r\n  </div>\r\n</div>\r\n","<div class=\"contain_pass\">\r\n  <h2 mat-dialog-title>Déconnexion</h2>\r\n  <mat-dialog-content>\r\n    <div class=\"content_text\">\r\n      <!-- <div class=\"img\">\r\n        <img [src]=\"exclamation\" alt=\"\" style=\"max-width: 100%;\">\r\n      </div> -->\r\n      <div class=\"text_warning\">\r\n        Souhaitez-vous vous déconnecter de votre compte ?\r\n      </div>\r\n    </div>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Annuler</button>\r\n    <button class=\"btn_valid\" (click)=\"validate()\">Confirmer</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  </div>\r\n","import { AuthService } from 'src/app/services/auth/auth.service';\r\nimport {Component, Inject, OnInit} from '@angular/core';\r\nimport {MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { LogService } from '../../../services/log/log.service';\r\nimport { RoomService } from '../../../services/room/room.service';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { SocketService } from '../../../services/socket/socket.service';\r\nimport { ClientService } from '../../../services/client/client.service';\r\n\r\n@Component({\r\n  selector: 'app-confirm-logout',\r\n  templateUrl: './confirm-logout.component.html',\r\n  styleUrls: ['./confirm-logout.component.scss']\r\n})\r\nexport class ConfirmLogoutComponent implements OnInit {\r\n  action: string;\r\n  exclamation = \"assets/icons/exclamation-mark.svg\";\r\n  password: string = \"\";\r\n  error: boolean = false;\r\n  empty: boolean = false;\r\n  loading: boolean = false;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ConfirmLogoutComponent>,\r\n    private authService:AuthService,\r\n    private socketService: SocketService,\r\n    private store: LocalStorageService,\r\n    private roomService: RoomService,\r\n    private logService: LogService,\r\n    private clientService: ClientService,\r\n    @Inject(MAT_DIALOG_DATA) public data) {\r\n      this.action = data.action;\r\n      // console.log(\"Logout modal \" + this.action);\r\n    }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    this.loading = true;\r\n    if (this.action == 'model') {\r\n      await this.logService.createLog('deconnection').subscribe(\r\n        (data) => {\r\n          const room = this.store.get('room');\r\n          this.socketService.leave(parseInt(room), 'model');\r\n          this.store.remove('room');\r\n          this.roomService.leaveRoom();\r\n          this.loading = false;\r\n          this.authService.logoutUser('model', '/modele/connexion');\r\n          this.store.set('CurrentSaloon', 0);\r\n        }, (error) => {\r\n          this.loading = false;\r\n        }\r\n      )\r\n    } else if (this.action === 'admin') {\r\n      this.authService.logoutUser('admin', '/authentification-admin');\r\n    }\r\n    else {\r\n      this.clientService.lastRoom(null);\r\n      this.loading = false;\r\n      this.authService.logoutUser('client', '/accueil');\r\n    }\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","/* (ignored) */","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.component.html',\r\n  styleUrls: ['./forgot-password.component.scss']\r\n})\r\nexport class ForgotPasswordComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>forgot-password works!</p>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { SlideInOutAnimation } from 'src/app/animation';\r\nimport { HeaderService } from '../../../services/header/header.service';\r\nimport * as AOS from 'aos';\r\n\r\n@Component({\r\n  selector: 'app-disconnected',\r\n  templateUrl: './disconnected.component.html',\r\n  styleUrls: ['./disconnected.component.scss'],\r\n  animations: [SlideInOutAnimation]\r\n})\r\nexport class DisconnectedComponent implements OnInit {\r\n  animationState = 'out';\r\n  connect: boolean = false;\r\n  showContact: boolean = false;\r\n\r\n  @Input()\r\n  actif: string;\r\n  active: number = 0;\r\n\r\n  defaultLogoBul = './../../../../assets/logos/bul_blured.jpg';\r\n  logoBUL = './../../../../assets/logos/dark-light-removebg.png';\r\n\r\n  defaultLogoCP = './../../../../assets/logos/centralPay_blured.jpg';\r\n  logoCP = './../../../../assets/logos/logo-centralpay-fullservice-blanc-transparent.png';\r\n  constructor(private headerSrv: HeaderService) { }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    if (this.actif) this.active = parseInt(this.actif);\r\n  }\r\n\r\n  toggleShowDiv(divName: string) {\r\n    if (divName === 'contain_disconnected') {\r\n      console.log(this.animationState);\r\n      this.animationState = this.animationState === 'out' ? 'in' : 'out';\r\n      // console.log(this.animationState);\r\n    }\r\n  }\r\n\r\n  toggleContact() {\r\n    this.showContact = !this.showContact;\r\n  }\r\n\r\n}\r\n","\r\n<div class=\"bars\">\r\n  <i class=\"fa fa-bars\" (click)=\"toggleShowDiv('contain_disconnected')\"></i>\r\n</div>\r\n\r\n<div class=\"contain_disconnected\" [@slideInOut]=\"animationState\">\r\n  <div class=\"list one\" [ngClass]=\"{'active': active == 1}\" routerLink=\"/accueil\">\r\n    Tous les modèles\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list two\" routerLink=\"/client/connexion\" [ngClass]=\"{'active': active == 2}\">\r\n    Connexion\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list three lighter\" routerLink=\"/client/inscription\">\r\n    Inscription client\r\n  </div>\r\n  <div class=\"list four\" [ngClass]=\"{'active': active == 3}\"\r\n  (click)=\"toggleContact()\">\r\n    <img src=\"./../../../../assets/icons/admin-icons/ask2.png\" alt=\"\">\r\n    <span></span>\r\n  </div>\r\n</div>\r\n\r\n<!-- contact -->\r\n<div class=\"contain_contact\" *ngIf=\"showContact\" data-aos='zoom-out'>\r\n  <img src=\"./../../../../assets/icons/close.svg\" alt=\"close\" class=\"close_contact\"\r\n  (click)=\"toggleContact()\">\r\n  <div class=\"block block_1\">\r\n    <!-- <img [defaultImage]=\"defaultLogoBul\" alt=\"\" [lazyLoad]=\"logoBUL\"/> -->\r\n    <img alt=\"\" [src]=\"logoBUL\"/>\r\n    <div class=\"contact_us\" routerLink=\"/contact\">\r\n      Nous contacter\r\n    </div>\r\n  </div>\r\n  <div class=\"block block_2\">\r\n    <!-- <img [defaultImage]=\"defaultLogoCP\" alt=\"\" [lazyLoad]=\"logoCP\"/> -->\r\n    <img alt=\"\" [src]=\"logoCP\"/>\r\n    <div class=\"contact_cp\">\r\n      <a href=\"https://paysecure.eu/home/e7887e92-873a-4a50-b8c2-4c5086baba9a\"\r\n      target=\"_blank\">\r\n        Contacter CentralPay.\r\n      </a>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Information } from 'src/app/interfaces/model-information.interface';\r\nimport { ProfilService } from '../../../../services/profil/profil.service';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-information',\r\n  templateUrl: './information.component.html',\r\n  styleUrls: ['./information.component.scss']\r\n})\r\nexport class InformationComponent implements OnInit {\r\n  information: Information = {\r\n    id: 0,\r\n    like: '',\r\n    dislike: '',\r\n    social_network: '',\r\n    sex_orientation: '',\r\n    description: ''\r\n  };\r\n\r\n  oldInfo: Information;\r\n\r\n  constructor(\r\n    private profilService: ProfilService,\r\n    private notificationService: NotificationService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getInfo();\r\n  }\r\n\r\n  saveInfo() {\r\n    this.profilService.updateProfil(this.information).subscribe(\r\n      (data: any) => {\r\n        this.notificationService.success(\"Modification\", \"Terminé avec succès\")\r\n        this.getInfo();\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getInfo() {\r\n    this.profilService.getProfil().subscribe(\r\n      (data) => {\r\n        this.information = data;\r\n        this.oldInfo = {...this.information};\r\n        // console.log(this.information);\r\n      }\r\n    )\r\n  }\r\n\r\n  restoreInfo() {\r\n    console.log(this.oldInfo.description);\r\n    this.information.description = this.oldInfo.description;\r\n    this.information.like = this.oldInfo.like;\r\n    this.information.dislike = this.oldInfo.dislike;\r\n    this.information.social_network = this.oldInfo.social_network;\r\n    this.information.sex_orientation = this.oldInfo.sex_orientation;\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"main_info\">\r\n<div class=\"title_info\">\r\n  INFORMATION PERSONNELLE\r\n</div>\r\n<div class=\"line\"></div>\r\n<div class=\"container-fluid contain_info\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"content_field\">\r\n        <label for=\"like\">J'aime :</label>\r\n        <input type=\"text\" class=\"input_field\" placeholder=\"... , ...\"\r\n        [(ngModel)]=\"information.like\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"content_field\">\r\n        <label for=\"dislike\">Je n'aime pas : </label>\r\n        <input type=\"text\" class=\"input_field\" placeholder=\"... , ...\"\r\n        [(ngModel)]=\"information.dislike\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"content_field\">\r\n        <label for=\"social_network\">Réseaux sociaux :</label>\r\n        <input type=\"text\" class=\"input_field\" placeholder=\"... twitter ...\"\r\n        [(ngModel)]=\"information.social_network\">\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-6\">\r\n      <div class=\"content_field\">\r\n        <label for=\"sex_orientation\">Spécialités sexuelles :</label>\r\n        <input type=\"text\" class=\"input_field\" placeholder=\"... anal ... masturbation ... discussion\"\r\n        [(ngModel)]=\"information.sex_orientation\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"content_field\">\r\n        <label for=\"description\">Description :</label>\r\n        <textarea name=\"description\" id=\"description\" cols=\"30\" rows=\"40\" class=\"input_field\"\r\n        placeholder=\" ...\"\r\n        [(ngModel)]=\"information.description\"></textarea>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-4 offset-lg-1\">\r\n      <div class=\"contain_button\">\r\n        <button class=\"btn_cancel lighter\" (click)=\"restoreInfo()\">\r\n          ANNULER\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-4 offset-lg-2\">\r\n      <div class=\"contain_button\">\r\n        <button class=\"btn_save lighter\" (click)=\"saveInfo()\">\r\n          ENREGISTRER\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n</div>\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signup_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>RECUPERATION <br> DU MOT DE PASSE</h2>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signup_two inside_sign\">\r\n  <h3 class=\"title\">\r\n    Récupération  <br>\r\n    du mot de passe oublié\r\n  </h3>\r\n\r\n  <div class=\"descr\">\r\n      BETWEEN<span class=\"under_bold\">US</span>.LIVE <br>\r\n      Vous avez oublié le mot de passe ? <br>\r\n      Veuillez soumettre votre email. <br>\r\n      Un email de reinitialisation sera envoyé pour confirmation.\r\n  </div>\r\n\r\n  <form autocomplete=\"off\" (ngSubmit)=\"send()\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Email *</label>\r\n      <input type=\"email\" name=\"email\" class=\"form-control input lighter\" [(ngModel)]=\"email\" required>\r\n      <div *ngIf=\"error\">\r\n        <small class=\"form-text error-text\">Veuillez compléter</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"notif\">\r\n      * Champ obligatoire\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signup lighter\" type=\"submit\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">ENVOYER</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { ModelService } from '../../../services/model/model.service';\r\n\r\n@Component({\r\n  selector: 'app-send-forgot-model',\r\n  templateUrl: './send-forgot-model.component.html',\r\n  styleUrls: ['./send-forgot-model.component.scss']\r\n})\r\nexport class SendForgotModelComponent implements OnInit {\r\n  loading: boolean = false;\r\n  email: string = null;\r\n  error: boolean = false;\r\n  constructor(\r\n    private modelService: ModelService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  send() {\r\n    if (!this.email) {\r\n      this.error = true;\r\n      return null;\r\n    }\r\n    this.error = false;\r\n    this.loading = true;\r\n    this.modelService.forgot(this.email).subscribe(\r\n      (data: {success: boolean, message: string}) => {\r\n        this.loading = false;\r\n        // console.log(data);\r\n        if (data.success) {\r\n          this.notificationService.infoMsg(data.message);\r\n          this.email = null;\r\n        } else {\r\n          this.notificationService.errorMsg(data.message);\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"main_stat_tips\">\r\n\r\n  <mat-tab-group mat-align-tabs=\"center\">\r\n    <mat-tab label=\"TIPS FREE\">\r\n      <div class=\"container-fluid contain_palier\">\r\n        <div class=\"row special_tips\">\r\n          <div class=\"col-3\" *ngFor=\"let item of tipsNormaux\">\r\n            <div class=\"contain_tips\">\r\n              <button class=\"btn_tips lighter\"\r\n              [matTooltip]=\"item.symbole\" matTooltipClass=\"tooltip_class\"\r\n              (click)=\"payTips(item.symbole, item.credit, item.designation)\">\r\n                <img [src]=\"item.src\" alt=\"\">\r\n              </button>\r\n              <p class=\"credit_tips\">\r\n                {{item.credit}} tips\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n\r\n    <mat-tab label=\"TIPS VIP\">\r\n      <div class=\"container-fluid contain_palier\">\r\n        <div class=\"row special_tips\">\r\n          <div class=\"col-3\" *ngFor=\"let item of tipsVIP\">\r\n            <div class=\"contain_tips\">\r\n              <button class=\"btn_tips lighter\"\r\n              [matTooltip]=\"item.symbole\" matTooltipClass=\"tooltip_class\"\r\n              (click)=\"payTips(item.symbole, item.credit, item.designation, true)\"\r\n              [ngClass]='{\"disabled\": !isItem(item.symbole)}'>\r\n                <img [src]=\"item.src\" alt=\"\">\r\n              </button>\r\n              <p class=\"credit_tips\">\r\n                {{item.credit}} tips\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { BetweenShopService } from 'src/app/services/between-shop/between-shop.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport { TipsService, PALIER } from '../../../services/tips/tips.service';\r\n\r\n@Component({\r\n  selector: 'app-stat-tips',\r\n  templateUrl: './stat-tips.component.html',\r\n  styleUrls: ['./stat-tips.component.scss']\r\n})\r\nexport class StatTipsComponent implements OnInit {\r\n  tipsNormaux: TIP[] = [];\r\n  tipsVIP: TIP[] = [];\r\n\r\n  listItem: any[] = [];\r\n\r\n  @Output() newItemEvent = new EventEmitter<TIP>();\r\n\r\n  constructor(\r\n    private tipsService: TipsService,\r\n    public betweenShopService: BetweenShopService,\r\n    private notificationService: NotificationService\r\n  ) {\r\n    this.tipsNormaux = this.tipsService.tipsNormaux;\r\n    this.tipsVIP = this.tipsService.tipsVIP;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyItems();\r\n  }\r\n\r\n  async getMyItems() {\r\n    this.betweenShopService.getItems().subscribe(\r\n      (data: any[]) => {\r\n        this.tipsVIP.forEach(\r\n          (tips) => {\r\n            data.forEach(\r\n              (item) => {\r\n                if (item.symbol === tips.symbole) {\r\n                  this.listItem.push(tips);\r\n                }\r\n              }\r\n            )\r\n          }\r\n        )\r\n        this.listItem = data;\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  isItem(symbol: string) {\r\n    const index = this.listItem.findIndex(\r\n      (element) => element.symbol === symbol\r\n    )\r\n    return (index >= 0) ? true : false;\r\n  }\r\n\r\n  payTips(symbole: string, credit: number, designation: string, vip: boolean = false) {\r\n    if (vip) {\r\n      if (!this.isItem(symbole)) {\r\n        this.notificationService.infoMsg('Item à débloquer dans Between Shop');\r\n        return null;\r\n      }\r\n    }\r\n    const data: TIP = {\r\n      symbole,\r\n      credit,\r\n      src: null,\r\n      designation,\r\n      vip\r\n    }\r\n    this.newItemEvent.emit(data);\r\n  }\r\n\r\n}\r\n","import { trigger, state, style, transition,\r\n  animate, group, query, stagger, keyframes\r\n} from '@angular/animations';\r\n\r\nexport const SlideInOutAnimation = [\r\n  trigger('slideInOut', [\r\n      state('in', style({\r\n          'max-height': '500px', 'opacity': '1', 'visibility': 'visible'\r\n      })),\r\n      state('out', style({\r\n          'max-height': '0px', 'opacity': '0', 'visibility': 'hidden'\r\n      })),\r\n      transition('in => out', [group([\r\n          animate('400ms ease-in-out', style({\r\n              'opacity': '0'\r\n          })),\r\n          animate('600ms ease-in-out', style({\r\n              'max-height': '0px'\r\n          })),\r\n          animate('700ms ease-in-out', style({\r\n              'visibility': 'hidden'\r\n          }))\r\n      ]\r\n      )]),\r\n      transition('out => in', [group([\r\n          animate('1ms ease-in-out', style({\r\n              'visibility': 'visible'\r\n          })),\r\n          animate('600ms ease-in-out', style({\r\n              'max-height': '500px'\r\n          })),\r\n          animate('800ms ease-in-out', style({\r\n              'opacity': '1'\r\n          }))\r\n      ]\r\n      )])\r\n  ]),\r\n]\r\n","import { HttpEventType } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Setting } from '../../../../interfaces/setting.interface';\r\nimport { ProfilService } from '../../../../services/profil/profil.service';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\nimport { ModelService } from '../../../../services/model/model.service';\r\nimport { AuthService } from '../../../../services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-setting',\r\n  templateUrl: './setting.component.html',\r\n  styleUrls: ['./setting.component.scss']\r\n})\r\nexport class SettingComponent implements OnInit {\r\n  colorSwitch = \"#FB77FC\";\r\n  checkedSound: boolean = true;\r\n  checkedMail: boolean = true;\r\n  checkedMessage: boolean = true;\r\n\r\n  originalSetting: Setting;\r\n  setting: Setting = {\r\n    id: 0,\r\n    sound_message: 0,\r\n    sound_notification: 0,\r\n    mail_notification: 0\r\n  }\r\n\r\n  file: File;\r\n  formData = new FormData();\r\n\r\n  originalInfo: any;\r\n  info = {\r\n    pseudo: '',\r\n    email: '',\r\n    path_soft: null,\r\n    cin: '',\r\n    date_birth: '',\r\n    fullName: ''\r\n  }\r\n\r\n  photoImg = \"assets/icons/photoAdd.svg\";\r\n  constructor(\r\n    private profileService: ProfilService,\r\n    private notificationService: NotificationService,\r\n    private modelService: ModelService,\r\n    private authService: AuthService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getInfo();\r\n  }\r\n\r\n  getInfo() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        this.info = data;\r\n        this.info.fullName = data.firstname + ' ' + data.lastname;\r\n        this.originalInfo = {...this.info};\r\n        this.setting = data.setting;\r\n        this.originalSetting = {...this.setting};\r\n      }\r\n    )\r\n  }\r\n\r\n  switchSound(event) {\r\n    this.checkedSound = !this.checkedSound;\r\n    // console.log(this.checkedSound);\r\n    if (this.checkedSound)\r\n      this.setting.sound_notification = 1;\r\n    else\r\n      this.setting.sound_notification = 0;\r\n  }\r\n\r\n  switchMail(event) {\r\n    this.checkedMail = !this.checkedMail;\r\n    // console.log(this.checkedMail);\r\n    if (this.checkedMail)\r\n      this.setting.mail_notification = 1;\r\n    else\r\n      this.setting.mail_notification = 0;\r\n  }\r\n\r\n  switchMessage(event) {\r\n    this.checkedMessage = !this.checkedMessage;\r\n    // console.log(this.checkedMessage);\r\n    if (this.checkedMessage)\r\n      this.setting.sound_message = 1;\r\n    else\r\n      this.setting.sound_message = 0;\r\n  }\r\n\r\n  profilChoose(fileInput) {\r\n    this.file =  fileInput.target.files[0];\r\n    var mimeType: any;\r\n    var reader = new FileReader();\r\n    mimeType = this.file.type;\r\n    if (!(mimeType === \"image/png\" || mimeType === \"image/jpeg\")) return false;\r\n    reader = new FileReader();\r\n    reader.readAsDataURL(this.file);\r\n    reader.onload = (event) => {\r\n      this.info.path_soft = reader.result;\r\n      // this.nameRecto = this.fileRecto.name;\r\n    };\r\n\r\n    this.formData.delete('file');\r\n    this.formData.append('file', this.file, this.file.name);\r\n    this.profileService.updatePhoto(this.formData).subscribe(\r\n      (events) => {\r\n        if (events.type === HttpEventType.UploadProgress) {\r\n          // this.fileUploadProgress = Math.round(events.loaded / events.total * 100) + '%';\r\n        }\r\n        else if (events.type === HttpEventType.Response) {\r\n          const path  = events.body.path;\r\n          this.info.path_soft = path;\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  async saveSetting() {\r\n    this.modelService.changePseudo(this.info.pseudo).subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        if (data.access_token) {\r\n          this.authService.saveToken(data.access_token, data.id).then(\r\n            () => {\r\n              this.profileService.updateSetting(this.setting).subscribe(\r\n                (data) => {\r\n                  const toSend = {\r\n                    pseudo: this.info.pseudo,\r\n                    email: this.info.email,\r\n                    path_soft: this.info.path_soft,\r\n                    cin: this.info.cin,\r\n                    date_birth: this.info.date_birth\r\n                  }\r\n                  this.profileService.updateInfo(toSend).subscribe(\r\n                    (data) => {\r\n                        // this.changePseudo()\r\n                        this.notificationService.success(\"Modification\", \"Terminé avec succès\")\r\n                    }\r\n                  )\r\n                }\r\n              );\r\n            }\r\n          );\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  restoreSetting() {\r\n    this.info.path_soft = this.originalInfo.path_soft;\r\n    this.setting.sound_notification = this.originalSetting.sound_notification;\r\n    this.setting.sound_message = this.originalSetting.sound_message;\r\n    this.setting.mail_notification = this.originalSetting.mail_notification;\r\n  }\r\n}\r\n","<div class=\"main_info\">\r\n  <div class=\"title_info\">\r\n    PARAMETRE DU COMPTE\r\n  </div>\r\n  <div class=\"line\"></div>\r\n\r\n  <div class=\"container-fluid contain_info\">\r\n\r\n    <!-- <div class=\"contain_photo\">\r\n      <img [src]=\"info.path_soft\" alt=\"\" class=\"photo_soft\">\r\n      <button (click)=\"fileInput.click()\" class=\"camera\" >\r\n        <img [src]=\"photoImg\" alt=\"\">\r\n      </button>\r\n    </div>\r\n    <input type=\"file\" #fileInput style=\"visibility: hidden;\"\r\n    accept=\"image/x-png,image/gif,image/jpeg\" (change)=\"profilChoose($event)\"> -->\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <label for=\"pseudo\">Pseudo</label>\r\n          <input type=\"text\" class=\"input_field\" placeholder=\"Mon pseudo\"\r\n          [(ngModel)]=\"info.pseudo\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <label for=\"email\">Email</label>\r\n          <input type=\"text\" class=\"input_field\" placeholder=\"Mon adresse email\"\r\n          [(ngModel)]=\"info.email\" disabled style=\"cursor: no-drop;\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <label for=\"cin\">Nom & Prénom</label>\r\n          <input type=\"text\" class=\"input_field\" placeholder=\"Nom & Prénom\"\r\n          [(ngModel)]=\"info.fullName\" disabled>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <label for=\"naissance\">Date de naissance</label>\r\n          <input type=\"text\" class=\"input_field\" placeholder=\"Date de naissance\"\r\n          [(ngModel)]=\"info.date_birth\" disabled>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row contain_setting\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_param\">\r\n          <div>\r\n            son des notifications\r\n          </div>\r\n          <p>\r\n            Activer / Désactiver les sons de notification\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_switch\">\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleActivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.sound_notification === 1\"\r\n          [disabled]=\"setting.sound_notification == 0\"\r\n          (change)=\"switchSound($event)\">\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleDeactivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.sound_notification === 0\"\r\n          [disabled]=\"setting.sound_notification == 1\"\r\n          (change)=\"switchSound($event)\">\r\n          </mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row contain_setting\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_param\">\r\n          <div>\r\n            notification par mail\r\n          </div>\r\n          <p>\r\n            Activer / Désactiver les sons par mail\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_switch\">\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleActivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.mail_notification == 1\"\r\n          [disabled]=\"setting.mail_notification == 0\"\r\n          (change)=\"switchMail($event)\">\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleDeactivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.mail_notification == 0\"\r\n          [disabled]=\"setting.mail_notification == 1\"\r\n          (change)=\"switchMail($event)\">\r\n          </mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row contain_setting\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_param\">\r\n          <div>\r\n            son des messages\r\n          </div>\r\n          <p>\r\n            Activer / Désactiver les sons de messages\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"contain_switch\">\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleActivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.sound_message == 1\"\r\n          [disabled]=\"setting.sound_message == 0\"\r\n          (change)=\"switchMessage($event)\">\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle\r\n          class=\"toogle toggleDeactivate\"\r\n          [color]=\"colorSwitch\"\r\n          [checked]=\"setting.sound_message == 0\"\r\n          [disabled]=\"setting.sound_message == 1\"\r\n          (change)=\"switchMessage($event)\">\r\n          </mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-4 offset-lg-1\">\r\n        <div class=\"contain_button\">\r\n          <button class=\"btn_cancel\" (click)=\"restoreSetting()\">\r\n            ANNULER\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-4 offset-lg-2\">\r\n        <div class=\"contain_button\">\r\n          <button class=\"btn_save\" (click)=\"saveSetting()\">\r\n            ENREGISTRER\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { GalleryItem, Gallery, ImageItem, ImageSize, ThumbnailsPosition } from 'ng-gallery';\r\nimport { Lightbox } from 'ng-gallery/lightbox';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\nconst data = [\r\n  // {\r\n  //   url : 'https://res.cloudinary.com/team-stenny/image/upload/v1627759167/light_fumemz.jpg'\r\n  // }\r\n];\r\n\r\n\r\n@Component({\r\n  selector: 'app-album-live',\r\n  templateUrl: './album-live.component.html',\r\n  styleUrls: ['./album-live.component.scss']\r\n})\r\nexport class AlbumLiveComponent implements OnInit {\r\n  @Input()\r\n  albums: any[] = [];\r\n\r\n  showed: boolean = false;\r\n  loading: boolean = false;\r\n\r\n  items: GalleryItem[];\r\n\r\n  imageData = data;\r\n\r\n  constructor(\r\n    public gallery: Gallery,\r\n    public lightbox: Lightbox,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.init()\r\n  }\r\n\r\n  init() {\r\n    this.items = this.imageData.map(item => new ImageItem({ src: item.url, thumb: item .url}));\r\n    const lightboxRef = this.gallery.ref('lightbox');\r\n    lightboxRef.setConfig({\r\n      imageSize: ImageSize.Cover,\r\n      thumbPosition: ThumbnailsPosition.Top\r\n    });\r\n    lightboxRef.load(this.items);\r\n  }\r\n\r\n  hoverImg() {\r\n    this.imageData = [];\r\n    this.albums.forEach(\r\n      (album) => {\r\n        this.imageData.push({url: album.url}\r\n      );\r\n      }\r\n    )\r\n    this.init()\r\n  }\r\n\r\n  show() {\r\n    this.showed = !this.showed;\r\n    if (this.albums.length == 0) {\r\n      this.notificationService.infoMsg('Aucun album disponible');\r\n    }\r\n    // if (this.showed) {\r\n    //   this.loading = true;\r\n    //   setTimeout(() => {\r\n    //     this.loading = false\r\n    //   }, 500);\r\n    // }\r\n  }\r\n\r\n}\r\n","<div class=\"text_album\" (click)=\"show()\">\r\n  <p class=\"para1\">Albums </p>\r\n  <p class=\"para2\"></p>\r\n  <p class=\"para3\"></p>\r\n</div>\r\n\r\n<div class=\"contain_album\" *ngIf=\"showed\">\r\n  <div class=\"list_album\" *ngFor=\"let album of albums\">\r\n    <img [src]=\"album.url\" alt=\"\" (click)=\"lightbox.open(0)\" (mouseover)=\"hoverImg()\">\r\n  </div>\r\n</div>\r\n\r\n<div style=\"position: relative;\">\r\n  <div class=\"lds-spinner\" *ngIf=\"loading\">\r\n    <div></div><div></div><div></div><div></div>\r\n    <div></div><div></div><div></div><div></div>\r\n    <div></div><div></div><div></div><div></div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","<app-header actif=\"2\" connected=\"true\" model=\"true\"></app-header>\r\n\r\n<div class=\"main_album\">\r\n    <div class=\"head_album\"\r\n    [ngStyle]=\"{'background-image': 'linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0)),url(' + bannier + ')'}\">\r\n    <div class=\"profil\">\r\n        <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n        [lazyLoad]=\"info.path_soft\" id=\"profil\"/>\r\n\r\n        <div class=\"content_camera\" (click)=\"fileInput.click()\">\r\n          <img [src]=\"photoAdd\" alt=\"\" id=\"photoAdd\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"under_head_album\" id=\"scrolled_point\">\r\n      <div class=\"info_model\">\r\n        <div class=\"name_model\">\r\n          {{info.pseudo}}\r\n        </div>\r\n        <div class=\"status_model\">\r\n          \" Vos récents albums \"\r\n        </div>\r\n      </div>\r\n      <div class=\"menu_album\">\r\n        <div class=\"text_menu\" (click)=\"initAlbum('free')\" [ngClass]=\"{'active': contextAlbum === 'free'}\">Albums Free</div>\r\n        <div class=\"text_menu\" (click)=\"initAlbum('private')\" [ngClass]=\"{'active': contextAlbum === 'private'}\">Photos privées</div>\r\n        <div class=\"text_menu\" (click)=\"initAlbum('vip')\" [ngClass]=\"{'active': contextAlbum === 'vip'}\">Albums VIP</div>\r\n        <!-- <div class=\"text_menu menu_shadow\" style=\"opacity: 0;\">album vide</div> -->\r\n        <!-- <div class=\"text_menu\" (click)=\"nextTime()\">\r\n          Vidéos\r\n        </div> -->\r\n      </div>\r\n      <!-- <div class=\"info_model info_desktop\">\r\n        <div class=\"name_model\">\r\n          {{info.pseudo}}\r\n        </div>\r\n        <div class=\"status_model\">\r\n          Les albums de votre carrière\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n\r\n    <div class=\"title_album\">\r\n      {{textAlbum}}\r\n      <span *ngIf=\"totalAlbum == 0\">( 0 )</span>\r\n      <span *ngIf=\"totalAlbum != 0\">(<span *ngIf=\"totalAlbum < 10\">0</span>{{totalAlbum}} ) </span>\r\n    </div>\r\n\r\n    <div class=\"contain_btn_add\">\r\n      <button class=\"btn_add_album lighter\" (click)=\"fileUpload.click()\">\r\n          <img [src]=\"photoAdd\" alt=\"\">\r\n          AJOUTER PHOTO\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"container-fluid list_album\">\r\n      <div class=\"row\" *ngIf=\"currentAlbum.length === 0\">\r\n        <div class=\"col-lg-12 no_photo\">\r\n          Aucune photo\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-4\" *ngFor=\"let item of currentAlbum\">\r\n          <!-- [ngStyle]=\"{'background-image': 'url('+ item +')'}\" -->\r\n          <div class=\"album\"\r\n          (click)=\"openImage(item.id, item.path_album)\"\r\n          [ngStyle]=\"{'background-image': 'url('+ item.path_album +')'}\">\r\n            <!-- <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n            [lazyLoad]=\"item.path_album\"\r\n            class=\"album_item img-responsive\"\r\n            (click)=\"openImage(item.id, item.path_album)\"/> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n          <button class=\"btn_prev btn_action lighter\" (click)=\"take('prev')\">\r\n            <span class=\"arrow\">&lt;</span> &nbsp;précédent\r\n          </button>\r\n        </div>\r\n        <div class=\"col-lg-6\">\r\n          <button class=\"btn_prev btn_action lighter\" (click)=\"take('next')\">\r\n            suivant&nbsp; <span class=\"arrow\">&gt;</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<input type=\"file\" id=\"btn_add_photo\" multiple #fileUpload\r\nstyle=\"visibility: hidden;\" accept=\"image/x-png,image/gif,image/jpeg\"\r\n(change)=\"fileChoose($event)\">\r\n\r\n\r\n<input type=\"file\" #fileInput style=\"visibility: hidden;\"\r\naccept=\"image/x-png,image/gif,image/jpeg\" (change)=\"profilChoose($event)\">\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { HeaderService } from './../../../services/header/header.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport * as $ from 'jquery';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { FileUploader } from 'ng2-file-upload';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { HttpEventType } from '@angular/common/http';\r\nimport { addAlbum } from '../../../interfaces/add-album.interface';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { PopupImageComponent } from '../../../modals/popup-image/popup-image.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-albums',\r\n  templateUrl: './albums.component.html',\r\n  styleUrls: ['./albums.component.scss']\r\n})\r\nexport class AlbumsComponent implements OnInit {\r\n  defaultImage = 'assets/images/blured.jpg';\r\n\r\n  bg = \"assets/images/bg.jpg\";\r\n  profil = \"assets/images/image.png\";\r\n  photoAdd = \"assets/icons/photoAdd.svg\";\r\n  bannier = \"assets/logos/dark-light.jpg\";\r\n\r\n\r\n  totalAlbum: number  = 0;\r\n  sectionAlbum: number = 9;\r\n  page: number = 0;\r\n\r\n  contextAlbum = \"private\";\r\n  currentAlbum: addAlbum[] = [];\r\n  textAlbum: any;\r\n  fileData: File = null;\r\n  previewData: any;\r\n  nameData: any;\r\n\r\n  albums: File[] = [];\r\n  file: File;\r\n  fileUploadProgress: string;\r\n\r\n  count = {\r\n    \"vip\": 0,\r\n    \"private\": 0,\r\n    \"free\": 0\r\n  }\r\n\r\n  info = {\r\n    pseudo: '',\r\n    email: '',\r\n    path_soft: null\r\n  }\r\n\r\n  formData = new FormData();\r\n\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private profileService: ProfilService,\r\n    private route: ActivatedRoute ,\r\n    private notificationService: NotificationService,\r\n    private albumService: AlbumService,\r\n    private dialog: MatDialog){\r\n    let param = this.route.snapshot.queryParamMap.get('context');\r\n    if (param != null) {this.contextAlbum = param;}\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initAlbum(this.contextAlbum);\r\n    this.countAlbum();\r\n    this.getInfo();\r\n  }\r\n\r\n  nextTime() {\r\n    this.notificationService.info('Vidéos', 'Fonctionnalité à venir')\r\n  }\r\n\r\n  getInfo() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log('album ', data);\r\n        this.info = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async countAlbum() {\r\n    this.albumService.getCount().subscribe(\r\n      (data) => {\r\n        this.count = data;\r\n        if (this.contextAlbum == 'private')\r\n          this.totalAlbum = this.count.private; // Default onglet\r\n        else if (this.contextAlbum == 'vip')\r\n          this.totalAlbum = this.count.vip; // Default onglet\r\n        else if (this.contextAlbum == 'free')\r\n          this.totalAlbum = this.count.free; // Default onglet\r\n      }\r\n    )\r\n  }\r\n\r\n  async fetchAlbum(debut: number) {\r\n    this.loading = true;\r\n    this.currentAlbum = [];\r\n    await (await this.albumService.getAlbums(this.contextAlbum, debut, 9)).subscribe(\r\n      (data) => {\r\n        this.currentAlbum = data;\r\n        // console.log(this.currentAlbum);\r\n        this.loading = false;\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  // context : private |vip | free\r\n  initAlbum(context: string) {\r\n    this.contextAlbum = context;\r\n    var verified  = false;\r\n    switch (context) {\r\n      case 'private':\r\n        verified = true;\r\n        this.totalAlbum = this.count.private;\r\n        this.textAlbum = \"Contenu Privés\";\r\n        break;\r\n      case 'vip':\r\n        verified = true;\r\n        this.totalAlbum = this.count.vip;\r\n        this.textAlbum = \"Album VIP\";\r\n        break;\r\n      case 'free':\r\n        verified = true;\r\n        this.totalAlbum = this.count.free;\r\n        this.textAlbum = \"Album Free\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (verified) {\r\n      this.fetchAlbum(0);\r\n    }\r\n  }\r\n\r\n\r\n  // action: prev | next\r\n  take(action: string) {\r\n    if (action === \"next\") {\r\n      this.page =  this.page + 1;\r\n      var marge = Math.floor((this.totalAlbum/this.sectionAlbum) - 0.1); // - 0.1 avoid just division result\r\n      if (this.page <= marge) {\r\n        this.fetchAlbum(this.page * this.sectionAlbum);\r\n        this.scroll();\r\n      } else { this.page = this.page -1;}\r\n    } else if (action === \"prev\" && this.page > 0) {\r\n      this.page = this.page - 1;\r\n      this.fetchAlbum(this.page * this.sectionAlbum);\r\n      this.scroll();\r\n    }\r\n  }\r\n\r\n  verifyMimeType(mime: string) {\r\n    return (mime === \"image/png\" || mime === \"image/jpeg\" || mime === \"image/gif\");\r\n  }\r\n\r\n  scroll() {\r\n    document.querySelector('#scrolled_point').scrollIntoView();\r\n  }\r\n\r\n  async fileChoose(fileInput) {\r\n    const formData = new FormData();\r\n    let file: File;\r\n    for (let index = 0; index < fileInput.target.files.length; index++) {\r\n      file = fileInput.target.files[index];\r\n      const mimeType = file.type;\r\n      if (!this.verifyMimeType(mimeType)) {\r\n        this.notificationService.failure('Format invalide', 'Extension au format JPEG/PNG');\r\n        return false;\r\n      }\r\n      // console.log(file)\r\n      formData.append('files', file, file.name);\r\n    }\r\n\r\n    this.fileUploadProgress = '0%';\r\n    this.loading = true;\r\n    return await this.albumService.uploadAlbumModel(formData).subscribe(\r\n      (events) => {\r\n        if (events.type === HttpEventType.UploadProgress) {\r\n          this.fileUploadProgress = Math.round(events.loaded / events.total * 100) + '%';\r\n        }\r\n        else if (events.type === HttpEventType.Response) {\r\n          const paths  = events.body.paths;\r\n          const albums: addAlbum[] = [];\r\n          for (let index = 0; index < paths.length; index++) {\r\n            albums.push({\r\n                \"type_album\": this.contextAlbum,\r\n                \"path_album\": paths[index]\r\n              })\r\n          }\r\n          this.albumService.addAlbums(albums).subscribe(\r\n            (data) => {\r\n              this.loading = false;\r\n              // this.notificationService.success(`Photo ${this.contextAlbum}`, \"Ajoutée\");\r\n              this.countAlbum();\r\n              this.fetchAlbum(this.page * this.sectionAlbum);\r\n            }, (error) => {\r\n              this.loading = false;\r\n              console.log(error);\r\n            }\r\n          )\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  async profilChoose(fileInput) {\r\n    this.file =  fileInput.target.files[0];\r\n    var mimeType: any;\r\n    var reader = new FileReader();\r\n    mimeType = this.file.type;\r\n    if (!(mimeType === \"image/png\" || mimeType === \"image/jpeg\")) return false;\r\n    reader = new FileReader();\r\n    reader.readAsDataURL(this.file);\r\n    reader.onload = (event) => {\r\n      this.info.path_soft = reader.result;\r\n      // this.nameRecto = this.fileRecto.name;\r\n    };\r\n\r\n    this.formData.delete('file');\r\n    this.formData.append('file', this.file, this.file.name);\r\n    this.loading = true;\r\n    this.profileService.updatePhoto(this.formData).subscribe(\r\n      async (events) => {\r\n        if (events.type === HttpEventType.UploadProgress) {\r\n          // this.fileUploadProgress = Math.round(events.loaded / events.total * 100) + '%';\r\n        }\r\n        else if (events.type === HttpEventType.Response) {\r\n          const path  = events.body.path;\r\n          this.info.path_soft = path;\r\n          await this.saveSetting();\r\n          this.loading = false;\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  async saveSetting() {\r\n        this.loading = true;\r\n        this.profileService.updateInfo(this.info).subscribe(\r\n          (data) => {\r\n              // this.notificationService.success(\"Modification\", \"Terminé avec succès\")\r\n              this.loading = false;\r\n          }, (error) => {\r\n            this.loading = false;\r\n          }\r\n        )\r\n  }\r\n\r\n  openImage(id: number, url: string) {\r\n    let dialogRef = this.dialog.open(PopupImageComponent, {\r\n      width: '100%',\r\n      data: {\r\n        id,\r\n        url,\r\n        type: this.contextAlbum\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((data) => {\r\n      if (data === 'success') this.ngOnInit();\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"contain\">\r\n  <h2 mat-dialog-title>Packs de crédit</h2>\r\n  <mat-dialog-content>\r\n    <div class=\"container-fluid main_pack\">\r\n      <div class=\"row\">\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"list_pack\">\r\n            <div class=\"pack\" *ngFor=\"let item of listPack; let i = index\"\r\n            (click)=\"choosePack(i)\" [ngClass]=\"{'selected': currentOnglet === i}\">\r\n              &nbsp;&nbsp;&nbsp; Packs {{item}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"list_pack\">\r\n            <div class=\"pack\" *ngFor=\"let pack of currentPack; let i = index\"\r\n            [ngClass]=\"{'selected': currentSelected === i}\">\r\n              <div class=\"pack_item\">\r\n                <div class=\"pack_value\"\r\n                (click)=\"chooseMontant(i ,pack.montant, pack.credit)\">\r\n                  <div>{{pack.credit}} crédits</div>\r\n                  <div>-</div>\r\n                  <div>{{getValueVIP(pack.credit)}} b-coins</div>\r\n                  <div>-</div>\r\n                  <div>{{pack.montant}} €</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"contain_credit\">\r\n        Solde : {{credit}} crédit<span *ngIf=\"credit > 2\">s</span>\r\n      </div>\r\n\r\n    </div>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Annuler</button>\r\n    <button class=\"btn_valid\" (click)=\"validate()\">Confirmer</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialog } from '@angular/material/dialog';\r\nimport { Pack } from 'src/app/interfaces/pack-credit.interface';\r\nimport { ClientService } from 'src/app/services/client/client.service';\r\nimport { CreditService } from '../../services/credit/credit.service';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { NotificationService } from '../../services/notification/notification.service';\r\nimport { PaiementService } from '../../services/paiement/paiement.service';\r\nimport { CentralPayComponent } from '../central-pay/central-pay.component';\r\nimport { isBoolean } from 'util';\r\nimport * as creditVIP from './../../services/credit/creditVIP.json';\r\nimport { SubscribeService } from '../../services/subscribe/subscribe.service';\r\n\r\n@Component({\r\n  selector: 'app-pack-modal',\r\n  templateUrl: './pack-modal.component.html',\r\n  styleUrls: ['./pack-modal.component.scss']\r\n})\r\nexport class PackModalComponent implements OnInit {\r\n  currentOnglet = null;\r\n  currentSelected = null;\r\n  montantSelected: number = null;\r\n  creditSelected: number = null;\r\n  loading: boolean = false;\r\n\r\n  currentPack: Pack[] = [];\r\n\r\n  clientId: number = null;\r\n  credit: number = 0;\r\n  creditId: number = 0;\r\n\r\n  listPack: string [] = this.creditService.listPack;\r\n\r\n  packBienvenue: Pack[] = this.creditService.packBienvenue;\r\n\r\n  packBronze: Pack[] = this.creditService.packBronze;\r\n\r\n  packArgent: Pack[] = this.creditService.packArgent;\r\n\r\n  packOr: Pack[] = this.creditService.packOr;\r\n\r\n  designationPack: string = null;\r\n\r\n  subscription = {\r\n    subscribed: false,\r\n    expired: false,\r\n    subscribe: {},\r\n    rest: 0\r\n  }\r\n\r\n  constructor(\r\n    private creditService: CreditService,\r\n    private clientService: ClientService,\r\n    private paiementService: PaiementService,\r\n    private store: LocalStorageService,\r\n    private subscribeService: SubscribeService,\r\n    private notificationService: NotificationService,\r\n    public dialogRef: MatDialogRef<PackModalComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private dialog: MatDialog\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyCredit();\r\n    // this.currentPack = this.packBienvenue;\r\n  }\r\n\r\n  // Get client credit\r\n  async getMyCredit() {\r\n      this.isSubscribed();\r\n      const id = parseInt(this.store.get('identification//'));\r\n      await this.clientService.getMyInfos().subscribe(\r\n        (data) => {\r\n          // console.log('Mon credit ', data);\r\n          this.credit = data.credit ? data.credit.credit : 0;\r\n          this.creditId = data.credit ? data.credit.id : 0;\r\n          this.clientId = data.id;\r\n        }\r\n      )\r\n  }\r\n\r\n  isSubscribed() {\r\n    this.subscribeService.verify().subscribe(\r\n      (data) => {\r\n        this.subscription = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  choosePack(id: number) {\r\n    this.currentOnglet = id;\r\n    this.currentSelected = null;\r\n    this.montantSelected = null;\r\n    this.creditSelected = null;\r\n\r\n    switch (id) {\r\n      case 0:\r\n        this.currentPack = this.packBienvenue;\r\n        this.designationPack = 'bienvenue';\r\n        break;\r\n\r\n      case 1:\r\n        this.currentPack = this.packBronze;\r\n        this.designationPack = 'bronze';\r\n        break;\r\n\r\n      case 2:\r\n        this.currentPack = this.packArgent;\r\n        this.designationPack = 'argent';\r\n        break;\r\n\r\n      case 3:\r\n        this.currentPack = this.packOr;\r\n        this.designationPack = 'or';\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  chooseMontant(index: number, montant: number, credit: number) {\r\n    this.currentSelected = index;\r\n    this.montantSelected = montant;\r\n    this.creditSelected = credit;\r\n  }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    if ((this.currentSelected == null) || (this.montantSelected == null) || (this.creditSelected == null)) return null;\r\n    await this.buyPack(this.montantSelected, this.creditSelected, this.designationPack);\r\n  }\r\n\r\n  async buyPack(montant: number, credit: number, designation: string) {\r\n    if (this.creditId === 0) return false;\r\n    if (designation === 'bienvenue') {\r\n      this.paiementService.verifyPack().subscribe(\r\n        (data: any) => {\r\n          if (data.error) {\r\n            this.notificationService.infoMsg(data.message);\r\n          } else {\r\n            this.openCentralPayModal(montant, credit, designation);\r\n          }\r\n        }, (error) => {\r\n          console.log(error)\r\n        }\r\n      )\r\n    } else {\r\n      this.openCentralPayModal(montant, credit, designation);\r\n    }\r\n  }\r\n\r\n  openCentralPayModal(montant: number, credit: number, designation: string) {\r\n    this.loading = true;\r\n    this.paiementService.openCentralPay(montant*100).subscribe(\r\n      (data: any) => {\r\n        this.loading = false;\r\n        // console.log('Test ', data);\r\n        if (data && data.breakdowns[0] && data.breakdowns[0].endpoint) {\r\n          const url = data.breakdowns[0].endpoint;\r\n          const paymentRequestId = data.paymentRequestId;\r\n          // console.log('Endpoint ', url);\r\n          const dialogRef = this.dialog.open(CentralPayComponent, {\r\n            width: '90vh',\r\n            data: {\r\n              montant,\r\n              credit,\r\n              designation,\r\n              creditId: this.creditId,\r\n              id: this.clientId,\r\n              url,\r\n              paymentRequestId\r\n            }\r\n          });\r\n\r\n          dialogRef.afterClosed().subscribe(result => {\r\n            if (isBoolean(result)) {\r\n\r\n            } else {\r\n              if (result === 'good') {\r\n                this.getMyCredit().then(\r\n                  (data) => {\r\n                    this.paiementService.buyPack(credit).subscribe(\r\n                      (data) => {\r\n                        this.notificationService.success(`Pack ${this.listPack[this.currentOnglet]}`,\r\n                        `Vous avez obtenu ${credit} crédits de plus.`);\r\n                      }, (error) => {\r\n                        console.log(error)\r\n                      }\r\n                    )\r\n                    this.dialogRef.close();\r\n                  }\r\n                );\r\n              }\r\n            }\r\n          });\r\n\r\n        }\r\n      }, (error) => {\r\n        this.loading = false;\r\n        console.log(error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  getValueVIP(credit: number) {\r\n    let point  = 0;\r\n    creditVIP.points.forEach(\r\n      (value) => {\r\n        if (value.credit === credit) {\r\n          if (this.subscription.subscribe && !this.subscription.expired) point = value.subscribe;\r\n          else point = value.unsubscribe;\r\n        }\r\n      }\r\n    );\r\n    // console.log(point);\r\n    return point;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { RoomPrivateService } from '../roomPrivate/room-private.service';\r\nimport { RoomTipsService } from '../roomTips/room-tips.service';\r\nimport { ChatSocket } from 'src/app/interfaces/chat.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SocketService {\r\n\r\n  messages: Observable<any>;\r\n  constructor(\r\n    private socket: Socket,\r\n    private roomPrivateService: RoomPrivateService,\r\n    private roomTipsService: RoomTipsService) {}\r\n\r\n    soundIncome() {\r\n      const audio = new Audio(\"./../../../assets/sound/incoming.wav\" );\r\n      audio.play();\r\n    }\r\n\r\n    soundOutcome() {\r\n      const audio = new Audio(\"./../../../assets/sound/outcoming.mp3\");\r\n      audio.play();\r\n    }\r\n\r\n  sendCurrentSaloon(idRoom: any, live_selected: string) {\r\n    const data = {\r\n      idRoom,\r\n      live_selected\r\n    }\r\n    this.socket.emit('currentSaloon', data);\r\n  }\r\n\r\n  askCurrentSaloon(idRoom: any, modelId: number) {\r\n    const data = {\r\n      idRoom,\r\n      modelId\r\n    }\r\n    this.socket.emit('ask currentSaloon', data);\r\n  }\r\n\r\n  listen(eventName: string) {\r\n    return new Observable((subscriber: any) => {\r\n      this.socket.on(eventName, (data) => {\r\n        subscriber.next(data);\r\n      })\r\n    })\r\n  }\r\n\r\n  async emit(eventName, data) {\r\n    return await this.socket.emit(eventName, data);\r\n  }\r\n\r\n  sendMessage(data: ChatSocket) {\r\n    this.socket.emit('message', data);\r\n  }\r\n\r\n\r\n  join(idRoom: number, modelId: number, pseudoClient?: string, idClient?: number) {\r\n    const data = {\r\n      room: idRoom + '',\r\n      modelId: modelId,\r\n      show: 'free',\r\n      clientPseudo: pseudoClient,\r\n      clientId: idClient\r\n    }\r\n    this.socket.emit('join', data)\r\n  }\r\n\r\n  leave(idRoom: number, role: string, pseudoClient?: string, idClient?: number) {\r\n    const data = {\r\n      room: idRoom + '',\r\n      role: role,\r\n      show: 'free',\r\n      clientPseudo: pseudoClient,\r\n      clientId: idClient\r\n    }\r\n    this.socket.emit('leave', data)\r\n  }\r\n\r\n  async joinPrivate(idRoom: number, modelId: number, clientId?: number, clientPseudo?: string, clientPeer?: string) {\r\n    const data = {\r\n      room: idRoom + 'P',\r\n      modelId: modelId,\r\n      show: 'private',\r\n      clientId,\r\n      clientPseudo,\r\n      clientPeer\r\n    }\r\n    this.socket.emit('join', data)\r\n  }\r\n\r\n  async leavePrivate(idRoom: number, role: string, clientId: number) {\r\n    const data = {\r\n      room: idRoom + 'P',\r\n      role: role,\r\n      show: 'private',\r\n      clientId\r\n    }\r\n    this.socket.emit('leave', data)\r\n    return await this.roomPrivateService.updateActif(idRoom, false, 'private');\r\n  }\r\n\r\n  async joinVip(idRoom: number, modelId: number) {\r\n    const data = {\r\n      room: idRoom + 'V',\r\n      modelId: modelId,\r\n      show: 'vip'\r\n    }\r\n    this.socket.emit('join', data)\r\n  }\r\n\r\n  async leaveVip(idRoom: number, role: string) {\r\n    const data = {\r\n      room: idRoom + 'V',\r\n      role: role,\r\n      show: 'vip'\r\n    }\r\n    return await this.socket.emit('leave', data)\r\n  }\r\n\r\n  async joinTips(idRoom: number, modelId: number, clientId?: number, clientPseudo?: string, clientPeer?: string) {\r\n    const data = {\r\n      room: idRoom + 'T',\r\n      modelId: modelId,\r\n      show: 'tips',\r\n      clientId,\r\n      clientPseudo,\r\n      clientPeer\r\n    }\r\n    this.socket.emit('join', data);\r\n    return await this.roomTipsService.updateActif(idRoom, true, 'tips');\r\n  }\r\n\r\n  async leaveTips(idRoom: number, role: string, clientId: number) {\r\n    const data = {\r\n      room: idRoom + 'T',\r\n      role: role,\r\n      show: 'tips',\r\n      clientId\r\n    }\r\n    this.socket.emit('leave', data)\r\n    return await this.roomTipsService.updateActif(idRoom, false, 'tips', role);\r\n  }\r\n\r\n  async sendClientPeerId(data: {peerId: any, room: string}) {\r\n    return await this.socket.emit('peerId', data)\r\n  }\r\n\r\n  async askModelPeerId(data: {peerId: any, room: string, clientId: number}) {\r\n    return await this.socket.emit('ask peerId', data)\r\n  }\r\n\r\n  async ansModelPeerId(data: {peerId: any, room: string, clientId: number}) {\r\n    console.log(\"Answer \", data);\r\n    return await this.socket.emit('ans peerId', data)\r\n  }\r\n\r\n  async newPeerIdModel(data: {role: string, modelId: number, room: string, peerId: string}) {\r\n    return await this.socket.emit('new model peerId', data)\r\n  }\r\n\r\n  async clientInviteModelToPrivate(roomId: number, clientId: number, clientPseudo: string, modelId: number) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      clientPseudo,\r\n      modelId\r\n    }\r\n    return await this.socket.emit('invite model to private', data)\r\n  }\r\n\r\n  async responseInvitationModelToPrivate(roomId: number, clientId: number, modelId: number, modelPseudo: string) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      modelId,\r\n      modelPseudo\r\n    }\r\n    return await this.socket.emit('response invitation to private', data)\r\n  }\r\n\r\n  async clientInviteModelToVIP(roomId: any, clientId: number, clientPseudo: string, modelId: number, special?: string) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      clientPseudo,\r\n      modelId,\r\n      special\r\n    }\r\n    return await this.socket.emit('invite model to vip', data)\r\n  }\r\n\r\n\r\n  async responsePositiveInvitationModelToVIP(roomId: any, clientId: number, modelId: number, modelPseudo: string, special?: string) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      modelId,\r\n      modelPseudo,\r\n      special\r\n    }\r\n    return await this.socket.emit('response positive invitation model to vip', data)\r\n  }\r\n\r\n  async responseNegativeInvitationModelToVIP(roomId: any, clientId: number, modelId: number, modelPseudo: string, special?: string) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      modelId,\r\n      modelPseudo,\r\n      special\r\n    }\r\n    return await this.socket.emit('response negative invitation model to vip', data)\r\n  }\r\n\r\n  // Special audio & video\r\n  async toggleAudio(roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      peerId,\r\n      modelId,\r\n      isAudio\r\n    }\r\n    return await this.socket.emit('Toggle audio', data)\r\n  }\r\n\r\n  async toggleVideo(roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      peerId,\r\n      modelId,\r\n      isVideo\r\n    }\r\n    return await this.socket.emit('Toggle video', data)\r\n  }\r\n\r\n\r\n  // Special stream\r\n  async askModelStream(roomId: any, clientId: number, modelId: number) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      modelId\r\n    }\r\n    return await this.socket.emit('Ask current model stream', data)\r\n  }\r\n\r\n  async answerModelStream(roomId: any, clientId: number, modelId: number, stream: MediaStream) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n      modelId,\r\n      stream\r\n    }\r\n    console.log('Stream in socket service ', data.stream)\r\n    return await this.socket.emit('Answer current model stream', data)\r\n  }\r\n\r\n  async banishClient(roomId: any, clientId: number) {\r\n    const data = {\r\n      roomId,\r\n      clientId,\r\n    }\r\n    return await this.socket.emit('Banish client', data)\r\n  }\r\n\r\n  // Special Tips\r\n  async updatePalier(roomId: any, mini: number, bronze: number, argent: number, or: number) {\r\n    const data = {\r\n      roomId,\r\n      mini,\r\n      bronze,\r\n      argent,\r\n      or\r\n    }\r\n    return await this.socket.emit('updatePalier', data)\r\n  }\r\n\r\n  // Special Live Choice Us\r\n    async updateChoiceUs(roomId: any, title: string, description: string, tarif: number) {\r\n      const data = {\r\n        roomId,\r\n        title,\r\n        description,\r\n        tarif\r\n      }\r\n      return await this.socket.emit('updateChoiceUs', data)\r\n    }\r\n\r\n  async newTips(roomId: any, symbole: string, credit: number, designation: string, vip: boolean = false) {\r\n    const data = {\r\n      roomId,\r\n      symbole,\r\n      credit,\r\n      designation,\r\n      vip\r\n    }\r\n    return await this.socket.emit('new tips', data);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { ModelService } from '../../../../services/model/model.service';\r\nimport { RoomVipService } from '../../../../services/roomVip/room-vip.service';\r\nimport { RoomPrivateService } from '../../../../services/roomPrivate/room-private.service';\r\n\r\ninterface Gain {\r\n  date: string,\r\n  gainVIP: number,\r\n  gainPrivate: number\r\n}\r\n\r\n@Component({\r\n  selector: 'app-gain',\r\n  templateUrl: './gain.component.html',\r\n  styleUrls: ['./gain.component.scss']\r\n})\r\nexport class GainComponent implements OnInit {\r\n  options: any;\r\n  updating: boolean = false;\r\n  gain: Gain[] = [\r\n    // {date:  \"01/01/2020\", gainVIP: 50, gainPrivate: 50},\r\n    // {date:  \"02/01/2020\", gainVIP: 70, gainPrivate: 10},\r\n    // {date:  \"03/01/2020\", gainVIP: 30, gainPrivate: 120},\r\n    // {date:  \"04/01/2020\", gainVIP: 100, gainPrivate: 100},\r\n    // {date:  \"05/01/2020\", gainVIP: 120, gainPrivate: 50},\r\n    // {date:  \"06/01/2020\", gainVIP: 50, gainPrivate: 90},\r\n    // {date:  \"07/01/2020\", gainVIP: 80, gainPrivate: 150},\r\n  ];\r\n\r\n  info = {\r\n    modelId: 0,\r\n    modelPseudo: null\r\n  }\r\n\r\n  constructor(\r\n    private modelService: ModelService,\r\n    private roomVIPService: RoomVipService,\r\n    private roomPrivateService: RoomPrivateService\r\n  ) {\r\n    this.options = {\r\n      autoSize: true,\r\n      data: this.getData(),\r\n      series: [\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'gainVIP',\r\n          yName: 'Gain VIP',\r\n          stroke: '#FB77FC',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#FB77FC',\r\n            stroke: '#FB77FC',\r\n          },\r\n        },\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'gainPrivate',\r\n          yName: 'Gain Privée',\r\n          stroke: '#4E009F',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#4E009F',\r\n            stroke: '#4E009F',\r\n            color: '#fff'\r\n          },\r\n        }\r\n      ],\r\n      axes: [\r\n        {\r\n          type: 'category',\r\n          position: 'bottom',\r\n          nice: false,\r\n          // tick: { count: agCharts.time.second.every(3), color:  \"rgb(255, 255, 255)\"},\r\n          tick: { count: 0,color:  \"rgb(255, 255, 255)\"},\r\n          label: { format: '%m/%d/%Y', color:  \"rgb(255, 255, 255)\" },\r\n        },\r\n        {\r\n          type: 'number',\r\n          position: 'left',\r\n          label: { format: '#{.0f}', color:  \"#fff\"}\r\n        }\r\n      ],\r\n      background: {\r\n        fill: \"#FFF\",\r\n        visible: false\r\n      },\r\n      tooltip: {\r\n        enabled: true\r\n      },\r\n      navigator: {\r\n        enabled: true\r\n      },\r\n      title: { text: '' },\r\n      legend: {\r\n        position: 'bottom',\r\n        enabled: true,\r\n        item: {\r\n          label: {\r\n            color: 'white'\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getInfoModel();\r\n    this.startUpdates();\r\n    this.useDefaultGridStyle();\r\n  }\r\n\r\n  useDefaultGridStyle = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    var gridStyle = [\r\n      {\r\n        stroke: 'white',\r\n        lineDash: [2, 1],\r\n      },\r\n    ];\r\n    options.axes[0].gridStyle = gridStyle;\r\n    options.axes[1].gridStyle = gridStyle;\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  update = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    options.data = this.getData();\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  startUpdates = () => {\r\n    if (this.updating) {\r\n      return;\r\n    }\r\n    this.updating = true;\r\n    this.update();\r\n\r\n    setTimeout(this.update, 1000);\r\n    setTimeout(this.update, 2000);\r\n    setTimeout(this.update, 3000);\r\n  };\r\n\r\n  getData() {\r\n    this.updating = false;\r\n    return this.gain;\r\n  }\r\n\r\n  getInfoModel() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.info.modelId = data.id;\r\n        this.info.modelPseudo = data.pseudo;\r\n        this.gain = [];\r\n        this.getGainVip(data.id);\r\n        this.getGainPrivate(data.id);\r\n      }\r\n    )\r\n  }\r\n\r\n  getGainVip(id: number) {\r\n    this.roomVIPService.getGain(id).subscribe(\r\n      (data: [{createdAt: any, gain: number}]) => {\r\n        // console.log(\"Gain VIP \", data);\r\n        const result = data;\r\n        result.forEach(\r\n          (gain) => {\r\n            const gainTmp: Gain = {\r\n              date: this.getDate(gain.createdAt),\r\n              gainVIP: gain.gain,\r\n              gainPrivate: 0\r\n            }\r\n\r\n            this.insertGainVIP(gainTmp);\r\n          }\r\n        )\r\n        console.log(this.gain);\r\n      }\r\n    )\r\n  }\r\n\r\n  getGainPrivate(id: number) {\r\n    this.roomPrivateService.getGain(id).subscribe(\r\n      (data: [{createdAt: any, gain: number}]) => {\r\n        // console.log(\"Gain Private \", data);\r\n        const result = data;\r\n        result.forEach(\r\n          (gain) => {\r\n            const gainTmp: Gain = {\r\n              date: this.getDate(gain.createdAt),\r\n              gainVIP: 0,\r\n              gainPrivate: gain.gain\r\n            }\r\n            this.insertGainPrivate(gainTmp);\r\n          }\r\n        )\r\n        console.log(this.gain);\r\n      }\r\n    )\r\n  }\r\n\r\n  getDate(date: string) {\r\n    let year = date.substring(0, 4);\r\n    let month = date.substring(5, 7);\r\n    let day = date.substring(8, 10);\r\n    const result = day+'/'+month+'/'+year;\r\n    return result;\r\n  }\r\n\r\n  insertGainPrivate(gain: Gain) {\r\n    let exist = false;\r\n    for(let i = 0; i < this.gain.length; i++) {\r\n      if (this.gain[i].date === gain.date) {\r\n        this.gain[i].gainPrivate = this.gain[i].gainPrivate + gain.gainPrivate\r\n        exist = true\r\n        return true\r\n      }\r\n    }\r\n    if (!exist) this.gain.push(gain)\r\n  }\r\n\r\n  insertGainVIP(gain: Gain) {\r\n    let exist = false;\r\n    for(let i = 0; i < this.gain.length; i++) {\r\n      if (this.gain[i].date === gain.date) {\r\n        this.gain[i].gainVIP = this.gain[i].gainVIP + gain.gainVIP\r\n        exist = true\r\n        return true\r\n      }\r\n    }\r\n    if (!exist) this.gain.push(gain)\r\n  }\r\n}\r\n\r\n","<div class=\"main_content\">\r\n  <div class=\"title_gain\">\r\n    HISTORIQUE DES GAINS\r\n  </div>\r\n\r\n  <div class=\"contain_line\">\r\n    <div class=\"wrapper\">\r\n      <ag-charts-angular\r\n        style=\"height: 70vh; width: 100%; overflow: hidden\"\r\n        [options]=\"options\"\r\n      ></ag-charts-angular>\r\n    </div>\r\n  </div>\r\n</div>\r\n","<app-header connected=\"true\" actif=\"6\"></app-header>\r\n\r\n<div class=\"main_dashboard\">\r\n  <div class=\"profil_header\">\r\n    Between Shop\r\n  </div>\r\n\r\n  <div class=\"contain_credit\">\r\n    <div class=\"info_credit\">\r\n      <div class=\"block_credit\">\r\n        <div class=\"content_parameter\">\r\n          <img [src]=\"coinImg\" alt=\"\" class=\"coinImg\">\r\n          <h2>\r\n            Votre solde B-coins\r\n          </h2>\r\n          <div>\r\n            {{client.vip}} b-coins\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"contain_pack\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n\r\n          <!-- Free Cash -->\r\n          <div class=\"col-lg-4 col-sm-6\" *ngFor=\"let item of freeCash; let i=index\">\r\n            <div class=\"contain_shop\">\r\n              <div class=\"contain_illustration\">\r\n                <img [src]=\"item.src\" alt=\"tips\">\r\n              </div>\r\n              <div class=\"contain_description\">\r\n                <div class=\"designation\">\r\n                  {{item.designation}}\r\n                </div>\r\n                <div class=\"price\" (click)=\"buyCreditByVIP(item.credit , item.get)\">\r\n                  {{item.credit}} b-coins\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- TIPS VIP -->\r\n          <div class=\"col-lg-4 col-sm-6\" *ngFor=\"let item of tipsVIP; let i=index\">\r\n            <div class=\"contain_shop\">\r\n              <div class=\"contain_illustration\">\r\n                <img [src]=\"item.src\" alt=\"tips\">\r\n              </div>\r\n              <div class=\"contain_description\">\r\n                <div class=\"designation\">\r\n                  {{item.designation}}\r\n                </div>\r\n                <div class=\"price\"\r\n                (click)=\"buyTips(item.symbole, item.designation)\"\r\n                *ngIf=\"!item.got\">\r\n                  <!-- {{item.credit}} b-coins -->\r\n                  25 b-coins\r\n                </div>\r\n                <div class=\"got_item\" *ngIf=\"item.got\">\r\n                  debloqué !\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n<br><br>\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { TipsService, TIP } from '../../../services/tips/tips.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { BetweenShopService } from '../../../services/between-shop/between-shop.service';\r\n\r\n@Component({\r\n  selector: 'app-between-shop',\r\n  templateUrl: './between-shop.component.html',\r\n  styleUrls: ['./between-shop.component.scss']\r\n})\r\nexport class BetweenShopComponent implements OnInit {\r\n  coinImg = \"assets/icons/coin-stack.svg\";\r\n\r\n  client = {\r\n    id: 0,\r\n    pseudo: '',\r\n    credit: 0,\r\n    creditId: null,\r\n    promo: null,\r\n    vip: 0\r\n  }\r\n\r\n  subscribed: boolean = false;\r\n\r\n  tipsVIP: TIP[] = [];\r\n\r\n  freeCash = [\r\n    {\r\n      designation: '5 crédits', symbole: '5 crédits', credit: 50, get: 5, src : './../../../../assets/icons/coin-stack-gold.svg',\r\n    },\r\n    {\r\n      designation: '10 crédits', symbole: '10 crédits', credit: 100, get: 10, src : './../../../../assets/icons/coin-stack-gold.svg',\r\n    },\r\n    {\r\n      designation: '15 crédits', symbole: '15 crédits', credit: 150, get: 15, src : './../../../../assets/icons/coin-stack-gold.svg',\r\n    }\r\n  ];\r\n\r\n  listItem: any[] = [];\r\n\r\n  constructor(\r\n    private clientService: ClientService,\r\n    private tipsService: TipsService,\r\n    private notificationService: NotificationService,\r\n    private creditService: CreditService,\r\n    private betweenShopService: BetweenShopService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.tipsVIP = this.tipsService.tipsVIP;\r\n    this.getMyCredit();\r\n    this.getMyItems();\r\n  }\r\n\r\n  async getMyItems() {\r\n    this.betweenShopService.getItems().subscribe(\r\n      (data: any) => {\r\n        this.listItem = data;\r\n        this.tipsVIP.forEach(\r\n          (tips) => {\r\n            this.listItem.forEach(\r\n              (item) => {\r\n                if (item.symbol === tips.symbole) {\r\n                  tips.got = true;\r\n                }\r\n              }\r\n            )\r\n          }\r\n        )\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  // Get client infos\r\n  async getMyCredit() {\r\n    await this.clientService.getMyInfos().subscribe(\r\n      (data) => {\r\n        this.client.id = data.id;\r\n        this.client.pseudo = data.pseudo;\r\n        this.client.credit = data.credit ? data.credit.credit : 0;\r\n        this.client.creditId = data.credit ? data.credit.id : 0;\r\n        this.client.vip = data.credit ? data.credit.vip : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  buyTips(symbol: string, designation: string) {\r\n    const credit = 25;\r\n    if (this.client.vip < credit) {\r\n      this.notificationService.failure('B-COINS INSUFFISANT', 'Votre b-coins est insuffisant pour cet item');\r\n      return null;\r\n    }\r\n    this.betweenShopService.addItems(symbol, credit).subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.client.vip = this.client.vip - credit;\r\n        this.notificationService.success('TIPS VIP', `Vous avez déploqué ${designation}`);\r\n        this.getMyItems();\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  buyCreditByVIP(montantVIP: number, creditGain: number) {\r\n    if (this.client.vip < montantVIP) {\r\n      this.notificationService.failure('B-COINS INSUFFISANT', 'Votre b-coins est insuffisant pour cet item');\r\n      return null;\r\n    }\r\n    this.creditService.buyCreditInShop(this.client.creditId, montantVIP, creditGain).subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.client.vip = this.client.vip - montantVIP;\r\n        this.notificationService.success('CREDITS OBTENUS', `Vous avez obtenu ${creditGain} crédits`);\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n}\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signup_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>RECUPERATION <br> DU MOT DE PASSE</h2>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signup_two inside_sign\">\r\n  <h3 class=\"title\">\r\n    Récupération  <br>\r\n    du mot de passe oublié\r\n  </h3>\r\n\r\n  <div class=\"descr\">\r\n      BETWEEN<span class=\"under_bold\">US</span>.LIVE <br>\r\n      Vous avez oublié le mot de passe ? <br>\r\n      Veuillez soumettre votre email. <br>\r\n      Un email de reinitialisation sera envoyé pour confirmation.\r\n  </div>\r\n\r\n  <form autocomplete=\"off\" (ngSubmit)=\"send()\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Email *</label>\r\n      <input type=\"email\" name=\"email\" class=\"form-control input lighter\" [(ngModel)]=\"email\" required>\r\n      <div *ngIf=\"error\">\r\n        <small class=\"form-text error-text\">Veuillez compléter</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"notif\">\r\n      * Champ obligatoire\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signup lighter\" type=\"submit\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">ENVOYER</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-send-forgot',\r\n  templateUrl: './send-forgot.component.html',\r\n  styleUrls: ['./send-forgot.component.scss']\r\n})\r\nexport class SendForgotComponent implements OnInit {\r\n  loading: boolean = false;\r\n  email: string = null;\r\n  error: boolean = false;\r\n  constructor(\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  send() {\r\n    if (!this.email) {\r\n      this.error = true;\r\n      return null;\r\n    }\r\n    this.error = false;\r\n    this.loading = true;\r\n    this.clientService.forgot(this.email).subscribe(\r\n      (data: {success: boolean, message: string}) => {\r\n        this.loading = false;\r\n        // console.log(data);\r\n        if (data.success) {\r\n          this.notificationService.infoMsg(data.message);\r\n          this.email = null;\r\n        } else {\r\n          this.notificationService.errorMsg(data.message);\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { NotificationService } from '../../../../../../services/notification/notification.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MotifRejectComponent } from './motif-reject/motif-reject.component';\r\nimport { isBoolean } from 'util';\r\n\r\n@Component({\r\n  selector: 'app-detail-model-admin',\r\n  templateUrl: './detail-model-admin.component.html',\r\n  styleUrls: ['./detail-model-admin.component.scss']\r\n})\r\nexport class DetailModelAdminComponent implements OnInit {\r\n  defaultImage = './../../../../../../../assets/images/blured.jpg';\r\n\r\n  idClient: number  = null\r\n  client: any = {\r\n    firstname : '',\r\n    lastname : '',\r\n    date_birth : '',\r\n    path_recto : './../../../../../../../assets/images/blured.jpg',\r\n    path_verso : './../../../../../../../assets/images/blured.jpg',\r\n    path_soft : './../../../../../../../assets/images/blured.jpg',\r\n    path_cin : './../../../../../../../assets/images/blured.jpg',\r\n    state : ''\r\n  }\r\n\r\n  loading: boolean = false\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private adminService: AdminService,\r\n    private notificationService: NotificationService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    const idClient = this.route.snapshot.params.idClient\r\n    this.idClient = parseInt(idClient)\r\n    // console.log(this.idClient)\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.idClient) {\r\n      this.router.navigate(['/admin/les-demandes-modeles'])\r\n      return false\r\n    }\r\n    this.getInfos()\r\n  }\r\n\r\n  getInfos() {\r\n    this.loading = true\r\n    this.adminService.getInfosModel(this.idClient).subscribe(\r\n      (data) => {\r\n        this.loading = false\r\n        // console.log(data)\r\n        this.client = data\r\n      }, (error) => {\r\n        this.loading = false\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  accept(accepted: boolean) {\r\n\r\n    if (accepted) {\r\n      this.loading = true\r\n      this.adminService.acceptInscriptionModel(this.idClient, true, 'validé').subscribe(\r\n        (data) => {\r\n          this.loading = false\r\n          this.notificationService.info('Inscription', 'Inscription validé')\r\n          this.router.navigate(['/admin/les-demandes-modeles'])\r\n        }, (error) => {\r\n          this.loading = false\r\n          console.log(error)\r\n        }\r\n      )\r\n    } else {\r\n      const dialogRef = this.dialog.open(MotifRejectComponent, {\r\n        width: '50vh',\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        // console.log(result);\r\n        if (isBoolean(result)) {\r\n          // console.log('Boolean iz io')\r\n        } else {\r\n          this.loading = true\r\n          this.adminService.acceptInscriptionModel(this.idClient, false, result).subscribe(\r\n            (data) => {\r\n              this.loading = false\r\n              this.notificationService.success('Inscription', 'Inscription rejeté')\r\n              this.router.navigate(['/admin/les-demandes-modeles'])\r\n            }, (error) => {\r\n              console.log(error)\r\n            }\r\n          )\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","\r\n<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    DETAILS\r\n  </div>\r\n\r\n  <div class=\"contain_detail container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"detail_left\">\r\n          <div class=\"title\">\r\n            information personnelle\r\n          </div>\r\n\r\n          <div class=\"contain_info\">\r\n            <div class=\"label_info\">NOM : </div>\r\n            <div class=\"value_info\">{{client.firstname}}</div>\r\n          </div>\r\n\r\n          <div class=\"contain_info\">\r\n            <div class=\"label_info\">PRENOM : </div>\r\n            <div class=\"value_info\">{{client.lastname}}</div>\r\n          </div>\r\n\r\n          <div class=\"contain_info\">\r\n            <div class=\"label_info\">DATE DE NAISSANCE : </div>\r\n            <div class=\"value_info\">{{client.date_birth}}</div>\r\n          </div>\r\n\r\n          <div class=\"contain_info\">\r\n            <div class=\"label_info\">PHOTO CIN : </div>\r\n            <div class=\"value_info\"></div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-6\">\r\n              <div class=\"contain_img\">\r\n                <img [src]=\"client.path_recto\" alt=\"\" class=\"img_show\">\r\n              </div>\r\n            </div>\r\n            <div class=\"col-lg-6\">\r\n              <div class=\"contain_img\">\r\n                <img [src]=\"client.path_verso\" alt=\"\" class=\"img_show\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"contain_info\">\r\n            <div class=\"label_info\">PHOTO SOFT : </div>\r\n            <div class=\"value_info\"> </div>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-lg-12\">\r\n              <div class=\"contain_img\">\r\n                <img [src]=\"client.path_soft\" alt=\"\" class=\"img_show\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"detail_right\">\r\n          <div class=\"title_right\">\r\n            APERCU DE LA PHOTO AVEC LA CARTE D' IDENTITE\r\n          </div>\r\n\r\n          <div class=\"contain_cin\">\r\n            <img [src]=\"client.path_cin\" alt=\"\" class=\"img_show\">\r\n          </div>\r\n\r\n          <div class=\"contain_action\" *ngIf=\"client.state === 'En attente'\">\r\n            <button class=\"btn_action btn_cancel\" (click)=\"accept(false)\">\r\n              REJETER\r\n            </button>\r\n            <button class=\"btn_action btn_confirm\" (click)=\"accept(true)\">\r\n              CONFIRMER\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { nextTick } from 'process';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HeaderService {\r\n  hidded = new Subject<boolean>();\r\n  unselected = new Subject<boolean>();\r\n  active = new Subject<number>();\r\n  connect  = new Subject<boolean>();\r\n\r\n  constructor() { }\r\n\r\n  hideHeader(data: boolean) {\r\n    this.hidded.next(data);\r\n  }\r\n\r\n  unselect(data: boolean) {\r\n    this.unselected.next(data);\r\n  }\r\n\r\n  activate(data: number) {\r\n    this.active.next(data);\r\n  }\r\n\r\n  connexion(data: boolean) {\r\n    this.connect.next(data);\r\n  }\r\n}\r\n","<div class=\"main_left\">\r\n  <div class=\"title_main_left\">\r\n    APERCU DE L'ACTIVITE\r\n  </div>\r\n\r\n  <div class=\"block_1\">\r\n    <div class=\"title_block\">\r\n      Actuellement en attente\r\n    </div>\r\n    <div class=\"contain_block\">\r\n      <div class=\"descr_block\" *ngFor=\"let item of demandes\">\r\n        <div class=\"text_block\">\r\n          {{item.title}}\r\n        </div>\r\n        <div class=\"value_block\">\r\n          <!-- <span *ngIf=\"item.value < 10 && item.value > 0\">0</span> -->\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"block_1\">\r\n    <div class=\"title_block\">\r\n      Notifications\r\n    </div>\r\n    <div class=\"contain_block_notif\">\r\n      <div class=\"descr_block_notif\" *ngFor=\"let item of notifications\">\r\n        <div class=\"text_block_notif\">\r\n          {{item.title}}\r\n        </div>\r\n        <div class=\"value_block_notif\">\r\n          <span *ngIf=\"item.value < 10 && item.value > 0\">0</span>{{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n\r\n  <div class=\"block_1\">\r\n    <div class=\"title_block\">\r\n      Statistique des clients\r\n    </div>\r\n    <div class=\"contain_block\">\r\n      <div class=\"descr_block\" *ngFor=\"let item of clients\">\r\n        <div class=\"text_block\">\r\n          {{item.title}}\r\n        </div>\r\n        <div class=\"value_block\">\r\n          <!-- <span *ngIf=\"item.value < 10 && item.value > 0\">0</span> -->\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"block_1\">\r\n    <div class=\"title_block\">\r\n      Statistique des modèles\r\n    </div>\r\n    <div class=\"contain_block\">\r\n      <div class=\"descr_block\" *ngFor=\"let item of modeles\">\r\n        <div class=\"text_block\">\r\n          {{item.title}}\r\n        </div>\r\n        <div class=\"value_block\">\r\n          <!-- <span *ngIf=\"item.value < 10 && item.value > 0\">0</span> -->\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"block_1\">\r\n    <div class=\"title_block\">\r\n      Statistique des Show\r\n    </div>\r\n    <div class=\"contain_block\">\r\n      <div class=\"descr_block descr_show\" *ngFor=\"let item of show\">\r\n        <div class=\"text_block\">\r\n          {{item.title}}\r\n        </div>\r\n        <div class=\"value_block\">\r\n          <!-- <span *ngIf=\"item.value < 10 && item.value > 0\">0</span> -->\r\n          {{item.value}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-main-left-dashboard-admin',\r\n  templateUrl: './main-left-dashboard-admin.component.html',\r\n  styleUrls: ['./main-left-dashboard-admin.component.scss']\r\n})\r\nexport class MainLeftDashboardAdminComponent implements OnInit {\r\n  demandes = [\r\n    {\r\n      title : 'Demande Inscription',\r\n      value: 0\r\n    },\r\n    {\r\n      title : 'Demande de désactivation',\r\n      value: 0\r\n    },\r\n    {\r\n      title : 'Demande de suppression',\r\n      value: 0\r\n    },\r\n  ]\r\n\r\n  // notifications = [\r\n  //   {\r\n  //     title : 'Nouveaux Messages',\r\n  //     value: 15\r\n  //   },\r\n  //   {\r\n  //     title : 'Nouveaux Demandes',\r\n  //     value: 5\r\n  //   }\r\n  // ]\r\n\r\n  clients = [\r\n    {\r\n      title : 'Nouveaux clients',\r\n      value: 0\r\n    },\r\n    {\r\n      title : 'Nombre total des clients',\r\n      value: 0\r\n    }\r\n  ]\r\n\r\n  modeles = [\r\n    {\r\n      title : 'Nouveaux modèles',\r\n      value: 0\r\n    },\r\n    {\r\n      title : 'Nombre total des modèles',\r\n      value: 0\r\n    }\r\n  ]\r\n\r\n  show = [\r\n    {\r\n      title: 'Show Privé',\r\n      value: 0\r\n    },\r\n    {\r\n      title: 'Show VIP',\r\n      value: 0\r\n    },\r\n    {\r\n      title: 'Chiffre d\\'affaire',\r\n      value: '0 €'\r\n    }\r\n  ]\r\n\r\n  constructor(\r\n    private adminService: AdminService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countModelInscription()\r\n    this.countModelDesactivation()\r\n    this.countModelSuppression()\r\n    this.countClientActif()\r\n    this.countModelActif()\r\n    this.countNewLastClients()\r\n    this.countNewLastModels()\r\n    this.countRoomPrivate()\r\n    this.countRoomVIP()\r\n    this.getChiffreAffaire()\r\n  }\r\n\r\n  countModelInscription() {\r\n    this.adminService.countModelState('En attente').subscribe(\r\n      (data: any) => {\r\n        this.demandes[0].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countModelDesactivation() {\r\n    this.adminService.countModelState('Desactivation').subscribe(\r\n      (data: any) => {\r\n        this.demandes[1].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countModelSuppression() {\r\n    this.adminService.countModelState('Suppression').subscribe(\r\n      (data: any) => {\r\n        this.demandes[2].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countModelActif() {\r\n    this.adminService.countModelActif().subscribe(\r\n      (data: any) => {\r\n        this.modeles[1].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countClientActif() {\r\n    this.adminService.countClientActif().subscribe(\r\n      (data: any) => {\r\n          this.clients[1].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countNewLastClients() {\r\n    this.adminService.newLastClients().subscribe(\r\n      (data: any) => {\r\n          this.clients[0].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countNewLastModels() {\r\n    this.adminService.newLastModels().subscribe(\r\n      (data: any) => {\r\n          this.modeles[0].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countRoomPrivate() {\r\n    this.adminService.countRoom('private').subscribe(\r\n      (data: any) => {\r\n        this.show[0].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  countRoomVIP() {\r\n    this.adminService.countRoom('vip').subscribe(\r\n      (data: any) => {\r\n        this.show[1].value = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getChiffreAffaire() {\r\n    this.adminService.getChiffreAffaire().subscribe(\r\n      (data : {credit: number, montant: string}) => {\r\n        // console.log(data)\r\n        this.show[2].value = data.montant\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\n\r\n@Component({\r\n  selector: 'app-topbar-model',\r\n  templateUrl: './topbar-model.component.html',\r\n  styleUrls: ['./topbar-model.component.scss']\r\n})\r\nexport class TopbarModelComponent implements OnInit {\r\n  @Input()\r\n  context: string;\r\n\r\n  @Input()\r\n  visible: boolean;\r\n\r\n  @Input()\r\n  minuteur: boolean;\r\n\r\n  @Input()\r\n  actif: number = 0;\r\n\r\n  @Input()\r\n  hour: number = 0;\r\n\r\n  @Input()\r\n  minute: number = 0;\r\n\r\n  @Input()\r\n  second: number = 0;\r\n\r\n  @Input()\r\n  reinit: boolean; // reinit to 0\r\n\r\n  @Input()\r\n  leaved: boolean; // Model Quitter\r\n\r\n  user = \"assets/icons/friends_soft.svg\";\r\n  strech = \"assets/icons/full-size.svg\";\r\n  microOn = \"assets/icons/microphone.svg\";\r\n  microOff = \"assets/icons/microphone-off.svg\";\r\n  mute = \"assets/icons/mute.svg\";\r\n  video = \"assets/icons/video-camera.svg\";\r\n  noVideo = \"assets/icons/no-video.svg\";\r\n  volume =\"assets/icons/volume.svg\";\r\n  soundOff = \"assets/icons/sound-off.svg\";\r\n  add = \"assets/icons/add.svg\";\r\n\r\n  isSound: boolean = true;\r\n  isVideo: boolean = true;\r\n  isStreched: boolean = true;\r\n  isMicro: boolean = true;\r\n\r\n  currentMinute: number = 0;\r\n  countUser: string = \"01\";\r\n\r\n  showTools = false;\r\n\r\n  @Output() newItemEvent = new EventEmitter<boolean>();\r\n\r\n  constructor(\r\n    private popupService: PopupService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.startMinuteur();\r\n  }\r\n\r\n  change (material: string) {\r\n    switch (material) {\r\n      case 'son':\r\n        this.isSound = !this.isSound;\r\n        break;\r\n      case 'micro':\r\n        this.isMicro = !this.isMicro;\r\n        break;\r\n      case 'video':\r\n        this.isVideo = !this.isVideo;\r\n        break;\r\n      case 'strech':\r\n        this.isStreched = !this.isStreched;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  toggleTools() {\r\n    this.showTools = !this.showTools; \r\n    this.newItemEvent.emit(this.showTools);\r\n  }\r\n\r\n  startMinuteur() {\r\n    setInterval(() => {\r\n      if (!this.leaved) {\r\n        if (!this.reinit) {\r\n          this.second++;\r\n          if (this.second > 59) {\r\n            this.second = 0;\r\n            this.minute++;\r\n            if (this.minute > 59) {\r\n              this.minute = 0;\r\n              this.hour++;\r\n            }\r\n          }\r\n        } else {\r\n          this.second = 0;\r\n          this.minute = 0;\r\n          this.hour = 0;\r\n        }\r\n      }\r\n    }, 1000);\r\n  }\r\n}\r\n","<div class=\"main_topbar\">\r\n    <div class=\"top_left\">\r\n      <div class=\"context_live\">\r\n        {{context}}\r\n      </div>\r\n      <div class=\"minuteur\" *ngIf=\"!minuteur\">\r\n        <div class=\"minuteur_inside\">\r\n          <span *ngIf=\"hour > 0\"> <span *ngIf=\"hour < 10\">0</span>{{hour}} : </span>\r\n          <span *ngIf=\"minute < 10\">0</span>{{minute}} :\r\n          <span *ngIf=\"second < 10\">0</span>{{second}}\r\n        </div>\r\n      </div>\r\n      <div class=\"user\">\r\n        <img [src]=\"user\" alt=\"\">\r\n        <span>\r\n          <span *ngIf=\"actif < 10 && actif > 0\" class=\"span_zero\">0</span>\r\n          {{actif}}\r\n        </span>\r\n        <span *ngIf=\"actif === undefined\">0</span>\r\n      </div>\r\n    </div>\r\n    <div id=\"img_add\" (click)=\"toggleTools()\" *ngIf=\"!visible\">\r\n      <i class=\"fa fa-ellipsis-h\"></i>\r\n      <!-- <i class=\"fa fa-chevron-right\" *ngIf=\"!showTools\"></i>\r\n      <i class=\"fa fa-chevron-down\" *ngIf=\"showTools\"></i> -->\r\n    </div>\r\n\r\n    <!-- <div class=\"top_right top_right_desktop\" *ngIf=\"!visible\">\r\n      <div class=\"menu_right\" (click)=\"change('son')\">\r\n        <img [src]=\"volume\" alt=\"\" *ngIf=\"isSound\">\r\n        <img [src]=\"mute\" alt=\"\" *ngIf=\"!isSound\">\r\n        <span class=\"poptext\">Son</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('video')\">\r\n        <img [src]=\"video\" alt=\"\" *ngIf=\"isVideo\">\r\n        <img [src]=\"noVideo\" alt=\"\" *ngIf=\"!isVideo\">\r\n        <span class=\"poptext\">Vidéo</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('micro')\">\r\n        <img [src]=\"microOn\" alt=\"\" *ngIf=\"isMicro\">\r\n        <img [src]=\"microOff\" alt=\"\" *ngIf=\"!isMicro\">\r\n        <span class=\"poptext\">Micro</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('strech')\">\r\n        <img [src]=\"strech\" alt=\"\">\r\n        <span class=\"poptext\">Agrandir</span>\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- <div class=\"top_right top_right_mobile\" *ngIf=\"showTools\">\r\n      <div class=\"menu_right\" (click)=\"change('son')\">\r\n        <img [src]=\"volume\" alt=\"\" *ngIf=\"isSound\">\r\n        <img [src]=\"mute\" alt=\"\" *ngIf=\"!isSound\">\r\n        <span class=\"poptext\">Son</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('video')\">\r\n        <img [src]=\"video\" alt=\"\" *ngIf=\"isVideo\">\r\n        <img [src]=\"noVideo\" alt=\"\" *ngIf=\"!isVideo\">\r\n        <span class=\"poptext\">Vidéo</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('micro')\">\r\n        <img [src]=\"microOn\" alt=\"\" *ngIf=\"isMicro\">\r\n        <img [src]=\"microOff\" alt=\"\" *ngIf=\"!isMicro\">\r\n        <span class=\"poptext\">Micro</span>\r\n      </div>\r\n      <div class=\"menu_right\" (click)=\"change('strech')\">\r\n        <img [src]=\"strech\" alt=\"\">\r\n        <span class=\"poptext\">Agrandir</span>\r\n      </div>\r\n    </div> -->\r\n\r\n  </div>\r\n\r\n","import { HeaderService } from './../../../services/header/header.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport * as $ from 'jquery';\r\n@Component({\r\n  selector: 'app-dashboard',\r\n  templateUrl: './dashboard.component.html',\r\n  styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n  pageId: number = 1;\r\n  menu = \"assets/icons/menu-dot.svg\";\r\n  close = \"assets/icons/close.svg\";\r\n  slided = false;\r\n  loaded: number = 1;\r\n  constructor(\r\n    private headerSrv: HeaderService\r\n  ) {\r\n    this.headerSrv.activate(3);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  load(position: number) {\r\n    this.loaded = position;\r\n  }\r\n\r\n  link(id: number) {\r\n    this.pageId = id;\r\n    if (this.slided) {\r\n      $(\"#left_side\").addClass(\"slideHide\");\r\n      this.slided = false;\r\n    }\r\n  }\r\n\r\n  slideMenu() {\r\n    $(\"#left_side\").removeClass(\"slideShow\");\r\n    $(\"#left_side\").removeClass(\"slideHide\");\r\n    this.slided = !this.slided;\r\n    if (this.slided) {\r\n      $(\"#left_side\").addClass(\"slideShow\");\r\n    } else {\r\n      $(\"#left_side\").addClass(\"slideHide\");\r\n    }\r\n  }\r\n\r\n}\r\n","<app-header actif=\"3\" connected=\"true\" model=\"true\"></app-header>\r\n\r\n\r\n<div class=\"main_dashboard\">\r\n  <div class=\"dashboard_header_1\">\r\n    <div class=\"text_param\" (click)=\"load(1)\" [ngClass]=\"{'active': loaded == 1}\">\r\n      Paramètres de mon compte\r\n    </div>\r\n    <!-- <div class=\"text_credit\" (click)=\"load(2)\" [ngClass]=\"{'active': loaded == 2}\">\r\n      Mes crédits\r\n    </div> -->\r\n  </div>\r\n\r\n  <div class=\"account_parameter\" *ngIf=\"loaded == 1\">\r\n\r\n    <div class=\"dashboard_header_2\">\r\n      Mon Tableau de Bord\r\n    </div>\r\n\r\n    <div class=\"mobile_menu\" (click)=\"slideMenu()\"  [ngClass]=\"{'open': slided}\">\r\n      <img [src]=\"menu\" alt=\"\">\r\n      <span>Menu</span>\r\n    </div>\r\n    <div class=\"content_dashboard\">\r\n      <div class=\"left_side\" id=\"left_side\">\r\n        <div class=\"block_left_1\">\r\n          <div class=\"menu\">MON PROFIL</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"menu\">PARAMETRE DU PROFIL</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 1}\" (click)=\"link(1)\">Informations personnelles</div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 2}\" (click)=\"link(2)\">Paramètres du compte</div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 3}\" (click)=\"link(3)\">Changer mot de passe</div>\r\n        </div>\r\n        <div class=\"block_left_2\">\r\n          <div class=\"line\"></div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 4}\" (click)=\"link(4)\">SOLDE DE MON COMPTE</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 5}\" (click)=\"link(5)\">HISTORIQUES DES GAINS</div>\r\n          <div class=\"line\"></div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 6}\" (click)=\"link(6)\">PRIMES SUR COMMISSION</div>\r\n          <!-- <div class=\"line\"></div>\r\n          <div class=\"menu link\" [ngClass]=\"{'activated': pageId == 7}\" (click)=\"link(7)\">STATISTIQUES DE CONNEXION</div> -->\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"right_side\">\r\n        <app-information *ngIf=\"pageId === 1\"></app-information>\r\n        <app-setting  *ngIf=\"pageId === 2\"></app-setting>\r\n        <app-password-modele  *ngIf=\"pageId === 3\"></app-password-modele>\r\n        <app-solde  *ngIf=\"pageId === 4\"></app-solde>\r\n        <app-gain *ngIf=\"pageId === 5\"></app-gain>\r\n        <app-commission *ngIf=\"pageId === 6\"></app-commission>\r\n        <app-connexion *ngIf=\"pageId === 7\"></app-connexion>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"account_credit\" *ngIf=\"loaded == 2\">\r\n    <app-solde></app-solde>\r\n  </div>\r\n</div>\r\n<br><br>\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { loginUser } from 'src/app/interfaces/login.interface';\r\nimport { registerClient, registerModel } from '../../interfaces/register.interface';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n  endpoint = environment.endpoint\r\n\r\n  authentified  = new Subject<boolean>();\r\n\r\n  public paying = false;\r\n\r\n  constructor(\r\n    private store: LocalStorageService,\r\n    private http : HttpClient,\r\n    public router : Router\r\n  ) { }\r\n\r\n  login(who: string) {\r\n    if (who == 'model') {\r\n      // console.log(\"connexion model\");\r\n      this.store.set(\"model\", true);\r\n    }\r\n    this.authentication(true);\r\n  }\r\n\r\n  logout(who: string) {\r\n    if (who == 'model') {\r\n      // console.log(\"deconnexion model\");\r\n      this.store.set(\"model\", false);\r\n    }\r\n    this.authentication(false);\r\n  }\r\n\r\n  authentication(data: boolean) {\r\n    this.authentified.next(data);\r\n    this.store.set(\"auth\", data);\r\n  }\r\n\r\n  loginClient(user : loginUser) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/client/login`,user, httpOptions)\r\n  }\r\n\r\n  loginModel(user : loginUser) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/model/login`,user, httpOptions)\r\n  }\r\n\r\n  registerClient(user : registerClient) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/client/register`,user,httpOptions)\r\n  }\r\n\r\n  registerModel(user : registerModel) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/model/register`,user,httpOptions)\r\n  }\r\n\r\n  uploadImagesModel(formData: FormData): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/modelsary`,formData,{\r\n        reportProgress: true,\r\n        observe: 'events'\r\n    });\r\n  }\r\n\r\n  // Not\r\n  // confirm(email : string , password : string, codeConfirmUser : string) : Observable<any>{\r\n  //   return this.http.put(`${this.endpoint}/confirmation`,{email,password, codeConfirmUser}, httpOptions)\r\n  // }\r\n\r\n  // Not\r\n  // resendConfirm(email : string) : Observable<any>{\r\n  //   return this.http.post(`${this.endpoint}/resend`,{email}, httpOptions)\r\n  // }\r\n\r\n  // Not\r\n  forgot(email : string) : Observable<any>{\r\n    const options = {\r\n      email : email\r\n    }\r\n    return this.http.post(`${this.endpoint}/forgot`, options, httpOptions)\r\n  }\r\n\r\n  checkTokenValidation(token : string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/forgot?token=${token}`)\r\n  }\r\n\r\n  changePassowrd(password : string,newPassword : string) : Observable<any>{\r\n    return this.http.put(`${this.endpoint}/password`,{password : password, newPassword : newPassword},httpOptions)\r\n  }\r\n\r\n  updatePassword(token : string,password : string) : Observable<any>{\r\n    return this.http.put(`${this.endpoint}/forgot`,{token,password},httpOptions)\r\n  }\r\n\r\n  getToken(){\r\n    let token = this.store.get(\"token\");\r\n    if (token === null) {\r\n      return false;\r\n    }\r\n    return token;\r\n  }\r\n\r\n  get isConnected() : boolean{\r\n    let authToken = this.store.get(\"token\");\r\n    return authToken != null\r\n  }\r\n\r\n  logoutUser(who: string, route: string){\r\n    let removeToken =  this.store.set(\"token\", null);\r\n        if (removeToken == null) {\r\n            // this.router.navigate(['connexion']);\r\n            // this.router.navigate([route]);\r\n            // setTimeout(\r\n            //   () => {\r\n            //     window.location.reload();\r\n            //   }, 200\r\n            // );\r\n            window.location.href = route;\r\n        }\r\n  }\r\n\r\n  async saveToken(token, id?: number) {\r\n    if (id) await this.store.set(\"identification//\", id);\r\n    await this.store.set(\"token\", token);\r\n  }\r\n\r\n  verifyToken(token: string) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/verify_token`, {token} ,httpOptions)\r\n  }\r\n\r\n  verifyAdminToken(token: string) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/verify_admin_token`, {token} ,httpOptions)\r\n  }\r\n\r\n}\r\n","export enum TypeTimer {\r\n  PRIVATE = 'private',\r\n  FREE = 'free',\r\n  VIP = 'vip',\r\n  TIPS = 'tips',\r\n  CHOICE = 'choice'\r\n}\r\n\r\nexport interface CreditTimer {\r\n  clientId: number;\r\n  modelId: number;\r\n  timerId: number;\r\n  showCredit: number;\r\n  showSecond: number;\r\n  showType: TypeTimer;\r\n  roomId: number;\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport * as $ from 'jquery';\r\nimport { CreditService } from '../../services/credit/credit.service';\r\nimport { PaiementService, CentralPayDto } from '../../services/paiement/paiement.service';\r\nimport { NotificationService } from '../../services/notification/notification.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\n\r\ninterface Card {\r\n  firstName: string,\r\n  lastName: string,\r\n  email: string,\r\n  card: string,\r\n  mm: string,\r\n  yyyy: string,\r\n  cvv: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-central-pay',\r\n  templateUrl: './central-pay.component.html',\r\n  styleUrls: ['./central-pay.component.scss']\r\n})\r\nexport class CentralPayComponent implements OnInit {\r\n  montant: number = null;\r\n  credit: number = null;\r\n  designation: string = null;\r\n  creditId: number = null;\r\n  id: number = null;\r\n  payForm : FormGroup;\r\n  submitted: boolean = false;\r\n  loading: boolean = false;\r\n  endpoint: string;\r\n  paymentRequestId: string;\r\n\r\n\r\n  currentCard: string = null;\r\n  oldCount: number = 0;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<CentralPayComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private formBuilder: FormBuilder,\r\n    private creditService: CreditService,\r\n    private paiementService: PaiementService,\r\n    private notificationService: NotificationService,\r\n    private socketService: SocketService) {\r\n      this.payForm = this.formBuilder.group({\r\n        firstName: ['', Validators.required],\r\n        lastName: ['', Validators.required],\r\n        email: ['',[Validators.required, Validators.email]],\r\n        card: ['', [Validators.required, Validators.pattern(/^(?=\\W*\\w).{14,20}$/)]],\r\n        mm: ['', [Validators.required, Validators.pattern(/^(?=\\D*\\d).{1,2}$/)]],\r\n        yyyy: ['', [Validators.required, Validators.pattern(/^(?=\\D*\\d).{4}$/)]],\r\n        cvv: ['',[Validators.required, Validators.pattern(/^(?=\\D*\\d).{3,4}$/)]]\r\n      })\r\n    }\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.montant = this.data.montant;\r\n    this.credit = this.data.credit;\r\n    this.designation = this.data.designation;\r\n    this.creditId = this.data.creditId;\r\n    this.id = this.data.id;\r\n    this.endpoint = this.data.url ? this.data.url : '#';\r\n    this.paymentRequestId = this.data.paymentRequestId;\r\n    console.log('PayementRequestId ', this.paymentRequestId);\r\n    this.socketService.listen(`centralPay ${this.paymentRequestId}`).subscribe(\r\n      (data: any) => {\r\n        console.log('From Central Pay ', data);\r\n        if (data && data.object) {\r\n          if (data.object.transactionStatus === \"SUCCESS\") {\r\n            this.pay();\r\n          } else {\r\n            this.notificationService.failure('Paiement', `${data.object.bankMessage} - ${data.object.transactionStatus}`);\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close(0);\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    this.dialogRef.close('good')\r\n  }\r\n\r\n  get form() { return this.payForm.controls }\r\n\r\n\r\n  pressCard(event: any){\r\n    var charCode = (event.which) ? event.which : event.keyCode\r\n\r\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\r\n      var lastIndex = this.currentCard.length;\r\n      this.currentCard = this.currentCard.substring(0, lastIndex-1);\r\n      return false;\r\n    }\r\n    const word = event.target.value;\r\n    const long = this.currentCard ? this.currentCard.length : 0;\r\n    if (this.oldCount < long) {\r\n      this.oldCount = long;\r\n      if (long === 4 || long === 9 || long === 14) {\r\n        this.currentCard += ' ';\r\n      }\r\n    } else {\r\n      this.oldCount = long;\r\n    }\r\n\r\n    // if (this.currentCard.length > 3) this.currentCard = '99999';\r\n }\r\n\r\n\r\n async pay() {\r\n  this.submitted = true;\r\n  // event.preventDefault();\r\n  // if (this.payForm.invalid) {\r\n  //   return false;\r\n  // }\r\n  // this.loading = true;\r\n\r\n  // let details: Card = this.payForm.value;\r\n\r\n  // let dataToCentralPay: CentralPayDto = {\r\n  //   firstname: details.firstName,\r\n  //   lastname: details.lastName,\r\n  //   number: details.card.replace(/\\s/g,''),\r\n  //   holderEmail: details.email,\r\n  //   expirationMonth: details.mm,\r\n  //   expirationYear: details.yyyy,\r\n  //   cvc: details.cvv\r\n  // }\r\n\r\n  // console.log(dataToCentralPay);\r\n\r\n  // this.paiementService.goToCentralPay(dataToCentralPay).subscribe(\r\n  //   (data) => {\r\n  //     console.log('Go to central Pay ', data);\r\n  //   }, (error) => {\r\n  //     console.log('Error go to central Pay ', error);\r\n  //   }\r\n  // )\r\n\r\n  // console.log(details)\r\n  this.paiementService.saveDetailsBuyPack(this.designation, this.credit, this.montant,\r\n    'none', 'none', 'none', 'none',\r\n    'none', 'none', 'none')\r\n    .subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        if (data.error) {\r\n          this.notificationService.infoMsg(data.message);\r\n          this.loading = false;\r\n        } else {\r\n          if (this.designation === 'abonnement') {\r\n            this.validate();\r\n            this.loading = false;\r\n          } else {\r\n            this.creditService.buyCreditClient(this.montant, this.credit, this.creditId, this.id).subscribe(\r\n              async (data) => {\r\n                if (!data) {\r\n                  this.notificationService.failure(`Pack ${this.designation}`,\r\n                  `Votre transaction a echoué.`);\r\n                } else {\r\n                  this.validate();\r\n                }\r\n                this.loading = false;\r\n              }\r\n            );\r\n          }\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.loading = false;\r\n      }\r\n    )\r\n}\r\n\r\n\r\n}\r\n","<div class=\"main_pay\">\r\n\r\n  <div class=\"contain_signup_one\">\r\n    <div class=\"inside_sign part_one\">\r\n      <h2>INFORMATIONS BANCAIRE</h2>\r\n      <div class=\"blank\"></div>\r\n    </div>\r\n  </div>\r\n\r\n  <iframe [src]=\"endpoint | safe\" title=\"description\"></iframe>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport * as agCharts from 'ag-charts-community';\r\nimport { log } from './connexion';\r\n@Component({\r\n  selector: 'app-connexion',\r\n  templateUrl: './connexion.component.html',\r\n  styleUrls: ['./connexion.component.scss']\r\n})\r\nexport class ConnexionComponent implements OnInit {\r\n  options: any;\r\n  updating: boolean = false;\r\n  history = [\r\n    // { year: '', lundi: 0, mardi: 0, mercredi: 0, jeudi: 0, vendredi: 0, samedi: 0, dimanche: 0},\r\n    { year: '2014', lundi: 18, mardi: 20, mercredi: 10, jeudi: 10, vendredi: 8, samedi: 10, dimanche: 6}\r\n  ];\r\n\r\n  constructor() {\r\n    this.options = {\r\n      autoSize: true,\r\n      data: this.getData(),\r\n      series: [\r\n        {\r\n          type: 'column',\r\n          xKey: 'year',\r\n          yKeys: ['lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi', 'dimanche'],\r\n          yNames: ['Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi', 'Dimanche'],\r\n          grouped: true,\r\n          fills: ['#117abe', 'rgb(247, 113, 4)', 'rgb(117, 117, 116)', 'rgb(255, 166, 0)',\r\n          'rgb(0, 0, 255)', 'rgb(0, 128, 0)', 'rgb(0, 0, 85)'\r\n          ],\r\n          strokeWidth: 0,\r\n          marker: {\r\n            enabled: false,\r\n            fill: '#80a0c3',\r\n          },\r\n        },\r\n      ],\r\n      axes: [\r\n        {\r\n          type: 'category',\r\n          position: 'bottom',\r\n          title: {\r\n            enabled: true,\r\n            text: 'Nombre d\\'heure de connexion',\r\n            color: 'white'\r\n          },\r\n          tick: { color:  \"rgb(255, 255, 255)\"},\r\n          label: {\r\n            color:  \"rgb(255, 255, 255)\",\r\n            formatter: function (params) {\r\n              return '';\r\n            },\r\n          },\r\n        },\r\n        {\r\n          type: 'number',\r\n          position: 'left',\r\n          keys: ['lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi', 'dimanche'],\r\n          title: {\r\n            enabled: false\r\n          },\r\n          label: {\r\n            color:  \"rgb(255, 255, 255)\",\r\n            formatter: function (params) {\r\n              return params.value;\r\n            },\r\n          },\r\n        }\r\n      ],\r\n      background: {\r\n        fill: \"#FFF\",\r\n        visible: false\r\n      },\r\n      tooltip: {\r\n        enabled: true\r\n      },\r\n      navigator: {\r\n        enabled: true\r\n      },\r\n      title: { text: '' },\r\n      legend: {\r\n        position: 'bottom',\r\n        enabled: true,\r\n        item: {\r\n          label: {\r\n            color: 'white'\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.startUpdates();\r\n    this.useDefaultGridStyle();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    //Called once, before the instance is destroyed.\r\n    //Add 'implements OnDestroy' to the class.\r\n    console.log(\"destroyed\");\r\n  }\r\n\r\n  useDefaultGridStyle = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    var gridStyle = [\r\n      {\r\n        stroke: 'white',\r\n        lineDash: [2, 1],\r\n      },\r\n    ];\r\n    options.axes[0].gridStyle = gridStyle;\r\n    options.axes[1].gridStyle = gridStyle;\r\n    this.options = options;\r\n  };\r\n\r\n  update = () => {\r\n    const options = cloneDeep(this.options);\r\n    options.data = this.getData();\r\n    this.options = options;\r\n  };\r\n\r\n  startUpdates = () => {\r\n    if (this.updating) {\r\n      return;\r\n    }\r\n    this.updating = true;\r\n    this.update();\r\n    // setInterval(this.update, 500);\r\n  };\r\n\r\n  getData() {\r\n    this.updating = false;\r\n    return this.history;\r\n  }\r\n}\r\n\r\n","<div class=\"main_content\">\r\n  <div class=\"title_cnx\">\r\n    STATISTIQUE DE CONNEXION\r\n  </div>\r\n\r\n  <div class=\"contain_histogramme\">\r\n    <div class=\"wrapper\">\r\n      <ag-charts-angular\r\n        style=\"height: 100%; width: 100%; overflow: hidden\"\r\n        [options]=\"options\"\r\n      ></ag-charts-angular>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","<div class=\"contain_setting\">\r\n  <div class=\"title_setting\">\r\n    PARAMETRER LE JAUGE  DE VOTRE TIPS\r\n  </div>\r\n\r\n  <div class=\"contain_total\">\r\n    <div class=\"total_tips\">\r\n      <p>Total TIPS</p>\r\n      <p>{{totalTips(false)}}</p>\r\n    </div>\r\n    <div class=\"total_price\">\r\n      <p>Total €</p>\r\n      <p>{{totalTips(true)}} €</p>\r\n    </div>\r\n  </div>\r\n\r\n  <mat-tab-group mat-align-tabs=\"center\">\r\n    <mat-tab label=\"Bronze\">\r\n\r\n      <div class=\"container-fluid contain_value\">\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"title_table\">Palier</div></div>\r\n          <div class=\"col-3\"><div class=\"title_table\">Tips</div></div>\r\n          <div class=\"col-5\"><div class=\"title_table\">Description</div></div>\r\n        </div>\r\n        <div class=\"row\" *ngFor=\"let item of settingBronze; let i=index\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              Palier {{i+1}}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <input type=\"number\" [(ngModel)]=\"settingBronze[i].tips\">\r\n          </div>\r\n          <div class=\"col-5\">\r\n            <input type=\"text\" placeholder=\"...\" [(ngModel)]=\"settingBronze[i].description\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"value_table\">TIPS total Bronze</div></div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsBronze(false)}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              TOTAL €\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsBronze(true)}} €\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </mat-tab>\r\n\r\n    <mat-tab label=\"Argent\">\r\n\r\n      <div class=\"container-fluid contain_value\">\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"title_table\">Palier</div></div>\r\n          <div class=\"col-3\"><div class=\"title_table\">Tips</div></div>\r\n          <div class=\"col-5\"><div class=\"title_table\">Description</div></div>\r\n        </div>\r\n        <div class=\"row\" *ngFor=\"let item of settingArgent; let i=index\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              Palier {{i+1}}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <input type=\"number\" [(ngModel)]=\"settingArgent[i].tips\">\r\n          </div>\r\n          <div class=\"col-5\">\r\n            <input type=\"text\" placeholder=\"...\" [(ngModel)]=\"settingArgent[i].description\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"value_table\">TIPS total Argent</div></div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsArgent(false)}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              TOTAL €\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsArgent(true)}} €\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </mat-tab>\r\n\r\n    <mat-tab label=\"Or\">\r\n\r\n      <div class=\"container-fluid contain_value\">\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"title_table\">Palier</div></div>\r\n          <div class=\"col-3\"><div class=\"title_table\">Tips</div></div>\r\n          <div class=\"col-5\"><div class=\"title_table\">Description</div></div>\r\n        </div>\r\n        <div class=\"row\" *ngFor=\"let item of settingOr; let i=index\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              Palier {{i+1}}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <input type=\"number\" [(ngModel)]=\"settingOr[i].tips\">\r\n          </div>\r\n          <div class=\"col-5\">\r\n            <input type=\"text\" placeholder=\"...\" [(ngModel)]=\"settingOr[i].description\">\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\"><div class=\"value_table\">TIPS total Or</div></div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsOr(false)}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"col-4\">\r\n            <div class=\"value_table\">\r\n              TOTAL €\r\n            </div>\r\n          </div>\r\n          <div class=\"col-3\">\r\n            <div class=\"value_table calcul_table\">\r\n              {{someTipsOr(true)}} €\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n  <div class=\"contain_error\">\r\n    <p *ngIf=\"incomplete\">\r\n      Veuillez completer tout les paliers (bronze, argent, or)\r\n    </p>\r\n    <p *ngIf=\"invalid\">\r\n      Veuillez saisir des valeurs valides et croissantes depuis les paliers bronze, argent et or\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"contain_action\">\r\n    <button class=\"btn_cancel\" (click)=\"close()\">\r\n      Annuler\r\n    </button>\r\n    <button class=\"btn_save\" (click)=\"saveSetting()\">\r\n      <div class=\"loader\" *ngIf=\"loading\"></div>\r\n      <span *ngIf=\"!loading\">Valider</span>\r\n    </button>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { PaiementService } from '../../../services/paiement/paiement.service';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-setting-tips',\r\n  templateUrl: './setting-tips.component.html',\r\n  styleUrls: ['./setting-tips.component.scss']\r\n})\r\nexport class SettingTipsComponent implements OnInit {\r\n  incomplete: boolean = false;\r\n  invalid: boolean = false;\r\n  loading: boolean = false;\r\n\r\n  settingBronze = [\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null }\r\n  ]\r\n\r\n  settingArgent = [\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null }\r\n  ]\r\n\r\n  settingOr = [\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null },\r\n    { tips: 0, description: null }\r\n  ]\r\n\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<SettingTipsComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private paiementService: PaiementService,\r\n    private roomTipsService: RoomTipsService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.roomTipsService.getLastDescriptions().subscribe(\r\n      (data: any) => {\r\n        if (data.tips && data.descriptions) {\r\n          const tips = data.tips?.split('~');\r\n          const descriptions = data.descriptions?.split('~');\r\n          this.autocompleteField(tips, descriptions);\r\n        }\r\n\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  autocompleteField(tips: any[], descriptions: any[]) {\r\n    let countBronze = 0;\r\n    let countArgent = 0;\r\n    let countOr = 0;\r\n    for(let i = 0; i < 5; i++) {\r\n      this.settingBronze[countBronze].tips = parseInt(tips[i]);\r\n      this.settingBronze[countBronze].description = descriptions[i];\r\n      countBronze++;\r\n    }\r\n    for(let i = 5; i < 10; i++) {\r\n      this.settingArgent[countArgent].tips = parseInt(tips[i]);\r\n      this.settingArgent[countArgent].description = descriptions[i];\r\n      countArgent++;\r\n    }\r\n    for(let i = 10; i < 15; i++) {\r\n      this.settingOr[countOr].tips = parseInt(tips[i]);\r\n      this.settingOr[countOr].description = descriptions[i];\r\n      countOr++;\r\n    }\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close(0);\r\n  }\r\n\r\n  async validate(tips: string, description: string): Promise<void> {\r\n    this.dialogRef.close({\r\n      success: true,\r\n      tips,\r\n      description\r\n    });\r\n  }\r\n\r\n  someTipsBronze(isPrice: boolean) {\r\n    let total = 0;\r\n    this.settingBronze.map(\r\n      (value) => {\r\n        total += value.tips;\r\n      }\r\n    );\r\n    if(isPrice) return this.paiementService.convertCreditToMoney(total);\r\n    return total;\r\n  }\r\n\r\n  someTipsArgent(isPrice: boolean) {\r\n    let total = 0;\r\n    this.settingArgent.map(\r\n      (value) => {\r\n        total += value.tips;\r\n      }\r\n    );\r\n    if(isPrice) return this.paiementService.convertCreditToMoney(total);\r\n    return total;\r\n  }\r\n\r\n  someTipsOr(isPrice: boolean) {\r\n    let total = 0;\r\n    this.settingOr.map(\r\n      (value) => {\r\n        total += value.tips;\r\n      }\r\n    );\r\n    if(isPrice) return this.paiementService.convertCreditToMoney(total);\r\n    return total;\r\n  }\r\n\r\n  totalTips(isPrice: boolean) {\r\n    let total = 0;\r\n    this.settingBronze.map((value) => total += value.tips);\r\n    this.settingArgent.map((value) => total += value.tips);\r\n    this.settingOr.map((value) => total += value.tips);\r\n    if(isPrice) return this.paiementService.convertCreditToMoney(total);\r\n    return total;\r\n  }\r\n\r\n  saveSetting() {\r\n    this.incomplete = false;\r\n    this.invalid = false;\r\n    let isEmpty = false;\r\n    let isInvalid = false;\r\n    let last = 0;\r\n    let tipsFusion = '';\r\n    let descriptionsFusion = '';\r\n\r\n    // Verify if is Empty\r\n    this.settingBronze.map((value) => { if(value.tips <= 0 || value.description === null || value.description === '') isEmpty = true;});\r\n    this.settingArgent.map((value) => { if(value.tips <= 0 || value.description === null || value.description === '') isEmpty = true;});\r\n    this.settingOr.map((value) => { if(value.tips <= 0 || value.description === null || value.description === '') isEmpty = true;});\r\n    if (isEmpty) { this.incomplete = true; return null; }\r\n\r\n    // Verify if value tips croissant\r\n    this.settingBronze.map((value) => {\r\n      if (value.tips < last) {isInvalid = true; console.log(value.tips, ' < ' , last)}\r\n      last = value.tips;\r\n    });\r\n\r\n    this.settingArgent.map((value) => {\r\n      if (value.tips < last) {isInvalid = true; console.log(value.tips, ' < ' , last)}\r\n      last = value.tips;\r\n    });\r\n\r\n    this.settingOr.map((value) => {\r\n      if (value.tips < last) {isInvalid = true; console.log(value.tips, ' < ' , last)}\r\n      last = value.tips;\r\n    });\r\n\r\n    if (isInvalid) { this.invalid = true; return null; }\r\n\r\n    this.loading = true;\r\n    // fusion all tips and descrptions value\r\n    this.settingBronze.map((value) => { tipsFusion += value.tips + '~'; descriptionsFusion += value.description + '~'; });\r\n    this.settingArgent.map((value) => { tipsFusion += value.tips + '~'; descriptionsFusion += value.description + '~'; });\r\n    this.settingOr.map((value) => { tipsFusion += value.tips + '~'; descriptionsFusion += value.description + '~'; });\r\n\r\n    this.loading = false;\r\n    this.validate(tipsFusion, descriptionsFusion);\r\n  }\r\n\r\n\r\n}\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport * as $ from 'jquery'\r\n\r\n// Peer\r\nimport './../shim';\r\nimport Peer from \"peerjs\"\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n@Component({\r\n  selector: 'app-live-vip-model',\r\n  templateUrl: './live-vip-model.component.html',\r\n  styleUrls: ['./live-vip-model.component.scss', './../../live/live.scss']\r\n})\r\nexport class LiveVipModelComponent implements OnInit, OnDestroy {\r\n  context: string = \"LIVE VIP\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n  showInfoRoom: boolean = true;\r\n\r\n  client = {\r\n    img: \"assets/images/user_chat.png\",\r\n    pseudo: '',\r\n    id: 0\r\n  }\r\n\r\n  info = {\r\n    bg : \"assets/logos/dark-light.jpg\",\r\n    message : '',\r\n    idRoom: 0,\r\n    pseudo: '',\r\n    chatColor:'#FB77FC',\r\n    modelId: 0,\r\n    actif: 0,\r\n    creditModel: 0,\r\n    idCreditModel: 0,\r\n    winCredit: 0\r\n  }\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  stat = {\r\n    id_show: 0,\r\n    type_show : null,\r\n    tarif_show: 0,\r\n    time_show: 0,\r\n    client: this.client.pseudo,\r\n    time_passed : this.timer.hour + ':' + this.timer.minute + ':' + this.timer.second,\r\n    hour_passed : null,\r\n    minute_passed : null,\r\n    second_passed : null,\r\n    actualCredit: this.info.creditModel,\r\n    winCredit: this.info.winCredit,\r\n    totalCredit: this.info.creditModel +  this.info.winCredit\r\n  }\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n\r\n\r\n  loading: boolean = false;\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  roomId = null;\r\n\r\n  sound_notification: boolean;\r\n  sound_message: boolean;\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  @ViewChild('video_live_client', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string;\r\n  private lazyStream: any;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n\r\n  hasGotStreamClient: boolean = false;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private modelService: ModelService,\r\n    private route: ActivatedRoute,\r\n    private chatService: ChatService,\r\n    private roomVipService: RoomVipService,\r\n    private socketService: SocketService,\r\n    private profilService: ProfilService,\r\n    private timerService: TimerService,\r\n    private creditService: CreditService,\r\n    private banishService: BanishService,\r\n    private profileService: ProfilService) {\r\n      this.peer = new Peer();\r\n      // const id = this.route.snapshot.paramMap.get('clientId');\r\n      // this.client.id = parseInt(id);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifySound();\r\n    $(document).ready(\r\n      function() {\r\n        initSettingVideoModel();\r\n      }\r\n    );\r\n    this.video.nativeElement.autoplay = true;\r\n    this.video.nativeElement.playsInline = true;\r\n    this.video.nativeElement.muted = true;\r\n    this.remote_video.nativeElement.autoplay = true;\r\n    this.remote_video.nativeElement.playsInline = true;\r\n    this.getInfo();\r\n    this.initLiveVideo();\r\n    this.VerifyHasGotStreamClient();\r\n  }\r\n\r\n  VerifyHasGotStreamClient() {\r\n    setTimeout(() => {\r\n      console.log('verify stream client after 10 sec');\r\n      if (!this.hasGotStreamClient) {\r\n        if (this.peerId) {\r\n          const data = {\r\n            role: 'model',\r\n            modelId: this.info.modelId,\r\n            room : this.info.idRoom+'V',\r\n            peerId: this.peerId\r\n          }\r\n          this.socketService.newPeerIdModel(data);\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            const data = {\r\n              role: 'model',\r\n              modelId: this.info.modelId,\r\n              room : this.info.idRoom+'V',\r\n              peerId: this.peerId\r\n            }\r\n            this.socketService.newPeerIdModel(data);\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  toggleShowInfoRoom() {\r\n    this.showInfoRoom = !this.showInfoRoom;\r\n  }\r\n\r\n  verifySound() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data.setting);\r\n        this.sound_notification = data.setting.sound_notification === 1 ? true : false;\r\n        this.sound_message = data.setting.sound_message === 1 ? true : false;\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.onStop();\r\n    clearInterval(this.timer.timer)\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n  }\r\n\r\n  // Get info Model\r\n  getInfo() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log('Get info ', data);\r\n        if (data.profile.status === 'En live') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/live-private']);\r\n        }\r\n        if (data.profile.status === 'En ligne') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/chat']);\r\n        }\r\n        this.info.bg = data.path_soft;\r\n        this.info.modelId = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.getInfoRoom();\r\n        this.getCredit();\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  getInfoRoom() {\r\n    this.roomVipService.getRoomModel(this.info.modelId).subscribe(\r\n      (data) => {\r\n        // console.log('Model room ', data);\r\n        this.info.idRoom = data.idRoom;\r\n        this.roomId = data.idRoom +'V';\r\n        this.info.actif = data.actif;\r\n        this.client.id = data.clientId;\r\n        this.getMessages();\r\n        this.initSocket();\r\n        this.getInfoClient();\r\n      }\r\n    )\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data) => {\r\n        // console.log(\"Credit \", data);\r\n        this.info.creditModel = data ? data.credit : 0;\r\n        this.info.idCreditModel = data ? data.id : 0;\r\n        this.stat.totalCredit = this.info.creditModel;\r\n        this.getGain();\r\n      }\r\n    );\r\n\r\n    // Launch the timer\r\n    this.initTimer();\r\n    this.getCostShow();\r\n  }\r\n\r\n  initSocket() {\r\n    if (!this.roomVipService.joinedRoom(this.info.idRoom)) {\r\n      this.roomVipService.joinRoom(this.info.idRoom);\r\n      this.socketService.joinVip(this.info.idRoom, this.info.modelId);\r\n    }\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.info.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('joined ', data);\r\n        // this.info.actif = data < 1 ? 0 : data;\r\n        // this.info.actif = data > 2 ? 2 : data;\r\n        this.info.actif = 2;\r\n        if (this.sound_notification) {\r\n          this.socketService.soundIncome();\r\n        }\r\n        this.leaved = false;\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.info.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        // this.info.actif = data < 1 ? 0 : data;\r\n        // this.info.actif = data > 2 ? 2 : data;\r\n        this.info.actif = 1;\r\n        if (this.sound_notification) {\r\n          this.socketService.soundOutcome();\r\n        }\r\n        this.leaved = true;\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.info.idRoom}V`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Message from client ', data);\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.peerSub = this.socketService.listen(`peerId ${this.info.idRoom}V`).subscribe(\r\n      (data: {peerId: any, idRoom: string}) => {\r\n        console.log('Received Peer Id ', data);\r\n        this.peerIdShare = data.peerId;\r\n        this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.info.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.info.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo)\r\n          }\r\n      }\r\n    );\r\n  }\r\n\r\n  toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n    if (isAudio) {\r\n      $('#video_live_client').prop('volume', 1)\r\n    } else {\r\n      $('#video_live_client').prop('volume', 0)\r\n    }\r\n  }\r\n\r\n  toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n    var filterVal = 'blur(0px)';\r\n    var filterFull = 'blur(200px)';\r\n    if (isVideo) {\r\n      $('#video_live_client')\r\n      .css('filter',filterVal)\r\n      .css('webkitFilter',filterVal)\r\n      .css('mozFilter',filterVal)\r\n      .css('oFilter',filterVal)\r\n      .css('msFilter',filterVal);\r\n    } else {\r\n      $('#video_live_client')\r\n      .css('filter',filterFull)\r\n      .css('webkitFilter',filterFull)\r\n      .css('mozFilter',filterFull)\r\n      .css('oFilter',filterFull)\r\n      .css('msFilter',filterFull);\r\n    }\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.info.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.info.idRoom,\r\n      message: this.info.message,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'vip',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.info.idRoom + 'V',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      message: this.info.message,\r\n      idRoom: this.info.idRoom,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'vip',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.info.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.info.idRoom, 'vip').subscribe(\r\n      (data) => {\r\n        // console.log('Messages ', data);\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoClient() {\r\n    this.roomVipService.getInfo(this.client.id).subscribe( // info client\r\n      (data) => {\r\n        // console.log(\"Info client \", data);\r\n        this.client.pseudo = data.pseudo;\r\n        this.stat.client = data.pseudo;\r\n      }\r\n    )\r\n  }\r\n\r\n  async liveOut() {\r\n    this.loading = true;\r\n    this.onStop();\r\n    await (await this.leaveTimer()).subscribe(\r\n      async (data) => {\r\n        this.timer.reinit = true;\r\n        this.clearTimer(); // set to zero\r\n        return await this.socketService.leaveVip(this.info.idRoom, 'model').then(\r\n          async (data) => {\r\n          this.roomVipService.leaveRoom();\r\n          await this.profilService.updateStatus(this.info.modelId, 'En ligne').subscribe(\r\n          (data) => {\r\n            this.loading = false;\r\n            window.location.href = '/modele/chat';\r\n            // this.router.navigate(['/modele/chat']);\r\n            }\r\n          )}\r\n        );\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n      // Timer\r\n  async initTimer() {\r\n        this.timerService.beginTimerModel(this.info.modelId, TypeTimer.VIP).subscribe(\r\n          async (data) => {\r\n            // console.log('Timer ', data);\r\n            const created: Date = data.createdAt;\r\n            const updated: Date = data.updatedAt;\r\n            this.timer.id = data.id;\r\n            // console.log(created.toString(), \" to \", updated.toString());\r\n            const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n            this.timer.hour = hour;\r\n            this.timer.minute = minute;\r\n            this.timer.second = second;\r\n            this.stat.time_passed = this.timer.hour + ' : ' + this.timer.minute + ' : ' +this.timer.second;\r\n            this.stat.hour_passed = this.timer.hour;\r\n            this.stat.minute_passed = this.timer.minute;\r\n            this.stat.second_passed = this.timer.second;\r\n            // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n          }\r\n    )\r\n  }\r\n\r\n  async getCostShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data);\r\n        this.stat.tarif_show = data.credit;\r\n        this.stat.time_show = data.second;\r\n        this.stat.type_show = (data.type + '').toString().toUpperCase();\r\n        this.stat.id_show = data.id;\r\n        this.beginTimer();\r\n      }\r\n    )\r\n  }\r\n\r\n  beginTimer() {\r\n    // console.log(\"timer second \", this.show.second);\r\n    const delay = this.stat.time_show * 1000;\r\n    // console.log(delay, \" ms \");\r\n   this.timer.timer = setInterval(\r\n      () => {\r\n        if (this.info.actif > 1) this.getGain();\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  getGain() {\r\n    this.roomVipService.getRoomModel(this.info.modelId).subscribe(\r\n      (data) => {\r\n        // console.log(\"Gain \", data);\r\n        this.stat.winCredit = data.gain;\r\n        this.stat.actualCredit = this.stat.totalCredit - this.stat.winCredit;\r\n        this.info.winCredit = data.gain;\r\n    })\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.VIP,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n\r\n  // WEB RTC - LIVE VIDEO\r\n  initLiveVideo() {\r\n    // console.log(\"Start\");\r\n    this.onStart();\r\n    this.getPeerId();\r\n  }\r\n\r\n  onStart(){\r\n    if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n      navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n        this.lazyStream = ms;\r\n        // console.log('My stream ', ms);\r\n        this.video.nativeElement.srcObject = this.lazyStream;\r\n        // this.remote_video.nativeElement.srcObject = ms;\r\n        // const _video = this.video.nativeElement;\r\n        // _video.srcObject = ms;\r\n        // _video.play();\r\n        $('#video_live_model').prop('volume', 0);\r\n      });\r\n    }\r\n  }\r\n\r\n  onStop() {\r\n    this.lazyStream = null;\r\n    if (this.video && this.video.nativeElement.srcObject) {\r\n      this.video.nativeElement.pause();\r\n      if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n        (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n      }\r\n      this.video.nativeElement.srcObject = null;\r\n    }\r\n  }\r\n\r\n  private getPeerId = () => {\r\n    // console.log(\"Get Peer\");\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n      const data = {\r\n        role: 'model',\r\n        modelId: this.info.modelId,\r\n        room : this.info.idRoom+'V',\r\n        peerId: this.peerId\r\n      }\r\n      this.socketService.newPeerIdModel(data);\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log('On Call');\r\n      call.answer(this.lazyStream);\r\n      console.log('Answer stream');\r\n      call.on('stream', (remoteStream) => {\r\n        console.log('Receive stream');\r\n        this.hasGotStreamClient = true;\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      });\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: true,\r\n      //   audio: true\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   this.video.nativeElement.srcObject = stream;\r\n      //   // const _video = this.video.nativeElement;\r\n      //   // _video.srcObject = stream;\r\n      //   // _video.play();\r\n      //   call.answer(stream);\r\n      //   // console.log('Answer stream');\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     // console.log('Receive stream');\r\n      //     this.streamRemoteVideo(remoteStream);\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to get media');\r\n      // });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    console.log('Call peer');\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      console.log('Receive stream');\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: true,\r\n    //   audio: true\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(id, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     // console.log('Receive stream');\r\n    //     this.streamRemoteVideo(remoteStream);\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  private streamRemoteVideo(stream: MediaStream): void {\r\n    console.log('Stream Remote video ', stream)\r\n    // this.remote_video.nativeElement.srcObject = stream;\r\n    const _video = this.remote_video.nativeElement;\r\n    _video.srcObject = stream;\r\n    setTimeout(() => {\r\n      _video.play();\r\n    }, 3000)\r\n\r\n    // const video = document.createElement('video');\r\n    // video.classList.add('video');\r\n    // video.srcObject = stream;\r\n    // video.play();\r\n    // document.getElementById('remote-video').append(video);\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    }\r\n    // if (this.showVideo) {\r\n    //   $(\"#video_live_model\").removeClass( \"hideStream\" ).addClass(\"showStream\");\r\n    // } else {\r\n    //   $(\"#video_live_model\").removeClass(\"showStream\").addClass(\"hideStream\");\r\n    // }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'V'\r\n    this.socketService.toggleVideo(room, null, this.peerId, this.info.modelId, this.showVideo)\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'V'\r\n    this.socketService.toggleAudio(room, null, this.peerId, this.info.modelId, this.showAudio)\r\n  }\r\n\r\n  banish() {\r\n    if (this.client.id === 0 || !this.client.id || !this.roomId) return null\r\n    this.banishService.banishClient(this.info.modelId, this.client.id).subscribe(\r\n      (data) => {\r\n        this.socketService.banishClient(this.roomId, this.client.id)\r\n        // console.log(data)\r\n      }\r\n    )\r\n  }\r\n\r\n    // -------- EMOJI -----------------\r\n\r\n    toggleEmojiPicker() {\r\n      this.showEmojiPicker = !this.showEmojiPicker;\r\n    }\r\n\r\n    addEmoji(event) {\r\n      const {info} = this;\r\n      // console.log(this.info.message);\r\n      // console.log(`${event.emoji.native}`);\r\n      let text = '';\r\n      if (this.info.message) {\r\n        text = `${info.message}${event.emoji.native}`;\r\n      } else {\r\n        text = `${event.emoji.native}`;\r\n      }\r\n      this.info.message = text;\r\n      // console.log(this.info.message)\r\n      // this.showEmojiPicker = false;\r\n    }\r\n\r\n    focus() {\r\n      this.showEmojiPicker = false;\r\n    }\r\n\r\n\r\n}\r\n","<app-header connected=\"true\" model=\"true\"></app-header>\r\n\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <app-topbar-model [context]=\"context\" [actif]=\"info.actif\"\r\n    [hour]=\"this.timer.hour\"\r\n    [minute]=\"this.timer.minute\"\r\n    [second]=\"this.timer.second\"\r\n    [reinit]=\"this.timer.reinit\"\r\n    ></app-topbar-model>\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"show_live_left show_live_left_model\">\r\n\r\n        <div class=\"videoContainer\" id=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls autoplay class=\"model_flow\" id=\"video_live_model\" #video_live_model muted=\"muted\"></video>\r\n        </div>\r\n\r\n        <div class=\"contain_info_room\">\r\n          <div class=\"contain_welcome\" (click)=\"toggleShowInfoRoom()\">\r\n            <i class=\"fa fa-chevron-right\" *ngIf=\"showInfoRoom\"></i>\r\n            <i class=\"fa fa-chevron-down\" *ngIf=\"!showInfoRoom\"></i>\r\n            <span *ngIf=\"showInfoRoom\">Bienvenue <span>{{info.pseudo}}</span></span>\r\n            <span *ngIf=\"!showInfoRoom\" class=\"label_room\">VIP Room</span>\r\n          </div>\r\n          <div class=\"contain_detail\" *ngIf=\"showInfoRoom\">\r\n            Vous êtes actuellement en <span class=\"label_room\">VIP Room</span> <br>\r\n            Faites satisfaction à ce client <br>\r\n            Et gagner des gains\r\n          </div>\r\n          <div class=\"contain_gain\" *ngIf=\"showInfoRoom\">\r\n            {{stat.tarif_show}} crédits / mn\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"client_live\" [ngClass]=\"{'dry_up': leaved}\">\r\n        <video controls [poster]=\"client.img\" muted=\"true\" class=\"client_flow\" id=\"video_live_client\" #video_live_client></video>\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Chat\">\r\n\r\n            <app-live-free-chat [modelId]=\"info.modelId\" [messages]=\"messages\"\r\n            [profil]=\"info.bg\" showMenu=\"true\"\r\n            isModel=\"true\" [clientId]=\"0\"></app-live-free-chat>\r\n\r\n          </mat-tab>\r\n          <mat-tab label=\"Statistiques\">\r\n\r\n            <app-live-vip-stat [type_show]=\"stat.type_show\" [tarif_show]=\"stat.tarif_show\"\r\n            [time_show]=\"stat.time_show\" [client]=\"stat.client\"\r\n            [time_passed]=\"stat.time_passed\" [hour_passed]=\"stat.hour_passed\"\r\n            [minute_passed]=\"stat.minute_passed\" [second_passed]=\"stat.second_passed\"\r\n            [actualCredit]=\"stat.actualCredit\"\r\n            [winCredit]=\"stat.winCredit\" [totalCredit]=\"stat.totalCredit\"\r\n            ></app-live-vip-stat>\r\n\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n\r\n      <div class=\"leave\" *ngIf=\"leaved\">\r\n        Le client : {{this.client.pseudo}} a quitté le room VIP.\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_banish lighter\" (click)=\"banish()\">Bannir le client</button>\r\n          <p></p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\">\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_banish lighter\" (click)=\"banish()\">Bannir le client</button>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"info.message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  // endpoint: \"http://localhost:3000\",\r\n  endpoint: \"https://betweenus-live.com/api\",\r\n  CRYPT_PSEUDO: \"storm/betweenus?...\",\r\n  CRYPT_PASS: \"0@8between.us\",\r\n  CRYPT_PSEUDO_MODEL: \"storm://betweenus?...\",\r\n  CRYPT_PASS_MODEL: \"@0@8çççbetween.us\"\r\n};\r\n\r\n/*\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, ElementRef, EventEmitter, Input, IterableDiffers, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { ClientCam } from '../../../../interfaces/chat.interface';\r\nimport * as $ from 'jquery'\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { BanishService } from 'src/app/services/banish/banish.service';\r\nimport { SocketService } from '../../../../services/socket/socket.service';\r\nimport { ClientService } from '../../../../services/client/client.service';\r\n\r\n\r\ninterface Stream {\r\n  clientId: number,\r\n  stream: MediaStream,\r\n  peerId: any,\r\n  isAudio: boolean,\r\n  isVideo: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'app-live-private-cam',\r\n  templateUrl: './live-private-cam.component.html',\r\n  styleUrls: ['./live-private-cam.component.scss']\r\n})\r\nexport class LivePrivateCamComponent implements OnInit {\r\n  @Input()\r\n  streams: Stream[];\r\n\r\n  @Input()\r\n  myId: number;\r\n\r\n  @Input()\r\n  clients: ClientCam[];\r\n\r\n  @Input()\r\n  canSelect: boolean;\r\n\r\n  @Input()\r\n  showListUser: boolean;\r\n\r\n  @Input()\r\n  roomId: string;\r\n\r\n  @Input()\r\n  modelId: number;\r\n\r\n  @Output()\r\n  clientSelected = new EventEmitter<number>();\r\n\r\n  idSelected: number = null;\r\n\r\n  currentPseudo: string = null;\r\n\r\n  img = \"assets/logos/dark-light.jpg\";\r\n  // img = \"assets/images/user_chat.png\";\r\n  iterableDiffer: any;\r\n\r\n  @ViewChild(MatMenuTrigger)\r\n  contextMenu: MatMenuTrigger;\r\n\r\n  contextMenuPosition = { x: '0px', y: '0px' };\r\n\r\n  @ViewChild('map') map;\r\n  private isVisible: boolean = false;\r\n\r\n  constructor(\r\n    private iterableDiffers: IterableDiffers,\r\n    private banishService: BanishService,\r\n    private socketService: SocketService,\r\n    private clientService: ClientService\r\n  ) {\r\n    this.iterableDiffer = iterableDiffers.find([]).create(null);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    $(\".live_cam\").autoplay = true;\r\n  }\r\n\r\n\r\n  ngAfterContentChecked(): void\r\n  {\r\n    setTimeout(\r\n      () => {\r\n        if (this.isVisible == false && this.map.nativeElement.offsetParent != null)\r\n        {\r\n            this.isVisible = true;\r\n            // console.log('visible');\r\n            $('.live_cam').trigger('play');\r\n        }\r\n        else if (this.isVisible == true && this.map.nativeElement.offsetParent == null)\r\n        {\r\n            // console.log('invisible')\r\n            this.isVisible = false;\r\n        }\r\n      }, 1000\r\n    )\r\n  }\r\n\r\n  selectClient(id: number) {\r\n    if (this.canSelect) {\r\n      this.idSelected = this.idSelected == id ? null : id;\r\n      this.clientSelected.emit(this.idSelected);\r\n    }\r\n  }\r\n\r\n  ngDoCheck() {\r\n    let changes = this.iterableDiffer.diff(this.streams);\r\n    if (changes) {\r\n      const theId = '#'+this.myId;\r\n      $(theId).prop('volume', 0);\r\n      this.toggleAudio();\r\n    }\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.streams.forEach(\r\n      stream => {\r\n        const currentId = '#'+stream.clientId\r\n        if (stream.isAudio) {\r\n          $(currentId).prop('volume', 1)\r\n        } else if (!stream.isAudio) {\r\n          $(currentId).prop('volume', 0)\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  getPseudo(clientId: number) {\r\n    if (!clientId) return null;\r\n    this.clientService.getClient(clientId).subscribe(\r\n      (data) => {\r\n        if (data && data.pseudo) {\r\n          this.currentPseudo = data.pseudo;\r\n        }\r\n        // console.log(this.currentPseudo);\r\n      }\r\n    )\r\n  }\r\n\r\n  clearPseudo() {\r\n    this.currentPseudo = null;\r\n  }\r\n\r\n  onContextMenu(event: MouseEvent, item: any) {\r\n    event.preventDefault();\r\n    this.contextMenuPosition.x = event.clientX + 'px';\r\n    this.contextMenuPosition.y = event.clientY + 'px';\r\n    this.contextMenu.menuData = { 'item': item };\r\n    this.contextMenu.menu.focusFirstItem('mouse');\r\n    this.contextMenu.openMenu();\r\n  }\r\n\r\n  banishClient(clientId: number) {\r\n    this.banishService.banishClient(this.modelId, clientId).subscribe(\r\n      (data) => {\r\n        this.socketService.banishClient(this.roomId, clientId)\r\n        // console.log(data)\r\n      }\r\n    )\r\n  }\r\n\r\n  clearStream(streamId: number) {\r\n    if (!streamId || (streamId === undefined)) return null;\r\n    console.log(streamId);\r\n    const index = this.streams.findIndex(element => element.clientId === streamId);\r\n    console.log('Index ', index);\r\n    let video = $(`#${streamId}`);\r\n    if (video && video.nativeElement.srcObject) {\r\n      video.nativeElement.pause();\r\n      if ((video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n        (video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n      }\r\n      video.nativeElement.srcObject = null;\r\n    }\r\n  }\r\n}\r\n","<div class=\"main_live_cam\" #map>\r\n  <div class=\"camera_item\" *ngFor=\"let stream of streams\">\r\n    <video autoplay controls *ngIf=\"canSelect !== true\"\r\n    oncanplay=\"this.play()\" onloadedmetadata=\"this.muted = true\"\r\n    class=\"live_cam\" [id]=\"stream.clientId\"\r\n    [poster]=\"img\" [srcObject]=\"stream.stream\"\r\n    [muted]=\"(stream.clientId === myId) || (!stream.isAudio)\"\r\n    [ngClass]=\"{'hideStream': !stream.isVideo, 'showStream': stream.isVideo}\">\r\n    </video>\r\n\r\n    <video autoplay controls *ngIf=\"canSelect === true\"\r\n    oncanplay=\"this.play()\" onloadedmetadata=\"this.muted = true\"\r\n    class=\"live_cam\" [id]=\"stream.clientId\"\r\n    [poster]=\"img\" [srcObject]=\"stream.stream\"\r\n    [muted]=\"(stream.clientId === myId) || (!stream.isAudio)\"\r\n    [ngClass]=\"{'hideStream': !stream.isVideo, 'showStream': stream.isVideo}\"\r\n    (mouseover)=\"getPseudo(stream.clientId)\"\r\n    (contextmenu)=\"onContextMenu($event, stream.clientId)\">\r\n    </video>\r\n\r\n  </div>\r\n<!--\r\n  <div class=\"list_user\" *ngIf=\"showListUser && clients.length > 0\">\r\n    <p class=\"pClient\"> {{clients.length}} Client <span *ngIf=\"clients.length > 1\">s</span></p>\r\n    <div class=\"pseudo_user\" *ngFor=\"let item of clients\" (click)=\"selectClient(item.client.id)\"\r\n    [ngClass]=\"{'selected': idSelected === item.client.id}\">\r\n        {{item.client.pseudo}}\r\n    </div>\r\n  </div> -->\r\n</div>\r\n\r\n<div style=\"visibility: hidden; position: fixed\"\r\n  [style.left]=\"contextMenuPosition.x\"\r\n  [style.top]=\"contextMenuPosition.y\"\r\n  [matMenuTriggerFor]=\"contextMenu\">\r\n</div>\r\n<mat-menu #contextMenu=\"matMenu\" #contextMenu2=\"matMenu\">\r\n\t<ng-template matMenuContent let-item=\"item\">\r\n    <button\r\n    class=\"btn_pseudo\">\r\n      {{currentPseudo}}\r\n    </button>\r\n\t\t<button mat-menu-item\r\n    class=\"btn_banish\"\r\n    (click)=\"banishClient(item)\">\r\n      Bannir\r\n    </button>\r\n\t</ng-template>\r\n</mat-menu>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PaiementService } from 'src/app/services/paiement/paiement.service';\r\nimport { CreditService } from '../../../../services/credit/credit.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SuiviPayModelComponent } from 'src/app/modals/suivi-pay-model/suivi-pay-model.component';\r\nimport { ModelService } from '../../../../services/model/model.service';\r\n\r\n@Component({\r\n  selector: 'app-solde',\r\n  templateUrl: './solde.component.html',\r\n  styleUrls: ['./solde.component.scss']\r\n})\r\nexport class SoldeComponent implements OnInit {\r\n  coinImg = \"assets/icons/coin-stack.svg\";\r\n  solde = 500;\r\n  modelId: number;\r\n  modelPseudo: string;\r\n\r\n  constructor(\r\n    private creditService: CreditService,\r\n    public paiementService: PaiementService,\r\n    private dialog: MatDialog,\r\n    private modelService: ModelService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getCredit();\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.solde = data.credit;\r\n        this.getInfoModel();\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoModel() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.modelId = data.id;\r\n        this.modelPseudo = data.pseudo;\r\n      }\r\n    )\r\n  }\r\n\r\n  detailPay() {\r\n    const dialogRef = this.dialog.open(SuiviPayModelComponent, {\r\n      width: '80vh',\r\n      height: '80vh',\r\n      data: {\r\n        modelId : this.modelId,\r\n        modelPseudo : this.modelPseudo\r\n      }\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n}\r\n","<div class=\"main_solde\">\r\n  <img [src]=\"coinImg\" alt=\"\">\r\n  <div class=\"contain_solde\">\r\n    {{solde}} crédit<span *ngIf=\"solde > 1\">s</span>\r\n    <br>\r\n    <p>\r\n      {{paiementService.convertCreditToMoney(solde)}} €\r\n    </p>\r\n  </div>\r\n  <button class=\"btn_pay\" (click)=\"detailPay()\">\r\n    Suivi de Paiement\r\n  </button>\r\n</div>\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signup_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>NOUVEAU <br> MOT DE PASSE</h2>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signup_two inside_sign\">\r\n  <h3 class=\"title\">\r\n    Réinitialisation  <br>\r\n    du mot de passe oublié\r\n  </h3>\r\n\r\n  <!-- <div class=\"descr\">\r\n      BETWEEN<span class=\"under_bold\">US</span>.LIVE <br>\r\n      Entrer le nouveau mot de passe <br>\r\n      Et confirmer le mot de passe. <br>\r\n  </div> -->\r\n\r\n  <form autocomplete=\"off\" (ngSubmit)=\"send()\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Nouveau mot de passe *</label>\r\n      <input type=\"password\" name=\"newPassword\" class=\"form-control input lighter\"\r\n      [(ngModel)]=\"newPassword\" required>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Confirmer le mot de passe *</label>\r\n      <input type=\"password\" name=\"confirmPassword\" class=\"form-control input lighter\"\r\n      [(ngModel)]=\"confirmPassword\" required>\r\n    </div>\r\n\r\n    <div *ngIf=\"errorToken\">\r\n      <small class=\"form-text error-text\" style=\"font-size: 15px;\">\r\n        {{errorToken}}\r\n      </small>\r\n    </div>\r\n\r\n    <div class=\"notif\">\r\n      * Champ obligatoire\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signup lighter\" type=\"submit\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">CONFIRMER</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport { AuthService } from '../../../services/auth/auth.service';\r\nimport { LogService } from '../../../services/log/log.service';\r\nimport { RoomService } from '../../../services/room/room.service';\r\n\r\n@Component({\r\n  selector: 'app-new-password',\r\n  templateUrl: './new-password.component.html',\r\n  styleUrls: ['./new-password.component.scss']\r\n})\r\nexport class NewPasswordComponent implements OnInit {\r\n  token  = null;\r\n  newPassword: string = null;\r\n  confirmPassword: string = null;\r\n  errorToken: string = null;\r\n  loading: boolean = false;\r\n\r\n  info = {\r\n    id: 0,\r\n    role: null\r\n  }\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private profilService: ProfilService,\r\n    private store: LocalStorageService,\r\n    private clientService: ClientService,\r\n    private modelService: ModelService,\r\n    private router: Router,\r\n    private authService: AuthService,\r\n    private logService: LogService,\r\n    private roomService: RoomService\r\n  )\r\n  {\r\n    this.activatedRoute.queryParams.subscribe(params => {\r\n      this.token = params['token'];\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifyToken();\r\n  }\r\n\r\n  verifyToken() {\r\n    if (!this.token) {\r\n      this.errorToken = \"Token invalid\";\r\n      return null;\r\n    }\r\n    this.store.set(\"token\", this.token);\r\n    this.profilService.getCredential().subscribe(\r\n      (data: {id: number, role: string}) => {\r\n        if (data.id && data.role) {\r\n          this.info.id = data.id;\r\n          this.info.role = data.role;\r\n        } else {\r\n          this.errorToken = \"Token invalid\";\r\n        }\r\n        console.log(\"Credential \", data);\r\n      }, (error) => {\r\n        this.errorToken = \"Token invalid\";\r\n      }\r\n    )\r\n  }\r\n\r\n  send() {\r\n    this.errorToken = null;\r\n\r\n    if (this.newPassword !== this.confirmPassword) {\r\n      this.errorToken = \"Mot de passe ne correspond pas\";\r\n      return null;\r\n    }\r\n\r\n    if (!this.newPassword || !this.confirmPassword) {\r\n      this.errorToken = \"Veuillez completer les champs\";\r\n      return null;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    if (this.info.role === 'model') {\r\n      this.modelService.reinitPassword(this.info.id, this.newPassword).subscribe(\r\n        (data) => {\r\n          // console.log(\" reinit model \",data);\r\n          if (data.access_token) {\r\n            this.authService.saveToken(data.access_token).then(\r\n              () => {\r\n                this.saveLog();\r\n                this.roomService.createRoom().subscribe(\r\n                    (data) => {\r\n                      this.loading = false;\r\n                      this.store.set(\"room\", data.room);\r\n                      this.router.navigate(['/modele/profile']);\r\n                    }\r\n                )\r\n              }, (error) => {\r\n                console.log(error);\r\n                this.loading = false;\r\n              }\r\n            );\r\n          }\r\n        }\r\n      )\r\n    } else if (this.info.role === 'client') {\r\n      this.clientService.reinitPassword(this.info.id, this.newPassword).subscribe(\r\n        (data) => {\r\n          // console.log(\" reinit client \",data);\r\n          if (data.access_token) {\r\n            this.authService.saveToken(data.access_token, data.id).then(\r\n              () => {\r\n                    this.loading = false;\r\n                    this.router.navigate(['/client/accueil/registered']);\r\n              }\r\n            );\r\n          }\r\n        }, (error) => {\r\n          console.log(error);\r\n          this.loading = false;\r\n        }\r\n      )\r\n    }\r\n  }\r\n\r\n  saveLog() {\r\n    this.logService.createLog(\"reinitialisation mot de passe\").subscribe(\r\n      (data) => {\r\n        // console.log('Log ', data)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { PackModalComponent } from 'src/app/modals/pack-modal/pack-modal.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { CreditTimer, TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport * as $ from 'jquery'\r\n// Peer\r\nimport './../../modele/shim';\r\nimport Peer from \"peerjs\"\r\nimport { Subscription } from 'rxjs';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n@Component({\r\n  selector: 'app-live-free-saloon',\r\n  templateUrl: './live-free-saloon.component.html',\r\n  styleUrls: ['./live-free-saloon.component.scss', './../live.scss']\r\n})\r\nexport class LiveFreeSaloonComponent implements OnInit {\r\n  context: string = \"CHOICE US\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n\r\n  bg : \"assets/logos/dark-light.jpg\";\r\n  modelPseudo = '';\r\n  modelId: number;\r\n  idRoom: number;\r\n  actif: number;\r\n  message: string = '';\r\n  chatColor = \"black\";\r\n  clientId: number;\r\n  clientPseudo: string = '';\r\n  clientCredit: number = 0;\r\n  client = \"assets/images/user_chat.png\";\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  indisponible: boolean = false;\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  show = {\r\n    id: 0,\r\n    credit: null,\r\n    second: null,\r\n    type: null\r\n  };\r\n\r\n  choiceUs = {\r\n    title: '',\r\n    description: '',\r\n    tarif: 0\r\n  }\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  modelLeaveSub = new Subscription();\r\n  modelPassedVipSub = new Subscription();\r\n  invitationVipSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  newPeerSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  banishSub = new Subscription();\r\n  updateChoiceUsSub = new Subscription();\r\n\r\n  hidedDetailShow = false;\r\n\r\n  albums = []\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  // Tips\r\n  showTips: boolean = false;\r\n  loading: boolean = false;\r\n\r\n  // @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n  //   this.socketService.leaveVip(this.idRoom, 'client');\r\n  // }\r\n\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_client', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  @ViewChild('video_live_model', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string = null;\r\n  lazyStream: any;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n  roomIdString: string;\r\n\r\n  hasGotStreamModel: boolean = false;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modelService: ModelService,\r\n    private roomVipService: RoomVipService,\r\n    private store: LocalStorageService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private popupService: PopupService,\r\n    private profilService: ProfilService,\r\n    private clientService: ClientService,\r\n    private dialog: MatDialog,\r\n    private timerService: TimerService,\r\n    private notificationService: NotificationService,\r\n    private albumService: AlbumService,\r\n    private banishService: BanishService,\r\n    private creditService: CreditService\r\n    ) {\r\n      this.peer = new Peer();\r\n      const id = this.route.snapshot.paramMap.get('model');\r\n      this.modelId = parseInt(id);\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    $(document).ready(\r\n      function() {initSettingVideoModel();}\r\n    );\r\n    if (!this.modelId) {\r\n      this.errorRoom();\r\n      return null;\r\n    }\r\n    this.video.nativeElement.autoplay = true;\r\n    this.video.nativeElement.playsInline = true;\r\n    this.video.nativeElement.muted = true;\r\n    this.remote_video.nativeElement.autoplay = true;\r\n    this.remote_video.nativeElement.playsInline = true;\r\n    this.getModel();\r\n    this.initColor();\r\n    this.initLiveVideo();\r\n    this.clientService.lastRoom(this.router.url);\r\n    this.VerifyHasGotStreamModel();\r\n  }\r\n\r\n  async ngOnDestroy() {\r\n    this.onStop();\r\n    clearInterval(this.timer.timer);\r\n    (await this.creditTimer()).subscribe(\r\n      (data) => {\r\n        // console.log(\"Response credit timer \", data);\r\n      }\r\n    );\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.modelLeaveSub.unsubscribe();\r\n    this.modelPassedVipSub.unsubscribe();\r\n    this.invitationVipSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.newPeerSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n    this.banishSub.unsubscribe();\r\n  }\r\n\r\n  VerifyHasGotStreamModel() {\r\n    setTimeout(() => {\r\n      console.log('verify stream model after 10 sec');\r\n      if (!this.hasGotStreamModel) {\r\n        // verify my peerId\r\n        if (this.peerId) {\r\n          this.socketService.askModelPeerId({peerId: this.peerId,\r\n            room: this.idRoom+'P', clientId: this.clientId});\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            this.socketService.askModelPeerId({peerId: this.peerId,\r\n              room: this.idRoom+'P', clientId: this.clientId});\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  toggleDetailShow() {\r\n    this.hidedDetailShow = !this.hidedDetailShow;\r\n  }\r\n\r\n  // Get model infos\r\n  getModel() {\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n        (data) => {\r\n          // console.log('Model ', data);\r\n          this.bg = data.path_soft;\r\n          this.modelPseudo = data.pseudo;\r\n          if (data.profile.status !== 'En live choice') {\r\n            this.errorRoom();\r\n            return null;\r\n          }\r\n          this.getMyInfo();\r\n        }\r\n    )\r\n  }\r\n\r\n  // Get client infos + get model info\r\n  getMyInfo() {\r\n      this.clientService.getMyInfos().subscribe(\r\n        (data) => {\r\n          // console.log('My INFO ', data);\r\n          this.clientId = data.id;\r\n          this.clientPseudo = data.pseudo;\r\n          this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n          this.isBanished();\r\n        }\r\n      )\r\n  }\r\n\r\n  isBanished() {\r\n    this.banishService.isBanished(this.modelId, this.clientId).subscribe(\r\n      (data: any) => {\r\n        const ok: boolean = data.authorized\r\n        if (!ok) {\r\n          this.popupService.info(null, 'Accès refusé',\r\n          `Vous n\\' êtes pas autorisé à entrer dans ce room.`);\r\n          this.router.navigateByUrl('/client/accueil/registered')\r\n        } else {\r\n          this.getInfoRoom();\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomVipService.getRoomModel(this.modelId).subscribe(\r\n      (data) => {\r\n        console.log('Model room ', data);\r\n        this.idRoom = data.idRoom;\r\n        this.roomIdString = this.idRoom + 'V';\r\n        this.clientService.storeLastChat(this.roomIdString);\r\n\r\n        if (data.idRoom === null) {\r\n          this.obsolete();\r\n          this.actif = 0;\r\n          this.idRoom = 0;\r\n          return false;\r\n        }\r\n\r\n        this.actif = data.actif > 2 ? 2: data.actif;\r\n        this.show.credit = data.free;\r\n        this.show.id = 0;\r\n        this.show.second = 60;\r\n        this.show.type = 'CHOICE US'\r\n        this.choiceUs.title = data.title;\r\n        this.choiceUs.description = data.description;\r\n        this.choiceUs.tarif = data.free;\r\n        if (this.clientId !== data.clientId) {\r\n          this.errorRoom();\r\n          return false;\r\n        }\r\n        this.getMessages();\r\n        this.initSocket();\r\n      }\r\n    )\r\n  }\r\n\r\n  // Init the room + Get client infos\r\n  // initRoom() {\r\n  //   const roomVIP = parseInt(this.store.get('roomVIP'));\r\n  //   this.idRoom = roomVIP;\r\n  //   if (!roomVIP) {\r\n  //     this.errorRoom();\r\n  //     return false;\r\n  //   }\r\n  //   this.getMyInfo();\r\n  // }\r\n\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.idRoom, 'vip').subscribe(\r\n      (data) => {\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async initSocket() {\r\n    await this.socketService.joinVip(this.idRoom, this.modelId);\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('Joined ', data);\r\n        this.actif = data < 0 ? 0 : data;\r\n        this.actif = data > 2 ? 2 : data;\r\n        console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        this.actif = data < 0 ? 0 : data;\r\n        this.actif = data > 2 ? 2 : data;\r\n        console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.idRoom}V`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Msg to client ', data);\r\n        this.messages.push(data);\r\n      }\r\n    );\r\n\r\n    this.banishSub = this.socketService.listen(`Banish client ${this.idRoom}V ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.isBanished()\r\n      }\r\n    );\r\n\r\n    this.modelLeaveSub = this.socketService.listen(`model leaved ${this.idRoom}V`).subscribe(\r\n      (data) => {\r\n        this.leaved = true;\r\n        this.indisponible = true;\r\n        this.actif = 1;\r\n        this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n        `${this.modelPseudo} a fermé le live de ce room`);\r\n      }\r\n    );\r\n\r\n    this.peerSub = this.socketService.listen(`ans peerId ${this.clientId} ${this.idRoom}V`).subscribe(\r\n      (data: {peerId: any, room: string, clientId: number}) => {\r\n          console.log(\"ans peerId \", data);\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n    }\r\n    );\r\n\r\n    this.newPeerSub = this.socketService.listen(`new model peerId ${this.idRoom}V`).subscribe(\r\n      (data: {role: string, modelId: number, room: string, peerId: string}) => {\r\n          console.log(\"new model peerId\");\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n        if (data.clientId === this.clientId) return false;\r\n        if (data.modelId) {\r\n            this.toggleAudioModelStream(data.peerId, data.isAudio)\r\n        }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n        if (data.clientId === this.clientId) return false;\r\n        if (data.modelId) {\r\n            this.toggleVideoModelStream(data.peerId, data.isVideo)\r\n        }\r\n      }\r\n    );\r\n\r\n    // Live Choice us change\r\n    this.updateChoiceUsSub = this.socketService.listen(`updateChoiceUs ${this.idRoom}V`).subscribe(\r\n          (data: {title: string, description: string, tarif: number}) => {\r\n    this.choiceUs.title = data.title;\r\n    this.choiceUs.description = data.description;\r\n    this.choiceUs.tarif = data.tarif;\r\n    this.getCostShow(this.choiceUs);\r\n    });\r\n\r\n    this.initTimer();\r\n    if (this.peerId) {\r\n      this.socketService.sendClientPeerId({peerId: this.peerId, room: this.idRoom+'V'});\r\n    } else {\r\n      this.relaunchPeerId();\r\n    }\r\n\r\n    this.getAlbums();\r\n  }\r\n\r\n  toggleAudioModelStream(peerId: any, isAudio: boolean) {\r\n    if (isAudio) {\r\n      $('#video_live_model').prop('volume', 1)\r\n    } else {\r\n      $('#video_live_model').prop('volume', 0)\r\n    }\r\n  }\r\n\r\n  toggleVideoModelStream(peerId: any, isVideo: boolean) {\r\n    var filterVal = 'blur(0px)';\r\n    var filterFull = 'blur(200px)';\r\n    if (isVideo) {\r\n      $('#video_live_model')\r\n      .css('filter',filterVal)\r\n      .css('webkitFilter',filterVal)\r\n      .css('mozFilter',filterVal)\r\n      .css('oFilter',filterVal)\r\n      .css('msFilter',filterVal);\r\n    } else {\r\n      $('#video_live_model')\r\n      .css('filter',filterFull)\r\n      .css('webkitFilter',filterFull)\r\n      .css('mozFilter',filterFull)\r\n      .css('oFilter',filterFull)\r\n      .css('msFilter',filterFull);\r\n    }\r\n  }\r\n\r\n  relaunchPeerId() {\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Relaunch Peer Id \", id);\r\n      this.peerId = id;\r\n      this.socketService.sendClientPeerId({peerId: this.peerId, room: this.idRoom+'V'});\r\n    });\r\n  }\r\n\r\n  obsolete() {\r\n    this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n    `Aucun live n\\'est lancé dans ce room`);\r\n  }\r\n\r\n  initColor() {\r\n    if (this.store.get(\"ticket_chat\")) {\r\n      this.chatColor = this.store.get(\"ticket_chat\");\r\n      return true;\r\n    };\r\n    this.roomVipService.getColor().subscribe(\r\n      (data) => {\r\n        this.chatColor = data.color;\r\n        this.store.set(\"ticket_chat\", data.color);\r\n      }\r\n    )\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.idRoom,\r\n      message: this.message,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'vip',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.idRoom + 'V',\r\n      role: 'client',\r\n      id: this.clientId,\r\n      message: this.message,\r\n      pseudo: this.clientPseudo,\r\n      idRoom: this.idRoom,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'vip'\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    // console.log(data);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    console.log(this.toggleDot);\r\n  }\r\n\r\n\r\n  async liveOut() {\r\n      // this.creditTimer();\r\n      await this.leaveTimer().then(\r\n        (data) => {\r\n          this.roomVipService.leaveRoom();\r\n          this.socketService.leaveVip(this.idRoom, 'client').then(\r\n            () => {\r\n              this.store.remove('roomVIP');\r\n              this.clientService.deleteLastChat();\r\n              window.location.href = '/client/accueil/registered';\r\n              // this.router.navigate(['/client/accueil/registered']);\r\n            }\r\n          );\r\n        });\r\n        this.onStop();\r\n  }\r\n\r\n  async leaveTimer() {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.VIP,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n    // console.log(\"Before leave timer \", data)\r\n    return await this.timerService.updateTimer(data).subscribe(\r\n      (data) => {\r\n        // console.log('Leave timer ', data);\r\n        this.timer.reinit = true;\r\n      }\r\n    )\r\n  }\r\n\r\n  buy() {\r\n    const dialogRef = this.dialog.open(PackModalComponent, {\r\n      width: '80vh',\r\n      data: {}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  errorRoom() {\r\n    this.popupService.info(null,'LIVE INDISPONIBLE',\r\n    `Ce live n\\'est plus disponible`);\r\n    this.indisponible = true;\r\n    this.router.navigate(['/client/accueil/registered']);\r\n  }\r\n\r\n  async getCredit() {\r\n    return await this.clientService.getCredit().subscribe(\r\n      (data) => {\r\n        this.clientCredit = data.credit;\r\n        console.log('Client credit ', this.clientCredit);\r\n        if (this.show.credit < this.clientCredit) return null;\r\n        this.timer.fail = true;\r\n        // if Not leaved\r\n        if (!this.timer.reinit) {\r\n          this.notificationService.failure(\"CREDIT INSUFFISANT\", \"Veuillez vous recharger.\");\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n    // Timer\r\n    async initTimer() {\r\n      this.timerService.getTimer(this.modelId, TypeTimer.VIP).subscribe(\r\n        async (data) => {\r\n          // console.log('Timer ', data);\r\n          const created: Date = data.createdAt;\r\n          const updated: Date = data.updatedAt;\r\n          this.timer.id = data.id;\r\n          // console.log(created.toString(), \" to \", updated.toString());\r\n          const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n          this.timer.hour = hour;\r\n          this.timer.minute = minute;\r\n          this.timer.second = second;\r\n          // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n          await this.getCostShow(this.choiceUs);\r\n        }\r\n      )\r\n    }\r\n\r\n    async getCostShow(data: {title: string, description: string, tarif: number}) {\r\n      this.show.id = 0;\r\n      this.show.credit = data.tarif;\r\n      this.show.second = 60;\r\n      this.show.type = 'CHOICE US';\r\n      // console.log('Show cost ' , this.show, \" - credit - \" , this.clientCredit);\r\n      if (this.clientCredit < this.show.credit) {\r\n        this.aucunCredit();\r\n        return null;\r\n      } else if (this.clientCredit <= (this.show.credit * 2)) {\r\n        this.creditInsuffisant();\r\n        return null;\r\n      }\r\n      this.beginTimer();\r\n    }\r\n\r\n    creditInsuffisant() {\r\n      this.popupService.info(null,'CREDIT INSUFFISANT',\r\n      `Vous n\\'avez presque plus de crédit. Veuillez vous recharger.`);\r\n      setTimeout(\r\n        () => {\r\n          this.getCredit();\r\n\r\n        }, 20000\r\n      )\r\n    }\r\n\r\n    aucunCredit() {\r\n      this.timer.fail = true;\r\n      this.popupService.info('/client/achat_de_credit','ACHAT DE CREDIT',\r\n      `Veuillez vous recharger.`);\r\n    }\r\n\r\n    async beginTimer() {\r\n      const delay = this.show.second * 1000;\r\n      // console.log(delay, \" ms \");\r\n      await (await this.creditTimer()).subscribe( // launch main creditation\r\n        (data: any) => {\r\n          // console.log(\"Response credit timer \", data);\r\n          this.clientCredit = data.credit ? data.credit : 0;\r\n          if (data.credit <= 0) {\r\n            this.aucunCredit();\r\n            return null;\r\n          } else if (data.credit <= (this.show.credit * 2)) {\r\n            this.creditInsuffisant();\r\n            return null;\r\n          }\r\n        }\r\n      );\r\n      this.timer.timer = setInterval(\r\n        async () => {\r\n          if (!this.timer.reinit) {\r\n            await (await this.creditTimer()).subscribe(\r\n              (data: any) => {\r\n                // console.log(\"Response credit timer \", data);\r\n                this.clientCredit = data.credit ? data.credit : 0;\r\n                if (data.credit <= 0) {\r\n                  this.aucunCredit();\r\n                  return null;\r\n                } else if (data.credit <= (this.show.credit * 2)) {\r\n                  this.creditInsuffisant();\r\n                  return null;\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }, delay\r\n      )\r\n    }\r\n\r\n    async creditTimer() {\r\n      if ((this.clientId === undefined) || (this.show.credit == null)) return null;\r\n      const data: CreditTimer = {\r\n        clientId: this.clientId,\r\n        modelId: this.modelId,\r\n        timerId: this.timer.id,\r\n        showCredit: parseInt(this.show.credit),\r\n        showSecond: this.show.second,\r\n        showType: this.show.type,\r\n        roomId: this.idRoom\r\n      }\r\n      console.log(\"credit timer post \", data);\r\n      return await this.timerService.creditTimer(data);\r\n    }\r\n\r\n  // WEB RTC - LIVE VIDEO\r\n  initLiveVideo() {\r\n    this.onStart();\r\n    this.getPeerId();\r\n  }\r\n\r\n  onStart(){\r\n    if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n      navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n        this.lazyStream = ms;\r\n        console.log('My stream ', ms);\r\n        this.video.nativeElement.srcObject = this.lazyStream;\r\n        // this.remote_video.nativeElement.srcObject = ms;\r\n        // const _video = this.video.nativeElement;\r\n        // _video.srcObject = ms;\r\n        // _video.play();\r\n        // this.lazyStream.getVideoTracks().forEach(\r\n        //   (track) => {\r\n        //     this.showVideo = false;\r\n        //     track.enabled = false;\r\n        //     this.notificationService.infoMsg('Votre caméra est désactivé par defaut');\r\n        //   }\r\n        // );\r\n        $('#video_live_client').prop('volume', 0);\r\n      });\r\n    }\r\n  }\r\n\r\n  onStop() {\r\n    this.lazyStream = null;\r\n    if (this.video && this.video.nativeElement.srcObject) {\r\n      this.video.nativeElement.pause();\r\n      if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n        (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n      }\r\n      this.video.nativeElement.srcObject = null;\r\n    }\r\n  }\r\n\r\n  private getPeerId = () => {\r\n    console.log(\"Get Peer\");\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log('On call');\r\n      call.answer(this.lazyStream);\r\n      call.on('stream', (remoteStream) => {\r\n        console.log('Receive stream');\r\n        this.hasGotStreamModel = true;\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      });\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: true,\r\n      //   audio: true\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   this.video.nativeElement.srcObject = stream;\r\n      //   // const _video = this.video.nativeElement;\r\n      //   // _video.srcObject = stream;\r\n      //   // _video.play();\r\n      //   // console.log('Answer stream');\r\n      //   call.answer(stream);\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     // console.log('Receive stream');\r\n      //     this.streamRemoteVideo(remoteStream);\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       // this.streamRemoteVideo(remoteStream);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to get media');\r\n      // });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    console.log('Call Peer');\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      console.log('Receive stream');\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: true,\r\n    //   audio: true\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(id, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     // console.log('Receive stream');\r\n    //     this.streamRemoteVideo(remoteStream);\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  private streamRemoteVideo(stream: MediaStream): void {\r\n    console.log('Stream Remote video ', stream)\r\n    //this.remote_video.nativeElement.srcObject = stream;\r\n    const _video = this.remote_video.nativeElement;\r\n    _video.srcObject = stream;\r\n    setTimeout(() => {\r\n      _video.play();\r\n    }, 3000)\r\n  }\r\n\r\n  getAlbums() {\r\n    const data = {\r\n      modelId : this.modelId,\r\n      type_album: 'vip'\r\n    }\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          this.albums.push({\r\n            url: data[i].path_album\r\n          })\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    }\r\n    // if (this.showVideo) {\r\n    //   $(\"#video_live_client\").removeClass( \"hideStream\" ).addClass(\"showStream\");\r\n    // } else {\r\n    //   $(\"#video_live_client\").removeClass(\"showStream\").addClass(\"hideStream\");\r\n    // }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.idRoom+'V';\r\n    this.socketService.toggleVideo(room, this.clientId, this.peerId, null, this.showVideo);\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.idRoom+'V'\r\n    this.socketService.toggleAudio(room, this.clientId, this.peerId, null, this.showAudio)\r\n  }\r\n\r\n      // -------- EMOJI -----------------\r\n\r\n      toggleEmojiPicker() {\r\n        this.showEmojiPicker = !this.showEmojiPicker;\r\n      }\r\n\r\n      addEmoji(event) {\r\n        const {message} = this;\r\n        let text = '';\r\n        if (message) {\r\n          text = `${message}${event.emoji.native}`;\r\n        } else {\r\n          text = `${event.emoji.native}`;\r\n        }\r\n        this.message = text;\r\n      }\r\n\r\n      focus() {\r\n        this.showEmojiPicker = false;\r\n      }\r\n\r\n            // Tips\r\n\r\n            selectTips(value: TIP) {\r\n              // console.log('Tips ', value);\r\n              this.loading = true;\r\n              if (value.credit > this.clientCredit) {\r\n                this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n                this.loading = false;\r\n                return null;\r\n              }\r\n              this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n              subscribe(\r\n                (data: any) => {\r\n                  console.log(data);\r\n                  this.clientCredit = data.creditClient;\r\n                  this.sendTips(value.symbole, value.credit, value.designation, value.vip);\r\n                }, (error) => {\r\n                  console.log(error);\r\n                }\r\n              )\r\n\r\n            }\r\n\r\n            toggleTips() {\r\n              this.showTips = !this.showTips;\r\n            }\r\n\r\n            sendTips(symbole: string, credit: number, designation, vip: boolean = false) {\r\n              const data: Chat = {\r\n                idRoom: this.idRoom,\r\n                message: vip ? 'vip' : 'This is a gift',\r\n                type_source: 'client',\r\n                id_source: this.clientId,\r\n                code_couleur: this.chatColor,\r\n                type_chat: 'vip',\r\n                giftSymbol: symbole,\r\n                giftDesign: designation,\r\n                giftSource: this.clientPseudo,\r\n                pseudo: this.clientPseudo\r\n              }\r\n              const msg: ChatSocket = {\r\n                room: this.idRoom + 'V',\r\n                role: 'client',\r\n                id: this.clientId,\r\n                message: vip ? 'vip' : 'This is a gift',\r\n                pseudo: this.clientPseudo,\r\n                idRoom: this.idRoom,\r\n                type_source: 'client',\r\n                id_source: this.clientId,\r\n                code_couleur: this.chatColor,\r\n                type_chat: 'vip',\r\n                giftSymbol: symbole,\r\n                giftDesign: designation,\r\n                giftSource: this.clientPseudo\r\n              }\r\n              this.socketService.sendMessage(msg);\r\n              this.chatService.postMessage(data).subscribe(\r\n                (data) => {\r\n                  // this.getMessages();\r\n                  this.loading = false;\r\n                  this.showTips = false;\r\n                }\r\n              )\r\n            }\r\n\r\n}\r\n","<app-header connected=\"true\" actif=\"3\"></app-header>\r\n\r\n\r\n<div class=\"main_live\" [ngClass]=\"{'dry_up': timer.fail}\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <app-topbar [context]=\"context\" [actif]=\"actif\"\r\n    [hour]=\"this.timer.hour\"\r\n    [minute]=\"this.timer.minute\"\r\n    [second]=\"this.timer.second\"\r\n    [reinit]=\"this.timer.reinit\"\r\n    [leaved]=\"leaved\"\r\n    ></app-topbar>\r\n    <div class=\"contain_left\">\r\n\r\n\r\n      <div class=\"show_live_left\" [ngClass]=\"{'pass_privat': indisponible}\">\r\n\r\n        <div id=\"videoContainer\"  class=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls class=\"model_flow\" id=\"video_live_model\" #video_live_model></video>\r\n        </div>\r\n\r\n        <div class=\"contain_info_room\">\r\n          <div class=\"contain_welcome\" *ngIf=\"!hidedDetailShow\">\r\n            <span *ngIf=\"!choiceUs.title\">Type du Show</span>\r\n            {{choiceUs.title}}\r\n          </div>\r\n          <div class=\"contain_detail\" *ngIf=\"!hidedDetailShow\">\r\n            <span *ngIf=\"!choiceUs.description\">\r\n              Non défini\r\n            </span>\r\n            {{choiceUs.description}}\r\n          </div>\r\n          <div class=\"contain_gain\" *ngIf=\"!hidedDetailShow\">\r\n            <span *ngIf=\"!show.credit\">0 &nbsp;</span>\r\n            <span *ngIf=\"show.credit\">{{show.credit}} &nbsp;</span>\r\n            crédits / mn\r\n          </div>\r\n          <small (click)=\"toggleDetailShow()\" class=\"btn_toogle_detail\">\r\n            <span *ngIf=\"hidedDetailShow\"> Détail du show</span>\r\n            <span *ngIf=\"!hidedDetailShow\">Cacher</span>\r\n          </small>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <app-album-live [albums]=\"albums\"></app-album-live> -->\r\n\r\n      </div>\r\n      <div class=\"client_live\">\r\n        <video controls autoplay [poster]=\"client\" class=\"client_flow\" id=\"video_live_client\" #video_live_client muted=\"muted\"></video>\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div class=\"show_live_right\">\r\n        <div class=\"header_chat\">\r\n          <p>&gt;</p>\r\n          <div>\r\n            Live Chat\r\n          </div>\r\n        </div>\r\n        <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n        [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"\r\n        showMenu=\"false\" isModel=\"false\" [clientId]=\"clientId\"\r\n        [roomId]=\"roomIdString\"></app-live-free-chat>\r\n<!--\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n            [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"></app-live-free-chat>\r\n          </mat-tab>\r\n          <mat-tab label=\"Statistiques\">\r\n            <app-live-vip-stat></app-live-vip-stat>\r\n          </mat-tab>\r\n        </mat-tab-group> -->\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\">\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <!-- <div class=\"contain_close\">\r\n          <img [src]=\"close\" alt=\"\" id=\"close\" (click)=\"toggleDots()\">\r\n        </div> -->\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div *ngIf=\"showTips\">\r\n        <app-tips (newItemEvent)=\"selectTips($event)\"></app-tips>\r\n      </div>\r\n\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n            <img src=\"./../../../../assets/icons/gift.png\" alt=\"\" class=\"img_gift\"\r\n            (click)=\"toggleTips()\">\r\n            <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n            placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"message\">\r\n            <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n              <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n            </button><br>\r\n            <button type=\"submit\">\r\n              <div class=\"p\">\r\n                <img [src]=\"send\" alt=\"\">\r\n              </div>\r\n            </button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-out',\r\n  templateUrl: './out.component.html',\r\n  styleUrls: ['./out.component.scss']\r\n})\r\nexport class OutComponent implements OnInit, OnDestroy {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n  }\r\n\r\n}\r\n","<div class=\"main_out\">\r\n</div>\r\n\r\n<div class=\"contain_msg\">\r\n  <span routerLink=\"/\">\r\n    Revenir à l'accueil\r\n  </span>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { TimerService } from '../../../../../../services/timer/timer.service';\r\n\r\n@Component({\r\n  selector: 'app-main-right-dashboard-admin',\r\n  templateUrl: './main-right-dashboard-admin.component.html',\r\n  styleUrls: ['./main-right-dashboard-admin.component.scss']\r\n})\r\nexport class MainRightDashboardAdminComponent implements OnInit {\r\n  years : number[] = []\r\n\r\n  options: any;\r\n  updating: boolean = false;\r\n\r\n  currentSelect = 'client'\r\n\r\n  clients = []\r\n\r\n  clientsOrig = []\r\n\r\n  modeles = []\r\n\r\n  modelesOrig = []\r\n\r\n  isIntegral: boolean = false\r\n  currentYear: number = new Date().getFullYear()\r\n  currentMonth: string = '01'\r\n\r\n  labelsShow = [\r\n    {\r\n      title: '10 DERNIERS SHOW',\r\n      label : [\r\n        'Modèle', 'Type', 'Durée',\r\n        'Vues', 'Gains', 'Etat'\r\n      ]\r\n    },\r\n    {\r\n      title: 'TOP 10 MODELES',\r\n      label : [\r\n        'Modèle', 'Show crée', 'Durée moyenne',\r\n        'Gains', 'Rang'\r\n      ]\r\n    },\r\n    {\r\n      title: 'TOP 3 DES CLIENTS LES PLUS ACTIFS',\r\n      label : [\r\n        'Pseudo', 'Show regardé', 'Durée moyenne',\r\n        'Rang'\r\n      ]\r\n    }\r\n  ]\r\n\r\n  valueUser = []\r\n\r\n  labelUser = this.labelsShow[2]\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    private timerService: TimerService\r\n  ) {\r\n    this.options = {\r\n      autoSize: true,\r\n      data: this.getData(),\r\n      series: [\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'count',\r\n          yName: 'Nombre',\r\n          stroke: '#FFF',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#FFF',\r\n            stroke: '#FFF',\r\n          },\r\n        }\r\n      ],\r\n      axes: [\r\n        {\r\n          type: 'category',\r\n          position: 'bottom',\r\n          nice: false,\r\n          tick: { count: 0,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: 'hello', color:  \"rgb(255, 255, 255)\" },\r\n        },\r\n        {\r\n          type: 'number',\r\n          position: 'left',\r\n          tick: { count: 1,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: '#{.0f}', color:  \"#fff\"}\r\n        }\r\n      ],\r\n      background: {\r\n        fill: \"#FFF\",\r\n        visible: false\r\n      },\r\n      tooltip: {\r\n        enabled: false\r\n      },\r\n      navigator: {\r\n        enabled: true\r\n      },\r\n      title: { text: '' },\r\n      legend: { enabled: false },\r\n    };\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.startUpdates();\r\n    this.useDefaultGridStyle();\r\n    this.initYears();\r\n    this.getInscriptionsClient()\r\n    this.getInscriptionsModel()\r\n    this.getAverageClient()\r\n  }\r\n\r\n  initYears() {\r\n    const initial = 2021;\r\n    for(let i = 0; i < 100; i++ ) {\r\n      this.years.push(initial+i)\r\n    }\r\n  }\r\n\r\n  useDefaultGridStyle = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    var gridStyle = [\r\n      {\r\n        stroke: 'white',\r\n        lineDash: [2, 1],\r\n      },\r\n    ];\r\n    options.axes[0].gridStyle = gridStyle;\r\n    options.axes[1].gridStyle = gridStyle;\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  update = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    options.data = this.getData();\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  startUpdates = () => {\r\n    if (this.updating) {\r\n      return;\r\n    }\r\n    this.updating = true;\r\n    this.update();\r\n    setInterval(this.update, 1000);\r\n  };\r\n\r\n  getData() {\r\n    this.updating = false;\r\n    if (this.currentSelect === 'client') return this.clients\r\n    if (this.currentSelect === 'model') return this.modeles\r\n    return this.clients;\r\n  }\r\n\r\n  changeSelection(text) {\r\n    this.currentSelect = text\r\n    this.update()\r\n  }\r\n\r\n  getInscriptionsModel() {\r\n    this.adminService.getStatInscriptionModel().subscribe(\r\n      (data: any) => {\r\n        let tmp = data\r\n        tmp.forEach(inscrit => {\r\n          inscrit.date = this.adminService.formatDate(inscrit.date)\r\n          inscrit.count = parseInt(inscrit.count)\r\n        })\r\n        this.modelesOrig = tmp\r\n        this.modeles = tmp\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getInscriptionsClient() {\r\n    this.adminService.getStatInscriptionClient().subscribe(\r\n      (data: any) => {\r\n        // console.log(data)\r\n        let tmp = data\r\n        tmp.forEach(inscrit => {\r\n          inscrit.date = this.adminService.formatDate(inscrit.date)\r\n          inscrit.count = parseInt(inscrit.count)\r\n        })\r\n        this.clientsOrig = tmp\r\n        this.clients = tmp\r\n        // console.log(this.clients)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  selectMonth(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentMonth = value\r\n    const search = this.currentMonth+'/'+this.currentYear\r\n    if (this.currentSelect === 'client') {\r\n      this.clients =  this.clientsOrig.filter(element => {\r\n        const year = element.date.substring(3, 10)\r\n        if (year === search) return true\r\n        return false\r\n      })\r\n    } else if (this.currentSelect === 'model') {\r\n      this.modeles =  this.modelesOrig.filter(element => {\r\n        const year = element.date.substring(3, 10)\r\n        if (year === search) return true\r\n        return false\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  selectYear(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentYear = value\r\n    if (this.currentSelect === 'client') {\r\n      this.clients =  this.clientsOrig.filter(element => {\r\n        const year = element.date.substring(6, 10)\r\n        if (year === this.currentYear) return true\r\n        return false\r\n      })\r\n    } else if (this.currentSelect === 'model') {\r\n      this.modeles =  this.modelesOrig.filter(element => {\r\n        const year = element.date.substring(6, 10)\r\n        if (year === this.currentYear) return true\r\n        return false\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  integral() {\r\n    this.isIntegral = !this.isIntegral\r\n    if (this.isIntegral) {\r\n      if (this.currentSelect === 'client') {\r\n        this.clients = this.clientsOrig\r\n      } else if (this.currentSelect === 'model') {\r\n        this.modeles = this.modelesOrig\r\n      }\r\n\r\n    } else {\r\n        const search = this.currentMonth+'/'+this.currentYear\r\n        if (this.currentSelect === 'client') {\r\n          this.clients =  this.clientsOrig.filter(element => {\r\n            const year = element.date.substring(3, 10)\r\n            if (year === search) return true\r\n            return false\r\n          })\r\n        } else if (this.currentSelect === 'model') {\r\n          this.modeles =  this.modeles.filter(element => {\r\n            const year = element.date.substring(3, 10)\r\n            if (year === search) return true\r\n            return false\r\n          })\r\n        }\r\n    }\r\n  }\r\n\r\n  getAverageClient() {\r\n    this.adminService.getAverageClient().subscribe(\r\n      (data: any[]) => {\r\n        this.valueUser = [];\r\n        let tmp: any[] = data;\r\n        tmp.forEach(val => {\r\n          val.duree = this.timerService.convertToTime(val.duree);\r\n          // console.log(val.duree)\r\n        })\r\n        let countLoop = 0;\r\n        // console.log(' Get average client ', tmp);\r\n        for (let i = tmp.length; i > tmp.length - 3; i--) {\r\n          const index = i - 1;\r\n          if (!tmp[index]) continue;\r\n          tmp[index].rang = countLoop + 1;\r\n          this.valueUser.push(tmp[index]);\r\n          countLoop++;\r\n        }\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n\r\n\r\n","<div class=\"main_right\">\r\n\r\n  <div class=\"block_right\">\r\n    <div class=\"title_right\">\r\n      <select name=\"month\" id=\"month\" (change)=\"selectMonth($event)\">\r\n        <option value=\"01\">Janvier</option>\r\n        <option value=\"02\">Février</option>\r\n        <option value=\"03\">Mars</option>\r\n        <option value=\"04\">Avril</option>\r\n        <option value=\"05\">Mai</option>\r\n        <option value=\"06\">Juin</option>\r\n        <option value=\"07\">Juillet</option>\r\n        <option value=\"08\">Août</option>\r\n        <option value=\"09\">Septembre</option>\r\n        <option value=\"10\">Octobre</option>\r\n        <option value=\"11\">Novembre</option>\r\n        <option value=\"12\">Decembre</option>\r\n      </select>\r\n\r\n      <select name=\"year\" id=\"year\" (change)=\"selectYear($event)\">\r\n        <option [value]=\"year\" *ngFor=\"let year of years\">{{year}}</option>\r\n      </select>\r\n\r\n      <button class=\"btn btn_integrale\" (click)=\"integral()\"\r\n      [ngClass]=\"{'integral' : isIntegral}\">\r\n        Afficher l'intégrale\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"under_right\">\r\n      <div class=\"list_action_right\">\r\n        <button class=\"btn btn_list\" (click)=\"changeSelection('client')\"\r\n        [ngClass]=\"{'selected': currentSelect === 'client'}\">\r\n          Nombre de clients\r\n        </button>\r\n        <!-- <button class=\"btn btn_list\" (click)=\"changeSelection('abonner')\"\r\n        [ngClass]=\"{'selected': currentSelect === 'abonner'}\">\r\n          Nombre des abonnés\r\n        </button> -->\r\n        <button class=\"btn btn_list\" (click)=\"changeSelection('model')\"\r\n        [ngClass]=\"{'selected': currentSelect === 'model'}\">\r\n          Nombre des modèles\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"graph_right\">\r\n        <div class=\"wrapper\">\r\n          <ag-charts-angular\r\n            style=\"height: 70vh; width: 100%; overflow: hidden\"\r\n            [options]=\"options\"\r\n          ></ag-charts-angular>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"block_right second\">\r\n    <div class=\"title_right\">\r\n      Statistique des clients\r\n    </div>\r\n\r\n    <div class=\"under_right\">\r\n      <div class=\"show_right\">\r\n        <div class=\"title_show\">\r\n          {{labelUser.title}}\r\n        </div>\r\n        <table class=\"table table_contain\">\r\n          <tr class=\"table_row\">\r\n            <td *ngFor=\"let item of labelUser.label\">\r\n              {{item}}\r\n            </td>\r\n          </tr>\r\n          <tr *ngFor=\"let item of valueUser\" class=\"table_row\">\r\n            <td class=\"name_modele\">{{item.pseudo}}</td>\r\n            <td >{{item.vue}}</td>\r\n            <td >{{item.duree}}</td>\r\n            <td >0{{item.rang}}</td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n","<app-header actif=\"1\" connected=\"true\" model=\"true\"></app-header>\r\n\r\n<div class=\"main_album\">\r\n  <div class=\"head_album\"\r\n  [ngStyle]=\"{'background-image': 'linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0)),url(' + bannier + ')'}\">\r\n    <div class=\"profil\">\r\n      <!-- <img [src]=\"model.path_soft\" alt=\"\" id=\"profil\" *ngIf=\"model.path_soft != null\"> -->\r\n      <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n      [lazyLoad]=\"model.path_soft\" id=\"profil\"/>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"under_head_album\" id=\"scrolled_point\">\r\n    <div class=\"info_model\">\r\n      <div class=\"name_model\">\r\n        {{model.pseudo}}\r\n      </div>\r\n      <div class=\"status_model\">\r\n        <span *ngIf=\"model.status === 'Hors ligne'\">\r\n          \" {{model.pseudo}} n'est pas en ligne pour le moment \" <br>\r\n          Merci de consulter ses horaires de connexion\r\n        </span>\r\n        <span *ngIf=\"model.status === 'En ligne' || model.status === 'En live'\">\r\n          <!-- {{model.pseudo}} est actuellement en ligne -->\r\n          \" Vous êtes actuellement en ligne \"\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"menu_album\">\r\n      <div class=\"text_menu\" [routerLink]=\"['/modele/albums']\" [queryParams]=\"{context: 'free'}\">\r\n        Albums Free\r\n      </div>\r\n\r\n      <div class=\"text_menu\" [routerLink]=\"['/modele/albums']\" [queryParams]=\"{context: 'private'}\">\r\n        Photos privées\r\n      </div>\r\n\r\n      <div class=\"text_menu\" [routerLink]=\"['/modele/albums']\" [queryParams]=\"{context: 'vip'}\">\r\n        Albums VIP\r\n      </div>\r\n      <!-- <div class=\"text_menu menu_shadow\" style=\"opacity: 0;\">album vide</div> -->\r\n\r\n      <!-- <div class=\"text_menu\" (click)=\"nextTime()\">\r\n        Vidéos\r\n      </div> -->\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"description_model\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"description description_1\">\r\n            <div class=\"title_description\">\r\n              A PROPOS\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"contain_description\">\r\n              <div class=\"text_description\">\r\n                <span *ngIf=\"!model.description\">...</span>\r\n                {{model.description}}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"description description_1\">\r\n            <div class=\"title_description\">\r\n              Profil Intro\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"contain_description\">\r\n              <div class=\"label_description\" *ngIf=\"model.date_last_connection\">\r\n                Dernière connexion :\r\n                <span class=\"value_description\" *ngIf=\"model.date_last_connection\">\r\n                  Le {{model.date_last_connection}}\r\n                </span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.age\">\r\n                Age :\r\n                <span class=\"value_description\">{{model.age}} ans</span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.sex_orientation && model.sex_orientation !== ' '\">\r\n                Spécialités sexuelles:\r\n                <span class=\"value_description\">{{model.sex_orientation}}</span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.like && model.like !== ' '\">\r\n                J'aime :\r\n                <span class=\"value_description\">{{model.like}}</span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.dislike && model.dislike !== ' '\">\r\n                Je n'aime pas :\r\n                <span class=\"value_description\">{{model.dislike}}</span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.status\">\r\n                Status :\r\n                <span class=\"value_description\">{{model.status}}</span>\r\n              </div>\r\n\r\n              <div class=\"label_description\" *ngIf=\"model.social_network\">\r\n                Réseaux sociaux :\r\n                <span class=\"value_description\">{{model.social_network}}</span>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div class=\"col-lg-4\">\r\n          <div class=\"description description_1\">\r\n            <div class=\"title_description\">\r\n              Horaire de connexion\r\n            </div>\r\n            <div class=\"line\"></div>\r\n            <div class=\"contain_description blank\">\r\n              <div class=\"label_description\" *ngFor=\"let item of horaire\">\r\n                {{item.day}} :\r\n                <span class=\"value_description\">{{item.value}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"free\">\r\n    <div class=\"title_album\">\r\n      Album Free\r\n      <span>( {{totalAlbumFree}} ) </span>\r\n      <!-- <img [src]=\"camera\" alt=\"\" class=\"photoDetail\" routerLink=\"/modele/albums\"> -->\r\n    </div>\r\n\r\n    <div class=\"none\" *ngIf=\"currentAlbumFree.length === 0\">\r\n      Aucun album\r\n    </div>\r\n\r\n    <div class=\"contain_album\">\r\n      <div class=\"to_left direction\" (click)=\"toLeft('free')\">\r\n        <i class=\"fa fa-chevron-left\"></i>\r\n      </div>\r\n      <div>\r\n        <div class=\"container-fluid list_album\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4\" *ngFor=\"let item of currentAlbumFree\">\r\n              <div class=\"album\">\r\n                <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n                [lazyLoad]=\"item.path_album\" class=\"album_item img-responsive\"/>\r\n                <!-- <img [src]=\"item.path_album\" alt=\"\" class=\"album_item img-responsive\"> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"to_right direction\" (click)=\"toRight('free')\">\r\n        <i class=\"fa fa-chevron-right\"></i>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"private\">\r\n    <div class=\"title_album\">\r\n      Contenus Privés\r\n      <span>( {{totalAlbumPrivate}} ) </span>\r\n      <!-- <img [src]=\"camera\" alt=\"\" class=\"photoDetail\" routerLink=\"/modele/albums\"> -->\r\n    </div>\r\n\r\n    <div class=\"none\" *ngIf=\"currentAlbumPrivate.length === 0\">\r\n      Aucun album\r\n    </div>\r\n\r\n    <div class=\"contain_album\">\r\n      <div class=\"to_left direction\" (click)=\"toLeft('private')\">\r\n        <i class=\"fa fa-chevron-left\"></i>\r\n      </div>\r\n      <div class=\"image\">\r\n        <div class=\"container-fluid list_album\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4\" *ngFor=\"let item of currentAlbumPrivate\">\r\n              <div class=\"album\">\r\n                <!-- <img [src]=\"item.path_album\" alt=\"\" class=\"album_item img-responsive\"> -->\r\n                <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n                [lazyLoad]=\"item.path_album\" class=\"album_item img-responsive\"/>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"to_right direction\" (click)=\"toRight('private')\">\r\n        <i class=\"fa fa-chevron-right\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"vip\">\r\n    <div class=\"title_album\">\r\n      Album VIP\r\n      <span>( {{totalAlbumVIP}} ) </span>\r\n      <!-- <img [src]=\"camera\" alt=\"\" class=\"photoDetail\" routerLink=\"/modele/albums\"> -->\r\n    </div>\r\n\r\n    <div class=\"none\" *ngIf=\"currentAlbumVIP.length === 0\">\r\n      Aucun album\r\n    </div>\r\n\r\n    <div class=\"contain_album\">\r\n      <div class=\"to_left direction\" (click)=\"toLeft('vip')\">\r\n        <i class=\"fa fa-chevron-left\"></i>\r\n      </div>\r\n      <div>\r\n        <div class=\"container-fluid list_album\">\r\n          <div class=\"row\">\r\n            <div class=\"col-4\" *ngFor=\"let item of currentAlbumVIP\">\r\n              <div class=\"album\">\r\n                <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n                [lazyLoad]=\"item.path_album\" class=\"album_item img-responsive\"/>\r\n                <!-- <img [src]=\"item.path_album\" alt=\"\" class=\"album_item img-responsive\"> -->\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"to_right direction\" (click)=\"toRight('vip')\">\r\n        <i class=\"fa fa-chevron-right\"></i>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { albumFree, albumPrivate, albumVIP } from '../albums/list-album';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { Router } from '@angular/router';\r\nimport { addAlbum } from 'src/app/interfaces/add-album.interface';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\ninterface Profil {\r\n  pseudo: string,\r\n  path_soft: string | null,\r\n  age: number,\r\n  sex_orientation: string,\r\n  like: string,\r\n  dislike: string,\r\n  status: string,\r\n  social_network: string,\r\n  description: string,\r\n  date_last_connection: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-profil-model',\r\n  templateUrl: './profil-model.component.html',\r\n  styleUrls: ['./profil-model.component.scss']\r\n})\r\nexport class ProfilModelComponent implements OnInit {\r\n  defaultImage = 'assets/images/blured.jpg';\r\n  bg = \"assets/images/bg.jpg\";\r\n  camera = \"assets/icons/photoAdd.svg\";\r\n  profil = \"assets/images/image.png\";\r\n  sectionAlbum: number = 3;\r\n  bannier = \"assets/logos/dark-light.jpg\";\r\n\r\n  totalAlbumPrivate: number  = 0;\r\n  pagePrivate: number = 0;\r\n  currentAlbumPrivate: addAlbum[] = [];\r\n\r\n  totalAlbumVIP: number  = 0;\r\n  pageVIP: number = 0;\r\n  currentAlbumVIP: addAlbum[] = [];\r\n\r\n\r\n  totalAlbumFree: number  = 0;\r\n  pageFree: number = 0;\r\n  currentAlbumFree: addAlbum[] = [];\r\n\r\n  model: Profil =  {\r\n    pseudo: '',\r\n    path_soft: null,\r\n    age: 0,\r\n    sex_orientation: '',\r\n    like: '',\r\n    dislike: '',\r\n    status: '',\r\n    social_network: '',\r\n    description: '',\r\n    date_last_connection: ''\r\n  }\r\n\r\n  horaire = [\r\n    {day: 'LUNDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'MARDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'MERCREDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'JEUDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'VENDREDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'SAMEDI', value: '08h à 10h / 18h à 21h'},\r\n    {day: 'DIMANCHE', value: '08h à 10h / 18h à 21h'}\r\n  ];\r\n\r\n  arrowLeft = \"assets/icons/exclamation-mark.svg\";\r\n  arrowRight = \"assets/icons/exclamation-mark.svg\";\r\n\r\n  count = {\r\n    \"vip\": 0,\r\n    \"private\": 0,\r\n    \"free\": 0\r\n  }\r\n\r\n  loading: boolean = false;\r\n  constructor(\r\n    private albumService: AlbumService,\r\n    private router: Router,\r\n    private profileService: ProfilService,\r\n    private notificationService: NotificationService\r\n  ) {\r\n   }\r\n\r\n  async ngOnInit() {\r\n    this.init();\r\n    this.getStatus()\r\n    await this.getInfo();\r\n  }\r\n\r\n  async getInfo() {\r\n    this.loading = true;\r\n    return await this.profileService.getProfil().subscribe(\r\n      async (data) => {\r\n        this.model = data;\r\n        return await this.profileService.getInfo().subscribe(\r\n          (data) => {\r\n            // console.log(data);\r\n            const date = new Date().getFullYear();\r\n            this.model.age = date - data.year_birth;\r\n            this.model.pseudo = data.pseudo;\r\n            this.model.path_soft = data.path_soft;\r\n            this.model.date_last_connection = this.getDate(this.model.date_last_connection);\r\n            this.loading = false;\r\n          }, (error) => {\r\n            this.loading = false;\r\n          }\r\n        )\r\n      }\r\n    );\r\n  }\r\n\r\n  getStatus() {\r\n    this.profileService.getProfil().subscribe(\r\n      (data) => {\r\n        this.model.status = data.status;\r\n      }\r\n    )\r\n  }\r\n\r\n  getDate(date: string) {\r\n    if (!date) return null;\r\n    const year = date.substring(0, 4);\r\n    const month = date.substring(5, 7);\r\n    const day = date.substring(8, 10);\r\n    const hour = date.substring(11, 16);\r\n    const full = day + '/' + month + '/' + year + ' à ' + hour;\r\n    return full;\r\n  }\r\n\r\n  async countAlbum() {\r\n    this.albumService.getCount().subscribe(\r\n      (data) => {\r\n        this.count = data;\r\n          this.totalAlbumPrivate = this.count.private;\r\n          this.totalAlbumVIP = this.count.vip;\r\n          this.totalAlbumFree = this.count.free;\r\n      }\r\n    )\r\n  }\r\n\r\n  async init() {\r\n    await this.countAlbum();\r\n    await (await this.albumService.getAlbums('private', 0, 3)).subscribe(\r\n      (data) => {\r\n        this.currentAlbumPrivate = data;\r\n      }\r\n    );\r\n\r\n    await (await this.albumService.getAlbums('free', 0, 3)).subscribe(\r\n      (data) => {\r\n        this.currentAlbumFree = data;\r\n      }\r\n    );\r\n\r\n    await (await this.albumService.getAlbums('vip', 0, 3)).subscribe(\r\n      (data) => {\r\n        this.currentAlbumVIP = data;\r\n      }\r\n    );\r\n  }\r\n\r\n  scrollTo(section: string) {\r\n    document.querySelector(`#${section}`).scrollIntoView();\r\n  }\r\n\r\n  toLeft(context: string) {\r\n    switch (context) {\r\n      case 'private':\r\n        if (this.pagePrivate > 0) {\r\n          this.pagePrivate = this.pagePrivate - 1;\r\n          this.fetchAlbum(context, this.pagePrivate * this.sectionAlbum)\r\n        }\r\n        break;\r\n\r\n      case 'vip':\r\n        if (this.pageVIP > 0) {\r\n          this.pageVIP = this.pageVIP - 1;\r\n          this.fetchAlbum(context, this.pageVIP * this.sectionAlbum)\r\n        }\r\n        break;\r\n\r\n      case 'free':\r\n        if (this.pageFree > 0) {\r\n          this.pageFree = this.pageFree - 1;\r\n          this.fetchAlbum(context, this.pageFree * this.sectionAlbum)\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  toRight(context: string) {\r\n    switch (context) {\r\n      case 'private':\r\n        this.pagePrivate =  this.pagePrivate + 1;\r\n        var marge = Math.floor((this.totalAlbumPrivate/this.sectionAlbum) - 0.1); // - 0.1 avoid just division result\r\n        if (this.pagePrivate <= marge) {\r\n          this.fetchAlbum(context, this.pagePrivate * this.sectionAlbum);\r\n        } else { this.pagePrivate = this.pagePrivate -1;}\r\n        break;\r\n\r\n      case 'vip':\r\n        this.pageVIP =  this.pageVIP + 1;\r\n        var marge = Math.floor((this.totalAlbumVIP/this.sectionAlbum) - 0.1); // - 0.1 avoid just division result\r\n        if (this.pageVIP <= marge) {\r\n          this.fetchAlbum(context, this.pageVIP * this.sectionAlbum);\r\n        } else { this.pageVIP = this.pageVIP -1;}\r\n        break;\r\n\r\n      case 'free':\r\n        this.pageFree =  this.pageFree + 1;\r\n        var marge = Math.floor((this.totalAlbumFree/this.sectionAlbum) - 0.1); // - 0.1 avoid just division result\r\n        if (this.pageFree <= marge) {\r\n          this.fetchAlbum(context, this.pageFree * this.sectionAlbum);\r\n        } else { this.pageFree = this.pageFree -1;}\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  async fetchAlbum(context: string, debut: number) {\r\n    this.loading = true;\r\n    switch (context) {\r\n      case 'private':\r\n        await (await this.albumService.getAlbums(context, debut, this.sectionAlbum)).subscribe(\r\n          (data) => {\r\n            this.currentAlbumPrivate = data;\r\n            this.loading = false;\r\n          }, (error) => {\r\n            this.loading = false;\r\n          }\r\n        );\r\n        break;\r\n      case 'vip':\r\n        await (await this.albumService.getAlbums(context, debut, this.sectionAlbum)).subscribe(\r\n          (data) => {\r\n            this.currentAlbumVIP = data;\r\n            this.loading = false;\r\n          }, (error) => {\r\n            this.loading = false;\r\n          }\r\n        );\r\n        break;\r\n      case 'free':\r\n        await (await this.albumService.getAlbums(context, debut, this.sectionAlbum)).subscribe(\r\n          (data) => {\r\n            this.currentAlbumFree = data;\r\n            this.loading = false;\r\n          }, (error) => {\r\n            this.loading = false;\r\n          }\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  goToDashboard() {\r\n    this.router.navigate(['/modele/dashboard']);\r\n  }\r\n\r\n  nextTime() {\r\n    this.notificationService.info('Vidéos', 'Fonctionnalité à venir')\r\n  }\r\n\r\n}\r\n","<div class=\"main_stats\">\r\n  <br><br>\r\n  <div class=\"contain_stat_tips\" *ngIf=\"liveFree\">\r\n    <div class=\"title_free\">\r\n      Définissez votre type de show <br>\r\n      et votre tarif\r\n    </div>\r\n    <div class=\"container-fluid contain_palier\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"contain_choice_show\">\r\n            <div class=\"contain_select\">\r\n              <select (change)=\"changeChoiceUs($event)\"\r\n              name=\"select_show\" id=\"select_show\" [(ngModel)]=\"title\">\r\n                <option value=\"\">Type de show</option>\r\n                <option [value]=\"item.title\" *ngFor=\"let item of choiceUs\">{{item.title}}</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"contain_tarif\">\r\n              <select (change)=\"changeChoiceUsTarif($event)\"\r\n              name=\"select_tarif\" id=\"select_tarif\" [(ngModel)]=\"tarif\">\r\n                <option value=0> Crédit / mn</option>\r\n                <option value=20>20 crédits / mn</option>\r\n                <option value=25>25 crédits / mn</option>\r\n                <option value=30>30 crédits / mn</option>\r\n                <option value=35>35 crédits / mn</option>\r\n                <option value=40>40 crédits / mn</option>\r\n                <option value=45>45 crédits / mn</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-6\">\r\n          <div class=\"contain_description_show\">\r\n            {{description}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"contain_save_tips\"\r\n      *ngIf=\"!filledChoiceUs\">\r\n        <button (click)=\"saveChoiceUs()\">\r\n          Enregister\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"contain_info_show\">\r\n    <div class=\"info_show\">\r\n      INFO SHOW\r\n    </div>\r\n    <div class=\"container-fluid contain_\">\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Type du show\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            {{type_show}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Tarif du show\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            {{tarif_show}} Crédits / mn\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Client\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            {{client}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n  <br>\r\n  <div class=\"contain_info_show\">\r\n    <div class=\"info_show\">\r\n      INFO SOLDE\r\n    </div>\r\n    <div class=\"container-fluid contain_\">\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Solde de crédits\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            <span *ngIf=\"!actualCredit\">0</span>\r\n            <span *ngIf=\"actualCredit\">{{actualCredit}}</span>\r\n            Crédits\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Durée passée\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            <span *ngIf=\"hour_passed > 0\"> <span *ngIf=\"hour_passed < 10\">0</span>{{hour_passed}} : </span>\r\n            <span *ngIf=\"minute_passed < 10\">0</span>{{minute_passed}} :\r\n            <span *ngIf=\"second_passed < 10\">0</span>{{second_passed}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Crédits encaissés\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            <span *ngIf=\"!winCredit\">0</span>\r\n            <span *ngIf=\"winCredit\">{{winCredit}}</span>\r\n            Crédits\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-5\">\r\n          <div class=\"label_left\">\r\n            Solde total\r\n          </div>\r\n        </div>\r\n        <div class=\"col-1\">\r\n          <div class=\"label_dot\">\r\n            :\r\n          </div>\r\n        </div>\r\n        <div class=\"col-5\">\r\n          <div class=\"label_right\">\r\n            {{totalCredit}} Crédits\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"contain_btn\">\r\n    <button class=\"btn btn_out\">\r\n      Sortir du Show\r\n    </button>\r\n  </div> -->\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { RoomVipService } from '../../../../services/roomVip/room-vip.service';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\nimport { SocketService } from '../../../../services/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-live-vip-stat',\r\n  templateUrl: './live-vip-stat.component.html',\r\n  styleUrls: ['./live-vip-stat.component.scss']\r\n})\r\nexport class LiveVipStatComponent implements OnInit {\r\n  @Input()\r\n  type_show: any;\r\n\r\n  @Input()\r\n  tarif_show: any;\r\n\r\n  @Input()\r\n  time_show: any;\r\n\r\n  @Input()\r\n  client: any;\r\n\r\n  @Input()\r\n  time_passed: any;\r\n\r\n  @Input()\r\n  hour_passed: any;\r\n\r\n  @Input()\r\n  minute_passed: any;\r\n\r\n  @Input()\r\n  second_passed: any;\r\n\r\n  @Input()\r\n  actualCredit: any;\r\n\r\n  @Input()\r\n  winCredit: any;\r\n\r\n  @Input()\r\n  totalCredit: any;\r\n\r\n  @Input()\r\n  liveFree: number;\r\n\r\n  @Input()\r\n  roomId: number;\r\n\r\n\r\n\r\n  @Input()\r\n  filled: boolean;\r\n\r\n  @Input()\r\n  filledChoiceUs: boolean;\r\n\r\n  @Input()\r\n  title: string;\r\n\r\n  @Input()\r\n  description: string;\r\n\r\n  @Input()\r\n  tarif: number;\r\n\r\n  stats1 = [\r\n    {label: \"Type du show\", value: \"VIP\"},\r\n    {label: \"Tarif du show\", value: \"15 Crédits / mn\"},\r\n    {label: \"Client\", value: \"Motome\"}\r\n  ];\r\n\r\n  stats2 = [\r\n    {label: \"Solde de crédits\", value: \"0 Crédits\"},\r\n    {label: \"Durée passée\", value: \"00:00\"},\r\n    {label: \"Crédits encaissés\", value: \"0 Credits\"},\r\n    {label: \"Solde total\", value: \"0 Credits\"},\r\n  ];\r\n\r\n  choiceUsDetail = {\r\n    title: '',\r\n    description: '',\r\n    tarif: 0\r\n  }\r\n\r\n  choiceUs = [\r\n    {\r\n      title: 'Discussion',\r\n      description: 'Lors de ce show on se fera plaisir tout les deux \\\r\n      de discuter librement tout ce que vous voulez'\r\n    },\r\n    {\r\n      title: 'Voyeur',\r\n      description: \"Pendant ce show, faisons nous plaisir jusqu'à la jouissance. \\\r\n      Tu pourras voir tout ce que vous voulez sur moi\"\r\n    },\r\n    {\r\n      title: 'Masturbation',\r\n      description: \"Pendant ce show, faisons nous plaisir jusqu'à la jouissance. \\\r\n      Tu pourras voir tout ce que vous voulez sur moi\"\r\n    }, {\r\n      title: 'Ignore cam',\r\n      description: ' Faites vous plaisir !'\r\n    },\r\n    {\r\n      title: 'Gode',\r\n      description: 'Faites vous plaisir !'\r\n    },\r\n    {\r\n      title: 'Anal',\r\n      description: 'Faites vous plaisir !'\r\n    }\r\n  ];\r\n\r\n\r\n  constructor(\r\n    private roomVipService: RoomVipService,\r\n    private notificationService: NotificationService,\r\n    private socketService: SocketService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.startMinuteur();\r\n  }\r\n\r\n  startMinuteur() {\r\n    setInterval(() => {\r\n          this.second_passed++;\r\n          if (this.second_passed > 59) {\r\n            this.second_passed = 0;\r\n            this.minute_passed++;\r\n            if (this.minute_passed > 59) {\r\n              this.minute_passed = 0;\r\n              this.hour_passed++;\r\n            }\r\n          }\r\n    }, 1000);\r\n  }\r\n\r\n\r\n  getPaliers() {\r\n    this.roomVipService.getRoomInfo(this.roomId).subscribe(\r\n      (data) => {\r\n        console.log(data);\r\n      }\r\n    )\r\n  }\r\n\r\n  changeChoiceUs(event) {\r\n    let found = false;\r\n    this.choiceUs.forEach(element => {\r\n      if (element.title === event.target.value) {\r\n        this.choiceUsDetail.title = element.title;\r\n        this.choiceUsDetail.description = element.description;\r\n        this.description = element.description;\r\n        found = true;\r\n      }\r\n    })\r\n    if (!found) {\r\n      this.choiceUsDetail.description = '';\r\n      this.description = '';\r\n    }\r\n  }\r\n\r\n  changeChoiceUsTarif(event) {\r\n    this.choiceUsDetail.tarif = event.target.value;\r\n  }\r\n\r\n  saveChoiceUs() {\r\n    if (this.choiceUsDetail.description === '' || this.choiceUsDetail.title === '' || this.choiceUsDetail.tarif === 0) {\r\n      this.notificationService.infoMsg('Veuillez préciser le detail de votre room');\r\n      return null;\r\n    } else {\r\n      this.roomVipService.updateChoiceUs(this.roomId, this.choiceUsDetail.title, this.choiceUsDetail.description,\r\n        this.choiceUsDetail.tarif).subscribe(\r\n          (data) => {\r\n            console.log(data);\r\n            this.socketService.updateChoiceUs(this.roomId+'V', this.choiceUsDetail.title, this.choiceUsDetail.description,\r\n            this.choiceUsDetail.tarif);\r\n            this.notificationService.infoMsg(`LIVE CHOICE US : ${this.choiceUsDetail.title} - ${this.choiceUsDetail.tarif} crédits / mn`);\r\n            this.filledChoiceUs = true;\r\n          }\r\n        )\r\n    }\r\n  }\r\n\r\n}\r\n","import { ChangeDetectionStrategy, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { GalleryItem, Gallery, ImageItem, ImageSize, ThumbnailsPosition } from 'ng-gallery';\r\nimport { Lightbox } from 'ng-gallery/lightbox';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { addAlbum } from '../../../interfaces/add-album.interface';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { Title, Meta } from '@angular/platform-browser';\r\n\r\nconst data = [\r\n  {\r\n    path_album: 'https://res.cloudinary.com/team-stenny/image/upload/v1627759167/light_fumemz.jpg',\r\n  }\r\n];\r\n\r\n@Component({\r\n  selector: 'app-home-live',\r\n  templateUrl: './home-live.component.html',\r\n  styleUrls: ['./home-live.component.scss'],\r\n})\r\nexport class HomeLiveComponent implements OnInit {\r\n  title = 'BetweenUs Live - Sex cam';\r\n\r\n  defaultImage = './../../../../assets/images/blured.jpg';\r\n  mainModel = {\r\n    path_soft: null,\r\n    pseudo: '',\r\n    id: 0\r\n  };\r\n\r\n  allLive = [];\r\n  other = [];\r\n\r\n  currentAlbum : addAlbum[] = [];\r\n\r\n  items: GalleryItem[];\r\n\r\n  imageData = data;\r\n\r\n  loading: boolean = false;\r\n\r\n  // SEO\r\n  name = \"BetweenUs Live\";\r\n  angular = \"Angular\";\r\n  bootstrap = \"Bootstrap4\";\r\n\r\n  constructor(\r\n    private modelSrv: ModelService,\r\n    private albumService: AlbumService,\r\n    public gallery: Gallery,\r\n    public lightbox: Lightbox,\r\n    private titleService: Title,\r\n    private metaTagService: Meta\r\n    ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.titleService.setTitle(this.title);\r\n\r\n    this.metaTagService.addTags([\r\n      { name: 'keywords', content: 'betweenUs, Betweenus, betweenus live, bul, BUL, sex live' },\r\n      { name: 'robots', content: 'index, follow' },\r\n      { name: 'author', content: 'Dev BUL' },\r\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\r\n      { name: 'date', content: '2021-12-22', scheme: 'YYYY-MM-DD' },\r\n      { charset: 'UTF-8' }\r\n    ]);\r\n\r\n    this.metaTagService.updateTag(\r\n      { name: 'description', content: 'Web Platform betweens models and clients for a live sex in cam' }\r\n    );\r\n\r\n    this.init();\r\n    this.getLive();\r\n  }\r\n\r\n\r\n  init() {\r\n    // Creat gallery items\r\n    this.items = this.imageData.map(item => new ImageItem({ src: item.path_album, thumb: item.path_album }));\r\n    /** Lightbox Example */\r\n    // Get a lightbox gallery ref\r\n    const lightboxRef = this.gallery.ref('lightbox');\r\n\r\n    // Add custom gallery config to the lightbox (optional)\r\n    lightboxRef.setConfig({\r\n      imageSize: ImageSize.Cover,\r\n      thumbPosition: ThumbnailsPosition.Top\r\n    });\r\n    // Load items into the lightbox gallery ref\r\n    lightboxRef.load(this.items);\r\n  }\r\n\r\n  getLive() {\r\n    this.loading = true;\r\n    this.modelSrv.getLive().subscribe(\r\n      (data) => {\r\n        this.allLive = data;\r\n        this.getNoLive();\r\n        // console.log(\"Live \", this.allLive);\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  getNoLive() {\r\n    this.modelSrv.getNoLive().subscribe(\r\n      (data) => {\r\n        this.other = data;\r\n        this.loading = false;\r\n        let random = 0;\r\n        if (this.allLive.length > 0) {\r\n          random = Math.floor(Math.random() * (this.allLive.length));\r\n          random = random < -1 ? 0 : random;\r\n          this.mainModel = this.allLive[random];\r\n        } else {\r\n          random = Math.floor(Math.random() * (this.other.length));\r\n          random = random < -1 ? 0 : random;\r\n          this.mainModel = this.other[random];\r\n        }\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  seeModel(modelId: number, path_soft: string) {\r\n    this.imageData = [];\r\n    const data = {\r\n      modelId,\r\n      type_album: 'free'\r\n    }\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        const path_album = {\r\n          path_album : path_soft // Profil Model\r\n        }\r\n\r\n        this.imageData = data;\r\n        this.imageData.push(path_album);\r\n        // console.log(\"Image dada \", this.imageData);\r\n        this.init();\r\n      }\r\n    )\r\n  }\r\n}\r\n","<app-header clickable=\"true\" actif=\"1\"></app-header>\r\n\r\n<div class=\"main_live\">\r\n  <div class=\"contain_main_model\">\r\n    <div class=\"inside\" *ngIf=\"mainModel && mainModel.path_soft && mainModel.path_soft !== ''\">\r\n      <!-- [ngStyle]=\"{'background-image': 'url('+ mainModel.url +')'}\" -->\r\n      <div class=\"main_model\">\r\n        <img [src]=\"mainModel.path_soft\" alt=\"\" class=\"img_bg\"\r\n        (mouseover)=\"seeModel(mainModel.id, mainModel.path_soft)\"\r\n        (click)=\"lightbox.open(0)\">\r\n        <div class=\"live_profil main\">\r\n          LIVE\r\n        </div>\r\n      </div>\r\n        <div class=\"pseudo_profil_main\">\r\n          <p class=\"btn_red\"></p>\r\n          <p class=\"pseudo\">{{mainModel.pseudo}}</p>\r\n        </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"section section_list_live\">\r\n    <div class=\"profil_model\">\r\n        <div class=\"row_model\">\r\n          <div class=\"col_model\" *ngFor=\"let model of allLive; let i = index\">\r\n            <!-- [ngStyle]=\"{'background-image': 'url('+ item.url +')'}\" -->\r\n            <div class=\"profil\">\r\n              <img [defaultImage]=\"defaultImage\" alt=\"\" class=\"img_section\"\r\n              (mouseover)=\"seeModel(model.id, model.path_soft)\"\r\n              [lazyLoad]=\"model.path_soft\"\r\n              (click)=\"lightbox.open(0)\"/>\r\n              <!-- <img [src]=\"model.path_soft\" alt=\"\" class=\"img_section\"\r\n              (mouseover)=\"seeModel(model.id, model.path_soft)\"\r\n              (click)=\"lightbox.open(0)\"> -->\r\n              <div class=\"live_profil\">\r\n                LIVE\r\n              </div>\r\n              <div class=\"pseudo_profil\">\r\n                <p class=\"btn_red\"></p>\r\n                <p class=\"pseudo\">{{model.pseudo}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      <!--\r\n        <div class=\"no_list\" *ngIf=\"allLive.length === 0\">\r\n          <div class=\"pseudo_profil_main\"\r\n          style=\"display: flex; flex-direction: row; justify-content: center;\">\r\n              <p class=\"btn_red\"></p>\r\n              <p class=\"pseudo\" style=\"position: relative; top: 1px;\">LIVE</p>\r\n          </div>\r\n          Aucun live pour le moment\r\n        </div> -->\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"section\">\r\n    <div class=\"profil_model\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3 col-sm-6\" *ngFor=\"let item of allLive; let i = index\">\r\n            <div class=\"profil\" [ngStyle]=\"{'background-image': 'url('+ item.url +')'}\">\r\n\r\n              <div class=\"live_profil\">\r\n                LIVE\r\n              </div>\r\n              <div class=\"pseudo_profil\">\r\n                <p class=\"btn_red\"></p>\r\n                <p class=\"pseudo\">{{item.name}}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n\r\n  <div class=\"section\">\r\n    <div class=\"text_other\">\r\n      Connectez vous ou inscrivez vous <br>\r\n      pour retrouver nos modèles webcam\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"section\">\r\n    <div class=\"other\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-2 col-sm-3\" *ngFor=\"let model of other\">\r\n          <div class=\"contain_other\">\r\n            <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n              (mouseover)=\"seeModel(model.id, model.path_soft)\"\r\n              [lazyLoad]=\"model.path_soft\"\r\n              (click)=\"lightbox.open(0)\"/>\r\n            <!-- <img [src]=\"model.path_soft\" alt=\"\"\r\n            (mouseover)=\"seeModel(model.id, model.path_soft)\"\r\n            (click)=\"lightbox.open(0)\"> -->\r\n            <div class=\"pseudo_profil_main\">\r\n              <p class=\"btn_green\"></p>\r\n              <p class=\"pseudo\">{{model.pseudo}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"no_list\" *ngIf=\"other.length === 0\">\r\n        Pas de modèle\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"section\">\r\n    <div class=\"become_model\">\r\n      <div class=\"contain_become\">\r\n        <div class=\"text_model\">\r\n          Devenir modèle !\r\n        </div>\r\n        <div class=\"click_model\" routerLink=\"/modele/inscription\">\r\n          Cliquer ici !\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n<div></div><div></div><div></div><div></div>\r\n<div></div><div></div><div></div><div></div>\r\n<div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { animate, group, query, style, transition, trigger } from \"@angular/animations\";\r\n\r\nconst ANIMATION_SPEED = \"250ms\"\r\n\r\nexport const routeTransitionAnimations = trigger('animateRoute',[\r\n    transition('* <=> *', [\r\n      query(\":enter, :leave\", [style({ position: \"fixed\", width: \"100%\" })], { optional: true }),\r\n      group([\r\n        query(\":enter\", [\r\n          style({ transform: \"translateX(150%)\"  }),\r\n          animate(\r\n            `${ANIMATION_SPEED} ease-in-out`,\r\n            style({ transform: \"translateX(0)\" })\r\n          )\r\n        ], { optional: true }),\r\n        query(\":leave\", [\r\n          style({ transform: \"translateX(0%)\" }),\r\n          animate(\r\n            `${ANIMATION_SPEED} ease-in-out`,\r\n            style({ transform: \"translateX(-150%)\" })\r\n          )\r\n        ], { optional: true })\r\n      ])\r\n      ])\r\n]\r\n)\r\n","<div class=\"main_info\" *ngIf=\"!isCondition\">\r\n  <h2>\r\n    {{title}}\r\n  </h2>\r\n  <mat-dialog-content>\r\n    <div class=\"content_text\">\r\n      <div [innerHTML]=\"message | sanitize\">\r\n      </div>\r\n      <!-- {{message}} -->\r\n    </div>\r\n  </mat-dialog-content>\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" (click)=\"validate()\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Confirmer</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n<!-- Conditions d'utilisations -->\r\n<div class=\"main_condition\">\r\n\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-popup-info',\r\n  templateUrl: './popup-info.component.html',\r\n  styleUrls: ['./popup-info.component.scss']\r\n})\r\nexport class PopupInfoComponent implements OnInit {\r\n  title = '';\r\n  message = '';\r\n  action = '';\r\n  isCondition = null;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<PopupInfoComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private router: Router\r\n  ) {\r\n    this.action = data.action;\r\n    this.title = data.title;\r\n    this.message = data.message;\r\n    this.isCondition = data.isCondition ? data.isCondition : null;\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    if (this.action == 'client') {\r\n      this.router.navigate(['/client/connexion'])\r\n    } else if (this.action == 'model') {\r\n      this.router.navigate(['/modele/connexion'])\r\n    } else if (this.action ===  null) {\r\n      // nothing\r\n    } else {\r\n      this.router.navigate([this.action])\r\n    }\r\n    return this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<app-header clickable=\"true\"></app-header>\r\n\r\n<div class=\"contain_signin_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>Contact sur <span class=\"word_one\">BETWEEN</span><span class=\"word_two\">&nbsp;US</span></h2>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signin_two inside_sign\">\r\n\r\n  <!-- <div class=\"descr\">\r\n      Vous avez des doutes ou des questions ?\r\n      Envoyer votre message sur Betweens us live.\r\n  </div> -->\r\n\r\n  <form class=\"form\" [formGroup]=\"loginForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Adresse email</label>\r\n      <input type=\"email\" formControlName=\"email\" name=\"email\"\r\n      class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.email.errors\">\r\n        <small *ngIf=\"form.email.errors.required\" class=\"form-text error-text\">Email requis</small>\r\n        <small *ngIf=\"form.email.errors.email\" class=\"form-text error-text \">\r\n          Format invalide\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"object\">Objet</label>\r\n      <input type=\"object\" formControlName=\"object\" name=\"object\"\r\n      class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.object.errors\">\r\n        <small *ngIf=\"form.object.errors.required\" class=\"form-text error-text\">Objet requis</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"message\">Message</label>\r\n      <textarea rows=\"5\" formControlName=\"message\" name=\"message\" class=\"form-control input lighter\" placeholder=\"...\">...</textarea>\r\n      <div *ngIf=\"submitted && form.message.errors\">\r\n        <small *ngIf=\"form.message.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signin lighter\" (click)=\"send($event)\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">ENVOYER</span>\r\n      </button>\r\n    </div>\r\n\r\n  </form>\r\n\r\n  <br><br><br>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\ninterface Message {\r\n  email: string,\r\n  object: string,\r\n  message: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-contact',\r\n  templateUrl: './contact.component.html',\r\n  styleUrls: ['./contact.component.scss']\r\n})\r\nexport class ContactComponent implements OnInit {\r\n  loginForm : FormGroup;\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private clientService: ClientService,\r\n    private popupService: PopupService,\r\n    private notificationService: NotificationService\r\n  ) {\r\n    this.loginForm = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      object: ['', Validators.required],\r\n      message: ['', Validators.required],\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get form() { return this.loginForm.controls }\r\n\r\n  async send(event) {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n    if (this.loginForm.invalid) {return false;}\r\n    this.loading = true;\r\n    let message: Message = this.loginForm.value;\r\n    console.log(message);\r\n    this.clientService.sendMessage(message).subscribe(\r\n      (data: any) => {\r\n        this.submitted = false;\r\n        console.log(data);\r\n        this.popupService.info(null, 'Accusé de réception', 'Votre message a été bien envoyé !');\r\n        this.loginForm.reset();\r\n        this.loading = false;\r\n      }, (error) => {\r\n        console.log(error);\r\n        this.notificationService.errorMsg('Une erreur s\\'est produite');\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoomTipsService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  debiterRoom(creditId: number, credit: number): Observable<any> {\r\n    const data = {\r\n      creditId,\r\n      credit\r\n    }\r\n    return this.http.post(`${this.endpoint}/room-tips/payCostToEnter`, data, httpOptions)\r\n  }\r\n\r\n  createRoom(tips: string, description: string): Observable<any> {\r\n    const data = {\r\n      tips,\r\n      description\r\n    }\r\n    return this.http.post(`${this.endpoint}/room-tips/createRoom`, data, httpOptions)\r\n  }\r\n\r\n  getRoomModel(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-tips/model/${id}`, httpOptions)\r\n  }\r\n\r\n  getStatRoom(idRoom: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-tips/stat/${idRoom}`, httpOptions)\r\n  }\r\n\r\n  updateActif(roomId: number, joined: boolean, type_room: string, peerId: string = null): Observable<any> {\r\n    const data = {\r\n      roomId,\r\n      joined,\r\n      type_room,\r\n      peerId\r\n    }\r\n    // console.log(\"Update actif \", data);\r\n    return this.http.post(`${this.endpoint}/room-tips/updateActif`, data, httpOptions)\r\n  }\r\n\r\n  updateGain(roomId: number, gain: number) {\r\n    const data = {\r\n      roomId,\r\n      gain\r\n    }\r\n    return this.http.post(`${this.endpoint}/room-tips/updateGain`, data, httpOptions)\r\n  }\r\n\r\n  getActifs(roomId: number) {\r\n    return this.http.get(`${this.endpoint}/actif-room-tips/${roomId}`, httpOptions)\r\n  }\r\n\r\n  joinRoom(roomId: number, joined: boolean, type_room: string, peerId: string = null) {\r\n    const data = {\r\n      roomId,\r\n      joined,\r\n      type_room,\r\n      peerId\r\n    }\r\n    return this.http.post(`${this.endpoint}/actif-room-tips`, data, httpOptions)\r\n  }\r\n\r\n  getLastDescriptions() {\r\n    return this.http.get(`${this.endpoint}/room-tips/lastDescriptions`, httpOptions)\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-page-not-found',\r\n  templateUrl: './page-not-found.component.html',\r\n  styleUrls: ['./page-not-found.component.scss']\r\n})\r\nexport class PageNotFoundComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"main\"></div>\r\n<div class=\"contain_out\">\r\n  <div class=\"title_found\">\r\n    Page non affichée\r\n  </div>\r\n  <div class=\"content\">\r\n    La page que vous essayez d'afficher est introuvable.\r\n  </div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BanishService {\r\n  endpoint = environment.endpoint;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  banishClient(modelId: number, clientId: number) {\r\n    const data = {\r\n      modelId,\r\n      clientId\r\n    }\r\n    return this.http.post(`${this.endpoint}/banish`, data, httpOptions)\r\n  }\r\n\r\n  getBanished(modelId: number) {\r\n    return this.http.get(`${this.endpoint}/banish/${modelId}`, httpOptions)\r\n  }\r\n\r\n  isBanished(modelId: number, clientId: number) {\r\n    const data = {\r\n      modelId,\r\n      clientId\r\n    }\r\n    return this.http.post(`${this.endpoint}/banish/isBanished`, data, httpOptions)\r\n  }\r\n\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport * as AOS from 'aos';\r\n\r\n@Component({\r\n  selector: 'app-infobar-admin',\r\n  templateUrl: './infobar-admin.component.html',\r\n  styleUrls: ['./infobar-admin.component.scss']\r\n})\r\nexport class InfobarAdminComponent implements OnInit {\r\n  @Input()\r\n  title: string\r\n\r\n  @Input()\r\n  subTitle: string\r\n\r\n  icon = './../../../../../assets/icons/paper-clip.svg'\r\n  help = './../../../../../assets/icons/admin-icons/help-web-button.png'\r\n\r\n  helps = [\r\n    {\r\n      label: 'Bloquer',\r\n      icon : './../../../../../assets/icons/admin-icons/bloquer.png'\r\n    },\r\n    {\r\n      label: 'Désactiver',\r\n      icon : './../../../../../assets/icons/admin-icons/deactivate.png'\r\n    },\r\n    {\r\n      label: 'Activer',\r\n      icon : './../../../../../assets/icons/admin-icons/activate.png'\r\n    },\r\n    {\r\n      label: 'Débloquer',\r\n      icon : './../../../../../assets/icons/admin-icons/debloquer.png'\r\n    },\r\n    {\r\n      label: 'Supprimer',\r\n      icon : './../../../../../assets/icons/admin-icons/delete.png'\r\n    }\r\n  ]\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n  }\r\n\r\n}\r\n","<div class=\"main_infobar\">\r\n  <div class=\"left_side_info\">\r\n    <div class=\"subtitle_info\">\r\n      {{subTitle}}\r\n    </div>\r\n    <div class=\"title_info\">\r\n      {{title}}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"right_side_info\">\r\n    <div class=\"contain_info\">\r\n      <img [src]=\"help\" alt=\"\">\r\n      <div class=\"txt_help\">\r\n        aide\r\n        <div class=\"contain_help\">\r\n          <div class=\"list_helps\" *ngFor=\"let item of helps\" data-aos=\"fade-right\">\r\n            <img [src]=\"item.icon\" alt=\"\">\r\n            <p>{{item.label}}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"spacer_infobar\"></div>\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { PackModalComponent } from 'src/app/modals/pack-modal/pack-modal.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { CreditTimer, TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport * as $ from 'jquery'\r\n// Peer\r\nimport './../../modele/shim';\r\nimport Peer from \"peerjs\"\r\nimport { Subscription } from 'rxjs';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport { SubscribeService } from '../../../services/subscribe/subscribe.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n@Component({\r\n  selector: 'app-live-vip',\r\n  templateUrl: './live-vip.component.html',\r\n  styleUrls: ['./live-vip.component.scss', './../live.scss']\r\n})\r\nexport class LiveVipComponent implements OnInit {\r\n  context: string = \"LIVE VIP\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n\r\n  bg : \"assets/logos/dark-light.jpg\";\r\n  modelPseudo = '';\r\n  modelId: number;\r\n  idRoom: number;\r\n  actif: number;\r\n  message: string = '';\r\n  chatColor = \"black\";\r\n  clientId: number;\r\n  clientPseudo: string = '';\r\n  clientCredit: number = 0;\r\n  client = \"assets/images/user_chat.png\";\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  indisponible: boolean = false;\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  show = {\r\n    id: 0,\r\n    credit: null,\r\n    second: null,\r\n    type: null\r\n  };\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  modelLeaveSub = new Subscription();\r\n  modelPassedVipSub = new Subscription();\r\n  invitationVipSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  newPeerSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  banishSub = new Subscription();\r\n\r\n  albums = []\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  // Tips\r\n  showTips: boolean = false;\r\n  loading: boolean = false;\r\n\r\n  // Subscribe\r\n  subscription = {\r\n    subscribed: false,\r\n    expired: false,\r\n    subscribe: {},\r\n    rest: 0\r\n  }\r\n\r\n  // @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n  //   this.socketService.leaveVip(this.idRoom, 'client');\r\n  // }\r\n\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_client', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  @ViewChild('video_live_model', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string = null;\r\n  lazyStream: any;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n  roomIdString: string;\r\n\r\n  hasGotStreamModel: boolean = false;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modelService: ModelService,\r\n    private roomVipService: RoomVipService,\r\n    private store: LocalStorageService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private popupService: PopupService,\r\n    private profilService: ProfilService,\r\n    private clientService: ClientService,\r\n    private dialog: MatDialog,\r\n    private timerService: TimerService,\r\n    private notificationService: NotificationService,\r\n    private albumService: AlbumService,\r\n    private banishService: BanishService,\r\n    private creditService: CreditService,\r\n    private subscribeService: SubscribeService\r\n    ) {\r\n      this.peer = new Peer();\r\n      const id = this.route.snapshot.paramMap.get('model');\r\n      this.modelId = parseInt(id);\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    $(document).ready(\r\n      function() {initSettingVideoModel();}\r\n    );\r\n    if (!this.modelId) {\r\n      this.errorRoom();\r\n      return null;\r\n    }\r\n    this.video.nativeElement.autoplay = true;\r\n    this.video.nativeElement.playsInline = true;\r\n    this.video.nativeElement.muted = true;\r\n    this.remote_video.nativeElement.autoplay = true;\r\n    this.remote_video.nativeElement.playsInline = true;\r\n    this.getModel();\r\n    this.initColor();\r\n    this.initLiveVideo();\r\n    this.clientService.lastRoom(this.router.url);\r\n    this.VerifyHasGotStreamModel();\r\n    this.isSubscribed();\r\n  }\r\n\r\n  async ngOnDestroy() {\r\n    this.onStop();\r\n    clearInterval(this.timer.timer);\r\n    (await this.creditTimer()).subscribe(\r\n      (data) => {\r\n        // console.log(\"Response credit timer \", data);\r\n      }\r\n    );\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.modelLeaveSub.unsubscribe();\r\n    this.modelPassedVipSub.unsubscribe();\r\n    this.invitationVipSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.newPeerSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n    this.banishSub.unsubscribe();\r\n  }\r\n\r\n  VerifyHasGotStreamModel() {\r\n    setTimeout(() => {\r\n      console.log('verify stream model after 10 sec');\r\n      if (!this.hasGotStreamModel) {\r\n        // verify my peerId\r\n        if (this.peerId) {\r\n          this.socketService.askModelPeerId({peerId: this.peerId,\r\n            room: this.idRoom+'P', clientId: this.clientId});\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            this.socketService.askModelPeerId({peerId: this.peerId,\r\n              room: this.idRoom+'P', clientId: this.clientId});\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  isSubscribed() {\r\n    this.subscribeService.verify().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.subscription = data;\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  // Get model infos\r\n  getModel() {\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n        (data) => {\r\n          // console.log('Model ', data);\r\n          this.bg = data.path_soft;\r\n          this.modelPseudo = data.pseudo;\r\n          if (data.profile.status !== 'En vip') {\r\n            this.errorRoom();\r\n            return null;\r\n          }\r\n          this.getMyInfo();\r\n        }\r\n    )\r\n  }\r\n\r\n  // Get client infos + get model info\r\n  getMyInfo() {\r\n      this.clientService.getMyInfos().subscribe(\r\n        (data) => {\r\n          // console.log('My INFO ', data);\r\n          this.clientId = data.id;\r\n          this.clientPseudo = data.pseudo;\r\n          this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n          this.isBanished();\r\n        }\r\n      )\r\n  }\r\n\r\n  isBanished() {\r\n    this.banishService.isBanished(this.modelId, this.clientId).subscribe(\r\n      (data: any) => {\r\n        const ok: boolean = data.authorized\r\n        if (!ok) {\r\n          this.popupService.info(null, 'Accès refusé',\r\n          `Vous n\\' êtes pas autorisé à entrer dans ce room.`);\r\n          this.router.navigateByUrl('/client/accueil/registered')\r\n        } else {\r\n          this.getInfoRoom();\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomVipService.getRoomModel(this.modelId).subscribe(\r\n      (data) => {\r\n        // console.log('Model room ', data);\r\n        this.idRoom = data.idRoom;\r\n        this.roomIdString = this.idRoom + 'V';\r\n        this.clientService.storeLastChat(this.roomIdString);\r\n\r\n        if (data.idRoom === null) {\r\n          this.obsolete();\r\n          this.actif = 0;\r\n          this.idRoom = 0;\r\n          return false;\r\n        }\r\n\r\n        this.actif = data.actif > 2 ? 2: data.actif;\r\n\r\n        if (this.clientId !== data.clientId) {\r\n          this.errorRoom();\r\n          return false;\r\n        }\r\n        this.getMessages();\r\n        this.initSocket();\r\n      }\r\n    )\r\n  }\r\n\r\n  // Init the room + Get client infos\r\n  // initRoom() {\r\n  //   const roomVIP = parseInt(this.store.get('roomVIP'));\r\n  //   this.idRoom = roomVIP;\r\n  //   if (!roomVIP) {\r\n  //     this.errorRoom();\r\n  //     return false;\r\n  //   }\r\n  //   this.getMyInfo();\r\n  // }\r\n\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.idRoom, 'vip').subscribe(\r\n      (data) => {\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async initSocket() {\r\n    await this.socketService.joinVip(this.idRoom, this.modelId);\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('Joined ', data);\r\n        this.actif = data < 0 ? 0 : data;\r\n        this.actif = data > 2 ? 2 : data;\r\n        // console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        this.actif = data < 0 ? 0 : data;\r\n        this.actif = data > 2 ? 2 : data;\r\n        // console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.idRoom}V`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Msg to client ', data);\r\n        // this.getMessages();\r\n        this.messages.push(data);\r\n      }\r\n    );\r\n\r\n    this.banishSub = this.socketService.listen(`Banish client ${this.idRoom}V ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.isBanished()\r\n      }\r\n    );\r\n\r\n    this.modelLeaveSub = this.socketService.listen(`model leaved ${this.idRoom}V`).subscribe(\r\n      (data) => {\r\n        this.leaved = true;\r\n        this.indisponible = true;\r\n        this.actif = 1;\r\n        this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n        `${this.modelPseudo} a fermé le live de ce room`);\r\n      }\r\n    );\r\n\r\n    this.peerSub = this.socketService.listen(`ans peerId ${this.clientId} ${this.idRoom}V`).subscribe(\r\n      (data: {peerId: any, room: string, clientId: number}) => {\r\n          console.log(\"ans peerId \", data);\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n    }\r\n    );\r\n\r\n    this.newPeerSub = this.socketService.listen(`new model peerId ${this.idRoom}V`).subscribe(\r\n      (data: {role: string, modelId: number, room: string, peerId: string}) => {\r\n          console.log(\"new model peerId\");\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n        if (data.clientId === this.clientId) return false;\r\n        if (data.modelId) {\r\n            this.toggleAudioModelStream(data.peerId, data.isAudio)\r\n        }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n        if (data.clientId === this.clientId) return false;\r\n        if (data.modelId) {\r\n            this.toggleVideoModelStream(data.peerId, data.isVideo)\r\n        }\r\n      }\r\n    );\r\n\r\n    this.initTimer();\r\n    if (this.peerId) {\r\n      this.socketService.sendClientPeerId({peerId: this.peerId, room: this.idRoom+'V'});\r\n    } else {\r\n      this.relaunchPeerId();\r\n    }\r\n\r\n    this.getAlbums();\r\n  }\r\n\r\n  toggleAudioModelStream(peerId: any, isAudio: boolean) {\r\n    if (isAudio) {\r\n      $('#video_live_model').prop('volume', 1)\r\n    } else {\r\n      $('#video_live_model').prop('volume', 0)\r\n    }\r\n  }\r\n\r\n  toggleVideoModelStream(peerId: any, isVideo: boolean) {\r\n    var filterVal = 'blur(0px)';\r\n    var filterFull = 'blur(200px)';\r\n    if (isVideo) {\r\n      $('#video_live_model')\r\n      .css('filter',filterVal)\r\n      .css('webkitFilter',filterVal)\r\n      .css('mozFilter',filterVal)\r\n      .css('oFilter',filterVal)\r\n      .css('msFilter',filterVal);\r\n    } else {\r\n      $('#video_live_model')\r\n      .css('filter',filterFull)\r\n      .css('webkitFilter',filterFull)\r\n      .css('mozFilter',filterFull)\r\n      .css('oFilter',filterFull)\r\n      .css('msFilter',filterFull);\r\n    }\r\n  }\r\n\r\n  relaunchPeerId() {\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Relaunch Peer Id \", id);\r\n      this.peerId = id;\r\n      this.socketService.sendClientPeerId({peerId: this.peerId, room: this.idRoom+'V'});\r\n    });\r\n  }\r\n\r\n  obsolete() {\r\n    this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n    `Aucun live n\\'est lancé dans ce room`);\r\n  }\r\n\r\n  initColor() {\r\n    if (this.store.get(\"ticket_chat\")) {\r\n      this.chatColor = this.store.get(\"ticket_chat\");\r\n      return true;\r\n    };\r\n    this.roomVipService.getColor().subscribe(\r\n      (data) => {\r\n        this.chatColor = data.color;\r\n        this.store.set(\"ticket_chat\", data.color);\r\n      }\r\n    )\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.idRoom,\r\n      message: this.message,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'vip',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.idRoom + 'V',\r\n      role: 'client',\r\n      id: this.clientId,\r\n      message: this.message,\r\n      idRoom: this.idRoom,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'vip',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    // console.log(data);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    console.log(this.toggleDot);\r\n  }\r\n\r\n\r\n  async liveOut() {\r\n      // this.creditTimer();\r\n      await this.leaveTimer().then(\r\n        (data) => {\r\n          this.roomVipService.leaveRoom();\r\n          this.socketService.leaveVip(this.idRoom, 'client').then(\r\n            () => {\r\n              this.store.remove('roomVIP');\r\n              this.clientService.deleteLastChat();\r\n              window.location.href= '/client/accueil/registered';\r\n              // this.router.navigate(['/client/accueil/registered']);\r\n            }\r\n          );\r\n        });\r\n        this.onStop();\r\n  }\r\n\r\n  async leaveTimer() {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.VIP,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n    // console.log(\"Before leave timer \", data)\r\n    return await this.timerService.updateTimer(data).subscribe(\r\n      (data) => {\r\n        // console.log('Leave timer ', data);\r\n        this.timer.reinit = true;\r\n      }\r\n    )\r\n  }\r\n\r\n  buy() {\r\n    const dialogRef = this.dialog.open(PackModalComponent, {\r\n      width: '80vh',\r\n      data: {}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  errorRoom() {\r\n    this.popupService.info(null,'LIVE INDISPONIBLE',\r\n    `Ce live n\\'est plus disponible`);\r\n    this.indisponible = true;\r\n  }\r\n\r\n  async getCredit() {\r\n    return await this.clientService.getCredit().subscribe(\r\n      (data) => {\r\n        this.clientCredit = data.credit;\r\n        // console.log('Client credit ', this.clientCredit);\r\n        if (this.show.credit < this.clientCredit) return null;\r\n        this.timer.fail = true;\r\n        // if Not leaved\r\n        if (!this.timer.reinit) {\r\n          this.notificationService.failure(\"CREDIT INSUFFISANT\", \"Veuillez vous recharger.\");\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n    // Timer\r\n    async initTimer() {\r\n      this.timerService.getTimer(this.modelId, TypeTimer.VIP).subscribe(\r\n        async (data) => {\r\n          // console.log('Timer ', data);\r\n          const created: Date = data.createdAt;\r\n          const updated: Date = data.updatedAt;\r\n          this.timer.id = data.id;\r\n          // console.log(created.toString(), \" to \", updated.toString());\r\n          const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n          this.timer.hour = hour;\r\n          this.timer.minute = minute;\r\n          this.timer.second = second;\r\n          // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n          await this.getCostShow();\r\n        }\r\n      )\r\n    }\r\n\r\n    async getCostShow() {\r\n      return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n        (data: any) => {\r\n          this.show.id = data.id;\r\n          this.show.credit = data.credit;\r\n          this.show.second = data.second;\r\n          this.show.type = data.type;\r\n          // console.log('Show cost ' , this.show, \" - credit - \" , this.clientCredit);\r\n          if (this.clientCredit < this.show.credit) {\r\n            this.aucunCredit();\r\n            return null;\r\n          } else if (this.clientCredit <= (this.show.credit * 2)) {\r\n            this.creditInsuffisant();\r\n            return null;\r\n          }\r\n          this.beginTimer();\r\n        }\r\n      )\r\n    }\r\n\r\n    creditInsuffisant() {\r\n      this.popupService.info(null,'CREDIT INSUFFISANT',\r\n      `Vous n\\'avez presque plus de crédit. Veuillez vous recharger.`);\r\n      setTimeout(\r\n        () => {\r\n          this.getCredit();\r\n\r\n        }, 20000\r\n      )\r\n    }\r\n\r\n    aucunCredit() {\r\n      this.timer.fail = true;\r\n      this.popupService.info('/client/achat_de_credit','ACHAT DE CREDIT',\r\n      `Veuillez vous recharger.`);\r\n    }\r\n\r\n    async beginTimer() {\r\n      const delay = this.show.second * 1000;\r\n      // console.log(delay, \" ms \");\r\n      await (await this.creditTimer()).subscribe( // launch main creditation\r\n        (data: any) => {\r\n          // console.log(\"Response credit timer \", data);\r\n          this.clientCredit = data.credit ? data.credit : 0;\r\n          if (data.credit <= 0) {\r\n            this.aucunCredit();\r\n            return null;\r\n          } else if (data.credit <= (this.show.credit * 2)) {\r\n            this.creditInsuffisant();\r\n            return null;\r\n          }\r\n        }\r\n      );\r\n      this.timer.timer = setInterval(\r\n        async () => {\r\n          if (!this.timer.reinit) {\r\n            await (await this.creditTimer()).subscribe(\r\n              (data: any) => {\r\n                // console.log(\"Response credit timer \", data);\r\n                this.clientCredit = data.credit ? data.credit : 0;\r\n                if (data.credit <= 0) {\r\n                  this.aucunCredit();\r\n                  return null;\r\n                } else if (data.credit <= (this.show.credit * 2)) {\r\n                  this.creditInsuffisant();\r\n                  return null;\r\n                }\r\n              }\r\n            );\r\n          }\r\n        }, delay\r\n      )\r\n    }\r\n\r\n    async creditTimer() {\r\n      if ((this.clientId === undefined) || (this.show.credit == null)) return null;\r\n      const data: CreditTimer = {\r\n        clientId: this.clientId,\r\n        modelId: this.modelId,\r\n        timerId: this.timer.id,\r\n        showCredit: this.show.credit,\r\n        showSecond: this.show.second,\r\n        showType: this.show.type,\r\n        roomId: this.idRoom\r\n      }\r\n      // console.log(\"credit timer post \", data);\r\n      return await this.timerService.creditTimer(data);\r\n    }\r\n\r\n  // WEB RTC - LIVE VIDEO\r\n  initLiveVideo() {\r\n    this.onStart();\r\n    this.getPeerId();\r\n  }\r\n\r\n  onStart(){\r\n    if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n      navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n        this.lazyStream = ms;\r\n        // console.log('My stream ', ms);\r\n        this.video.nativeElement.srcObject = this.lazyStream;\r\n        // this.remote_video.nativeElement.srcObject = ms;\r\n        // const _video = this.video.nativeElement;\r\n        // _video.srcObject = ms;\r\n        // _video.play();\r\n        // this.lazyStream.getVideoTracks().forEach(\r\n        //   (track) => {\r\n        //     this.showVideo = false;\r\n        //     track.enabled = false;\r\n        //     this.notificationService.infoMsg('Votre caméra est désactivé par defaut');\r\n        //   }\r\n        // );\r\n        $('#video_live_client').prop('volume', 0);\r\n      });\r\n    }\r\n  }\r\n\r\n  onStop() {\r\n    if (this.video && this.video.nativeElement.srcObject) {\r\n      this.video.nativeElement.pause();\r\n      if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n        (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n      }\r\n      this.video.nativeElement.srcObject = null;\r\n    }\r\n    if (this.lazyStream) {\r\n      this.lazyStream.getTracks().forEach(\r\n        (track) => {\r\n          track.stop();\r\n        }\r\n      );\r\n    }\r\n    this.lazyStream = null;\r\n  }\r\n\r\n  private getPeerId = () => {\r\n    console.log(\"Get Peer\");\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log('On call');\r\n      call.answer(this.lazyStream);\r\n      call.on('stream', (remoteStream) => {\r\n        console.log('Receive stream');\r\n        this.hasGotStreamModel = true;\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      });\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: true,\r\n      //   audio: true\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   this.video.nativeElement.srcObject = stream;\r\n      //   // const _video = this.video.nativeElement;\r\n      //   // _video.srcObject = stream;\r\n      //   // _video.play();\r\n      //   // console.log('Answer stream');\r\n      //   call.answer(stream);\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     // console.log('Receive stream');\r\n      //     this.streamRemoteVideo(remoteStream);\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       // this.streamRemoteVideo(remoteStream);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to get media');\r\n      // });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    console.log('Call Peer');\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      console.log('Receive stream');\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: true,\r\n    //   audio: true\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(id, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     // console.log('Receive stream');\r\n    //     this.streamRemoteVideo(remoteStream);\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  private streamRemoteVideo(stream: MediaStream): void {\r\n    console.log('Stream Remote video ', stream)\r\n    //this.remote_video.nativeElement.srcObject = stream;\r\n    const _video = this.remote_video.nativeElement;\r\n    _video.srcObject = stream;\r\n    setTimeout(() => {\r\n      _video.play();\r\n    }, 3000)\r\n  }\r\n\r\n  getAlbums() {\r\n    const data = {\r\n      modelId : this.modelId,\r\n      type_album: 'vip'\r\n    }\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          this.albums.push({\r\n            url: data[i].path_album\r\n          })\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n      // $(\"#video_live_client\").removeClass( \"hideStream\" ).addClass(\"showStream\");\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n      // $(\"#video_live_client\").removeClass(\"showStream\").addClass(\"hideStream\");\r\n    }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.idRoom+'V';\r\n    this.socketService.toggleVideo(room, this.clientId, this.peerId, null, this.showVideo);\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.idRoom+'V'\r\n    this.socketService.toggleAudio(room, this.clientId, this.peerId, null, this.showAudio)\r\n  }\r\n\r\n      // -------- EMOJI -----------------\r\n\r\n      toggleEmojiPicker() {\r\n        this.showEmojiPicker = !this.showEmojiPicker;\r\n      }\r\n\r\n      addEmoji(event) {\r\n        const {message} = this;\r\n        let text = '';\r\n        if (message) {\r\n          text = `${message}${event.emoji.native}`;\r\n        } else {\r\n          text = `${event.emoji.native}`;\r\n        }\r\n        this.message = text;\r\n      }\r\n\r\n      focus() {\r\n        this.showEmojiPicker = false;\r\n      }\r\n\r\n            // Tips\r\n\r\n            selectTips(value: TIP) {\r\n              // console.log('Tips ', value);\r\n              this.loading = true;\r\n              if (value.credit > this.clientCredit) {\r\n                this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n                this.loading = false;\r\n                return null;\r\n              }\r\n              this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n              subscribe(\r\n                (data: any) => {\r\n                  // console.log(data);\r\n                  this.clientCredit = data.creditClient;\r\n                  this.sendTips(value.symbole, value.credit, value.designation);\r\n                }, (error) => {\r\n                  console.log(error);\r\n                }\r\n              )\r\n\r\n            }\r\n\r\n            toggleTips() {\r\n              this.showTips = !this.showTips;\r\n            }\r\n\r\n            sendTips(symbole: string, credit: number, designation, vip: boolean = false) {\r\n              const data: Chat = {\r\n                idRoom: this.idRoom,\r\n                message: vip ? 'vip' : 'This is a gift',\r\n                type_source: 'client',\r\n                id_source: this.clientId,\r\n                code_couleur: this.chatColor,\r\n                type_chat: 'vip',\r\n                giftSymbol: symbole,\r\n                giftDesign: designation,\r\n                giftSource: this.clientPseudo,\r\n                pseudo: this.clientPseudo\r\n              }\r\n              const msg: ChatSocket = {\r\n                room: this.idRoom + 'V',\r\n                role: 'client',\r\n                id: this.clientId,\r\n                message: vip ? 'vip' : 'This is a gift',\r\n                pseudo: this.clientPseudo,\r\n                idRoom: this.idRoom,\r\n                type_source: 'client',\r\n                id_source: this.clientId,\r\n                code_couleur: this.chatColor,\r\n                type_chat: 'vip',\r\n                giftSymbol: symbole,\r\n                giftDesign: designation,\r\n                giftSource: this.clientPseudo\r\n              }\r\n              this.socketService.sendMessage(msg);\r\n              this.chatService.postMessage(data).subscribe(\r\n                (data) => {\r\n                  // this.getMessages();\r\n                  this.loading = false;\r\n                  this.showTips = false;\r\n                }\r\n              )\r\n            }\r\n\r\n}\r\n","<app-header connected=\"true\"></app-header>\r\n\r\n\r\n<div class=\"main_live\" [ngClass]=\"{'dry_up': timer.fail}\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <app-topbar [context]=\"context\" [actif]=\"actif\"\r\n    [hour]=\"this.timer.hour\"\r\n    [minute]=\"this.timer.minute\"\r\n    [second]=\"this.timer.second\"\r\n    [reinit]=\"this.timer.reinit\"\r\n    [leaved]=\"leaved\"\r\n    ></app-topbar>\r\n    <div class=\"contain_left\">\r\n      <div class=\"show_live_left\" [ngClass]=\"{'pass_privat': indisponible}\">\r\n\r\n        <div id=\"videoContainer\"  class=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls class=\"model_flow\" id=\"video_live_model\" #video_live_model></video>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <app-album-live [albums]=\"albums\"\r\n        *ngIf=\"subscription.subscribed && !subscription.expired\"></app-album-live> -->\r\n\r\n      </div>\r\n      <div class=\"client_live\">\r\n        <video controls autoplay [poster]=\"client\" class=\"client_flow\" id=\"video_live_client\" #video_live_client muted=\"muted\"></video>\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div class=\"show_live_right\">\r\n        <div class=\"header_chat\">\r\n          <p>&gt;</p>\r\n          <div>\r\n            Live Chat\r\n          </div>\r\n        </div>\r\n        <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n        [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"\r\n        showMenu=\"false\" isModel=\"false\" [clientId]=\"clientId\"\r\n        [roomId]=\"roomIdString\"></app-live-free-chat>\r\n<!--\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n            [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"></app-live-free-chat>\r\n          </mat-tab>\r\n          <mat-tab label=\"Statistiques\">\r\n            <app-live-vip-stat></app-live-vip-stat>\r\n          </mat-tab>\r\n        </mat-tab-group> -->\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\">\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <!-- <div class=\"contain_close\">\r\n          <img [src]=\"close\" alt=\"\" id=\"close\" (click)=\"toggleDots()\">\r\n        </div> -->\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div *ngIf=\"showTips\">\r\n        <app-tips (newItemEvent)=\"selectTips($event)\"></app-tips>\r\n      </div>\r\n\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n            <img src=\"./../../../../assets/icons/gift.png\" alt=\"\" class=\"img_gift\"\r\n            (click)=\"toggleTips()\">\r\n            <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n            placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"message\">\r\n            <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n              <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n            </button><br>\r\n            <button type=\"submit\">\r\n              <div class=\"p\">\r\n                <img [src]=\"send\" alt=\"\">\r\n              </div>\r\n            </button>\r\n        </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { ProfilService } from '../../services/profil/profil.service';\r\nimport { AlbumService } from '../../services/album/album.service';\r\nimport { Router } from '@angular/router';\r\nimport { PopupService } from 'src/app/services/popup/popup.service';\r\nimport { RoomTipsService } from 'src/app/services/roomTips/room-tips.service';\r\nimport { ClientService } from '../../services/client/client.service';\r\nimport * as AOS from 'aos';\r\n\r\n@Component({\r\n  selector: 'app-profil-model-detail',\r\n  templateUrl: './profil-model-detail.component.html',\r\n  styleUrls: ['./profil-model-detail.component.scss']\r\n})\r\nexport class ProfilModelDetailComponent implements OnInit {\r\n  modelId: number;\r\n  modelPseudo: string;\r\n  modelProfil: string;\r\n  modelAge: any;\r\n\r\n  model =  {\r\n    pseudo: '',\r\n    path_soft: null,\r\n    sex_orientation: '',\r\n    like: '',\r\n    dislike: '',\r\n    status: '',\r\n    social_network: '',\r\n    description: '',\r\n    date_last_connection: ''\r\n  }\r\n\r\n  imageData: any[];\r\n\r\n  clientId: number;\r\n  clientPseudo: string;\r\n  clientCredit: number;\r\n  clientCreditId: number;\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<ProfilModelDetailComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private profilService: ProfilService,\r\n    private albumService: AlbumService,\r\n    private router: Router,\r\n    private popupService: PopupService,\r\n    private roomTipsService: RoomTipsService,\r\n    private clientService: ClientService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    this.modelId = this.data.modelId;\r\n    this.modelPseudo = this.data.modelPseudo;\r\n    this.modelProfil = this.data.modelProfil;\r\n    const date = new Date().getFullYear();\r\n    this.modelAge = date - this.data.modelAge;\r\n    this.getProfilModel();\r\n    this.seeModel();\r\n    this.getCreditClient();\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close(0);\r\n  }\r\n\r\n  getProfilModel() {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        this.model = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  seeModel() {\r\n    this.imageData = [];\r\n    const data = {\r\n      modelId : this.modelId,\r\n      type_album: 'free'\r\n    }\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        this.imageData = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  launch() {\r\n    if (this.model.status === 'En live') {\r\n      this.navigateTo('/client/live/private', this.modelId);\r\n      this.close();\r\n    } else if (this.model.status === 'En tips') {\r\n      this.liveTips();\r\n    } else if (this.model.status === 'En live choice') {\r\n      this.popupService.info(null, 'LIVE OCCUPE', `${this.modelPseudo} est en live CHOICE US en ce moment`);\r\n    } else if (this.model.status === 'En vip') {\r\n      this.popupService.info(null, 'LIVE OCCUPE', `${this.modelPseudo} est en live VIP en ce moment`);\r\n    } else if (this.model.status === 'En ligne') {\r\n      this.navigateTo('/client/live/free', this.modelId);\r\n      this.close();\r\n    } else {\r\n      this.popupService.info(null, 'HORS LIGNE', `${this.modelPseudo} est hors ligne pour le moment`);\r\n    }\r\n  }\r\n\r\n  navigateTo(url: string, modelId: number) {\r\n    this.router.navigate([`${url}`, {model: modelId}]);\r\n  }\r\n\r\n  liveTips() {\r\n    if (this.clientCredit <= 10) {\r\n      this.popupService.info(null,'LIVE TIPS',\r\n      `Veuillez acheter du crédit (10 crédits minimum).`);\r\n      return false;\r\n    }\r\n\r\n    this.roomTipsService.debiterRoom(this.clientCreditId, 1).subscribe(\r\n      (data) => {\r\n        this.navigateTo('/client/live/tips-clients', this.modelId);\r\n        this.close();\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCreditClient() {\r\n    this.clientService.getMyInfos().subscribe( // My info\r\n      (data) => {\r\n        // console.log(\"My info \", data)\r\n        this.clientId = data.id;\r\n        this.clientPseudo = data.pseudo;\r\n        this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n        this.clientCreditId = data.credit ? data.credit.id : 0; // Client Credit Id\r\n      }\r\n    )\r\n  }\r\n\r\n  goToAlbums() {\r\n    this.close();\r\n    this.navigateTo('/client/albums-model', this.modelId);\r\n  }\r\n}\r\n","<div class=\"main_\">\r\n  <div class=\"main_top\">\r\n  <div class=\"left_side\" data-aos='fade-left'>\r\n\r\n    <img [src]=\"modelProfil\" alt=\"\" class=\"model_profil\">\r\n    <div class=\"suite\">\r\n      <span *ngIf=\"model.status === 'En ligne'\">\r\n        Joinez-moi en live free chat <br>\r\n        Gratuit\r\n      </span>\r\n\r\n      <span *ngIf=\"model.status === 'En tips'\">\r\n        Joinez-moi en live tips <br>\r\n        Entrez pour 1 crédits\r\n      </span>\r\n\r\n      <span *ngIf=\"model.status === 'En live'\">\r\n        Joinez-moi en live privé <br>\r\n        5 crédits / mn\r\n      </span>\r\n\r\n      <span *ngIf=\"model.status === 'En vip'\">\r\n        Live VIP pour 15 crédits / mn<br>\r\n        Attendez votre tour !\r\n      </span>\r\n\r\n      <span *ngIf=\"model.status === 'En live choice'\">\r\n        Live Choice US <br>\r\n        Faites votre choix ! <br>\r\n        Attendez votre tour !\r\n      </span>\r\n\r\n      <span *ngIf=\"model.status === 'Hors ligne'\">\r\n        Je suis indisponible !\r\n      </span>\r\n    </div>\r\n\r\n    <div class=\"contain_detail\">\r\n      {{model.description}}\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"right_side\" data-aos='fade-right'>\r\n    <div class=\"model_pseudo\">\r\n      {{modelPseudo}}\r\n    </div>\r\n    <div class=\"contain_description\">\r\n      <div class=\"contain_info\" *ngIf=\"model.like && model.like !== ' '\">\r\n        <div class=\"label_info\">\r\n          J'aime :\r\n          <span class=\"value_info\">{{model.like}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"contain_info\" *ngIf=\"model.dislike && model.dislike !== ' '\">\r\n        <div class=\"label_info\">\r\n          Je deteste :\r\n          <span class=\"value_info\">{{model.dislike}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"contain_info\" *ngIf=\"modelAge\">\r\n        <div class=\"label_info\">\r\n          Age :\r\n          <span class=\"value_info\">{{modelAge}} ans</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"contain_info\" *ngIf=\"model.social_network\">\r\n        <div class=\"label_info\">\r\n          Réseaux sociaux :\r\n          <span class=\"value_info\">{{model.social_network}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"contain_info\" *ngIf=\"model.sex_orientation\">\r\n        <div class=\"label_info\">\r\n          Spécialités :\r\n          <span class=\"value_info\">{{model.sex_orientation}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_live\">\r\n      <div class=\"live_btn\"\r\n      (click)=\"launch()\"\r\n      [ngClass]='{\r\n        \"in_live\" : model.status === \"En vip\" || model.status === \"En live choice\" || model.status === \"En tips\" || model.status === \"En live\",\r\n        \"in_chat\" : model.status === \"En ligne\",\r\n        \"out\" : model.status === \"Hors ligne\"\r\n      }'>\r\n        <p class=\"btn_live\"></p>\r\n        <p class=\"text_live\">\r\n          <span *ngIf=\"model.status === 'En tips'\">Joignez moi en live TIPS !</span>\r\n          <span *ngIf=\"model.status === 'En live choice'\">En live Choice US</span>\r\n          <span *ngIf=\"model.status === 'En ligne'\">Venez me joindre en Tchat !</span>\r\n          <span *ngIf=\"model.status === 'En vip'\">En VIP</span>\r\n          <span *ngIf=\"model.status === 'En live'\">Joignez moi en live Privé !</span>\r\n          <span *ngIf=\"model.status === 'Hors ligne'\">Hors ligne</span>\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"album\" (click)=\"goToAlbums()\">\r\n        Mes albums <i class=\"fa fa-chevron-right\"></i>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<button class=\"btn_close lighter\" (click)=\"close()\">\r\n  Fermer\r\n</button>\r\n\r\n</div>\r\n\r\n\r\n\r\n","<app-infobar-admin title=\"Clients\" subTitle=\"Clients\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    <button class=\"btn btn_list\" >\r\n      En attente\r\n    </button>\r\n    <button class=\"btn btn_list\">\r\n      Terminé\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"filter_client\">\r\n            <p class=\"txt\">Afficher par :</p>\r\n            <select name=\"filter\" id=\"filter\">\r\n              <option value=\"all\">Tous</option>\r\n              <option value=\"delete\">Suppression</option>\r\n              <option value=\"deactivate\">Désactivation</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"pagination_client\">\r\n            <div class=\"all\">Tout</div>\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\">\r\n                &lt;\r\n              </div>\r\n              <div class=\"item_pagination actif\">1</div>\r\n              <div class=\"item_pagination\">2</div>\r\n              <div class=\"item_pagination\">3</div>\r\n              <div class=\"next_pagination\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-2\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        <span *ngIf=\"askTxt === 'all'\">TOUTES LES DEMANDES</span>\r\n        <span *ngIf=\"askTxt !== 'all'\">DEMANDE DE {{askTxt}} DE COMPTE</span>\r\n      </div>\r\n      <div>\r\n        Total: 20\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Etat</td>\r\n          <td>Date</td>\r\n          <td>Description</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.etat}}</td>\r\n          <td>{{client.date}}</td>\r\n          <td>{{client.description}}</td>\r\n          <td class=\"list_action\">\r\n            <div class=\"refuse\">Refuser</div>\r\n            <div class=\"bar\"></div>\r\n            <div class=\"accept\">Accepter</div>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-demande-clients-admin',\r\n  templateUrl: './demande-clients-admin.component.html',\r\n  styleUrls: ['./demande-clients-admin.component.scss']\r\n})\r\nexport class DemandeClientsAdminComponent implements OnInit {\r\n  icon = './../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = [\r\n    {\r\n      pseudo : 'John',\r\n      etat: 'En attente',\r\n      date: '10/01/2021',\r\n      description: 'suppression'\r\n    },\r\n    {\r\n      pseudo : 'John',\r\n      etat: 'En attente',\r\n      date: '10/01/2021',\r\n      description: 'désactivation'\r\n    },\r\n  ]\r\n\r\n  askTxt = 'all'\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { TypeTimer, CreditTimer } from '../../interfaces/timer.interface';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TimerService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private store: LocalStorageService\r\n  ) { }\r\n\r\n  convertTime(created: string, updated: string) {\r\n    let step = 0; let hour = 0; let minute = 0; let second = 0;\r\n\r\n    let dayCreated = parseInt(created.substring(8, 10));\r\n    let dayUpdated = parseInt(updated.substring(8, 10));\r\n\r\n    let hourCreated = parseInt(created.substring(11, 13));\r\n    let hourUpdated = parseInt(updated.substring(11, 13));\r\n\r\n    let minCreated = parseInt(created.substring(14, 16));\r\n    let minUpdated = parseInt(updated.substring(14, 16));\r\n\r\n    let secCreated = parseInt(created.substring(17, 19));\r\n    let secUpdated = parseInt(updated.substring(17, 19));\r\n\r\n    while (dayCreated < dayUpdated) {\r\n      secCreated++;\r\n      if (secCreated > 59) {minCreated++; secCreated = 0;}\r\n      if (minCreated > 59) {hourCreated++; minCreated = 0;}\r\n      if (hourCreated > 59) {dayCreated++; hourCreated = 0;}\r\n      step++;\r\n    }\r\n\r\n    while (hourCreated < hourUpdated) {\r\n      secCreated++;\r\n      if (secCreated > 59) {minCreated++; secCreated = 0;}\r\n      if (minCreated > 59) {hourCreated++; minCreated = 0;}\r\n      step++;\r\n    }\r\n\r\n    while (minCreated < minUpdated) {\r\n      secCreated++;\r\n      if (secCreated > 59) {minCreated++; secCreated = 0;}\r\n      step++;\r\n    }\r\n\r\n    while (secCreated < secUpdated) {\r\n      secCreated++; step++;\r\n    }\r\n    // console.log(\"Step \", step);\r\n\r\n    hour = Math.floor(step / 3600);\r\n    minute = Math.floor((step % 3600) / 60);\r\n    second = (step % 3600) % 60;\r\n\r\n    return {hour, minute, second}\r\n  }\r\n\r\n  getTimer(modelId: number, type: TypeTimer): Observable<any> {\r\n    const data = {\r\n      modelId: modelId,\r\n      type: type\r\n    }\r\n    return this.http.post(`${this.endpoint}/timer`,data, httpOptions)\r\n  }\r\n\r\n  getCostShow(type: TypeTimer) {\r\n    return this.http.get(`${this.endpoint}/cost-show/${type}`, httpOptions)\r\n  }\r\n\r\n  updateTimer(data) {\r\n    return this.http.post(`${this.endpoint}/timer/update`, data, httpOptions)\r\n  }\r\n\r\n  creditTimer(data: CreditTimer) {\r\n    // console.log(data);\r\n    return this.http.post(`${this.endpoint}/timer/credit`, data, httpOptions)\r\n  }\r\n\r\n  beginTimerModel(modelId: number, type: TypeTimer): Observable<any> {\r\n    const data = {\r\n      modelId: modelId,\r\n      type: type\r\n    }\r\n    return this.http.post(`${this.endpoint}/timer/beginTimerModel`,data, httpOptions)\r\n  }\r\n\r\n  convertToTime(time: string) {\r\n    const inFloat = parseInt(time)\r\n    const inInteger = Math.floor(inFloat)\r\n    let minute = Math.floor(inInteger / 60)\r\n    let second = inInteger % 60\r\n    if (minute > 59) {\r\n      let hour = Math.floor(minute / 60)\r\n      minute =  minute % 60\r\n      return hour +':'+minute+':'+second\r\n    }\r\n    return minute+':'+second\r\n  }\r\n}\r\n","import { AuthService } from './../../../services/auth/auth.service';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { SlideInOutAnimation } from 'src/app/animation';\r\nimport { HeaderService } from 'src/app/services/header/header.service';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmLogoutComponent } from '../../../modals/confirm-logout/confirm-logout/confirm-logout.component';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport * as AOS from 'aos';\r\n\r\n@Component({\r\n  selector: 'app-connected-model',\r\n  templateUrl: './connected-model.component.html',\r\n  styleUrls: ['./connected-model.component.scss'],\r\n  animations: [SlideInOutAnimation]\r\n})\r\nexport class ConnectedModelComponent implements OnInit {\r\n  animationState = 'out';\r\n  chat = \"assets/icons/video-camera-svgrepo-com.svg\";\r\n  settings = \"assets/icons/settings.svg\";\r\n\r\n  @Input()\r\n  actif: string;\r\n  active: number = 0;\r\n\r\n  showHelp: boolean = false;\r\n\r\n  constructor(\r\n    private authSrv: AuthService,\r\n    private router: Router,\r\n    private dialog: MatDialog,\r\n    private modelService: ModelService\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    if (this.actif) this.active = parseInt(this.actif);\r\n  }\r\n\r\n  toggleShowDiv(divName: string) {\r\n    if (divName === 'contain_connected') {\r\n      console.log(this.animationState);\r\n      this.animationState = this.animationState === 'out' ? 'in' : 'out';\r\n      console.log(this.animationState);\r\n    }\r\n  }\r\n\r\n  hoverHelp() {\r\n    this.showHelp = true\r\n  }\r\n\r\n  outHelp() {\r\n    this.showHelp = false\r\n  }\r\n\r\n  logout() {\r\n    const dialogRef = this.dialog.open(ConfirmLogoutComponent, {\r\n      width: '50vh',\r\n      data: {action: 'model'}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  goToChat() {\r\n    // console.log('chate')\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log(data)\r\n        const status = data.profile.status;\r\n        if (status === 'En live') {\r\n          this.router.navigate(['/modele/live-private'])\r\n        } else if (status === 'En vip') {\r\n          this.router.navigate(['/modele/live-vip'])\r\n        } else if (status === 'En tips') {\r\n          this.router.navigate(['/modele/live-tips-model'])\r\n        } else if (status === 'En live choice') {\r\n          this.router.navigate(['/modele/live-choice-us'])\r\n        } else if (status === 'En ligne') {\r\n          this.router.navigate(['/modele/chat'])\r\n        } else {\r\n          this.router.navigate(['/modele/connexion'])\r\n        }\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n\r\n","\r\n<div class=\"bars\">\r\n  <img [src]=\"chat\" alt=\"\" class=\"icon\" (click)=\"goToChat()\">\r\n  <img [src]=\"settings\" alt=\"\" class=\"icon\" routerLink=\"/modele/dashboard\"\r\n    [ngClass]=\"{'active': active == 3}\">\r\n  <i class=\"fa fa-bars\" (click)=\"toggleShowDiv('contain_connected')\"></i>\r\n</div>\r\n\r\n<div class=\"contain_connected\" [@slideInOut]=\"animationState\">\r\n\r\n  <div class=\"list one\" [ngClass]=\"{'active': active == 1}\" routerLink=\"/modele/profile\">\r\n    Mon Compte\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list two\" routerLink=\"/modele/albums\" [ngClass]=\"{'active': active == 2}\">\r\n    Mes Albums\r\n    <span></span>\r\n  </div>\r\n\r\n  <div class=\"list four\" [ngClass]=\"{'active': active == 3}\" routerLink=\"/modele/dashboard\"\r\n  matTooltip=\"Paramètres\" matTooltipClass=\"tooltip_class\">\r\n    <img [src]=\"settings\" alt=\"\" class=\"icon\">    <span></span>\r\n  </div>\r\n\r\n  <div class=\"list three\" [ngClass]=\"{'active': active == 4}\" (click)=\"goToChat()\"\r\n  matTooltip=\"Room actuel\" matTooltipClass=\"tooltip_class\">\r\n    <img [src]=\"chat\" alt=\"\" class=\"icon icon_chat\">\r\n    <span></span>\r\n  </div>\r\n\r\n  <div class=\"list five\" (click)=\"logout()\" [ngClass]=\"{'active': active == 5}\">\r\n    Déconnexion\r\n    <span></span>\r\n  </div>\r\n\r\n  <div class=\"list six\" (mouseover)=\"hoverHelp()\" (mouseout)=\"outHelp()\">\r\n    ?\r\n    <span></span>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_help\" *ngIf=\"showHelp\" data-aos=\"fade-left\">\r\n  <div class=\"title_help\">\r\n    Bannir\r\n  </div>\r\n  <div class=\"detail_help\">\r\n    Faites un \"Click droit\" sur le client\r\n  </div>\r\n</div>\r\n\r\n","<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    LISTE DES MODELES <span>({{count}} Modèles)</span>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-2 col-4\">\r\n          <div class=\"filter_client\">\r\n            <!-- <p class=\"txt\">Afficher par :</p> -->\r\n            <select name=\"filter\" id=\"filter\" (change)=\"select($event)\">\r\n              <option value=\"tous\">Tous</option>\r\n              <option value=\"Valide\">Actif</option>\r\n              <option value=\"Supprime\">Supprimé</option>\r\n              <option value=\"Desactive\">Desactivé</option>\r\n              <option value=\"En attente\">Inactif</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-8\">\r\n          <div class=\"filter_client\">\r\n            <p class=\"txt\">Status :</p>\r\n            <select name=\"filter\" id=\"filter\" (change)=\"selectStatus($event)\">\r\n              <option value=\"tous\">Tous</option>\r\n              <option value=\"En ligne\">En ligne</option>\r\n              <option value=\"Hors ligne\">Hors ligne</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" *ngIf=\"page > 0\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" *ngIf=\"page < topPage\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-lg-2\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        LISTE DE TOUS LES MODELES\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Adresse email</td>\r\n          <td>Inscrit le</td>\r\n          <td>Etat</td>\r\n          <td>Status</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.email}}</td>\r\n          <td>{{client.createdAt}}</td>\r\n          <td>\r\n            <span *ngIf=\"client.state === 'En attente'\">En attente</span>\r\n            <span *ngIf=\"client.state === 'Supprime'\">Supprimé</span>\r\n            <span *ngIf=\"client.state === 'Desactive'\">Desactivé</span>\r\n            <span *ngIf=\"client.state === 'Refuse'\">Refusé</span>\r\n            <span *ngIf=\"client.state === 'Valide'\">Validé</span>\r\n            <span *ngIf=\"client.state === 'Suppression'\">Validé</span>\r\n            <span *ngIf=\"client.state === 'Desactivation'\">Validé</span>\r\n          </td>\r\n          <td>\r\n            <span *ngIf=\"client.status === 'Hors ligne'\">Hors ligne</span>\r\n            <span *ngIf=\"client.status !== 'Hors ligne'\">En ligne</span>\r\n          </td>\r\n          <td class=\"list_action\">\r\n            <img [src]=\"bloqued\" alt=\"\" (click)=\"blockClient(client.id)\">\r\n            <img [src]=\"deactivate\" alt=\"\" (click)=\"deactivateClient(client.id)\" *ngIf=\"client.state !== 'Desactive'\">\r\n            <img [src]=\"activate\" alt=\"\" (click)=\"activateClient(client.id)\" *ngIf=\"client.state === 'Desactive'\">\r\n            <img [src]=\"delete\" alt=\"\" (click)=\"deleteClient(client.id)\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/services/admin/admin.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-list-models-admin',\r\n  templateUrl: './list-models-admin.component.html',\r\n  styleUrls: ['./list-models-admin.component.scss']\r\n})\r\nexport class ListModelsAdminComponent implements OnInit {\r\n  icon = './../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n  selectedStatus: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countClient()\r\n    this.listClients()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countClient() {\r\n    this.adminService.countModels(this.selected).subscribe(\r\n      (data) => {\r\n        this.count = data.count\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n  listClients() {\r\n    this.adminService.getModels(this.selected, this.range, this.page, this.filter).subscribe(\r\n      (data) => {\r\n        // console.log(data)\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n          client.status = client.profile ? client.profile.status : 'Hors ligne'\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  select(event) {\r\n    const value = event.target.value;\r\n    this.selected = value\r\n    this.listClients()\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listClients()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listClients()\r\n  }\r\n\r\n  nextPage() {\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listClients()\r\n  }\r\n\r\n  prevPage() {\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listClients()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listClients()\r\n  }\r\n\r\n  deleteClient(idClient: number) {\r\n    this.adminService.deleteModel(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  blockClient(idClient: number) {\r\n    const data = {\r\n      idClient,\r\n      reverse: false\r\n    }\r\n    this.adminService.blockModel(data).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  deactivateClient(idClient: number) {\r\n    this.adminService.deactivateModel(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  activateClient(idClient: number) {\r\n    this.adminService.activateModel(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  selectStatus(event) {\r\n    const value = event.target.value;\r\n    this.selectedStatus = value\r\n    if (value === 'tous') {\r\n      this.listClients()\r\n    } else {\r\n      this.listStatusClients()\r\n    }\r\n  }\r\n\r\n  listStatusClients() {\r\n    this.adminService.getStatusModel(this.selectedStatus, this.filter).subscribe(\r\n      (data: any) => {\r\n        // console.log(data)\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n          client.status = client.profile ? client.profile.status : 'Hors ligne'\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { isPlatformBrowser } from '@angular/common';\r\nimport { Component, ElementRef, Inject, OnInit, PLATFORM_ID, ViewChild } from '@angular/core';\r\nimport * as $ from 'jquery';\r\n// import AgoraRTC from 'agora-rtc-sdk-ng';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n@Component({\r\n  selector: 'app-try-webcam',\r\n  templateUrl: './try-webcam.component.html',\r\n  styleUrls: ['./try-webcam.component.scss']\r\n})\r\nexport class TryWebcamComponent implements OnInit {\r\n  loading: boolean = false;\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n  lazyStream: MediaStream;\r\n  img = \"assets/logos/dark-light.jpg\";\r\n\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n\r\n  @ViewChild('map') map;\r\n  private isVisible: boolean = false;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    $(\"#video_live_model\").autoplay = true;\r\n    // const client = AgoraRTC.createClient({ codec: 'h264', mode: 'rtc' });\r\n    // client.init('7ccc3498185144be9e844555f6da1a85');\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.onStop();\r\n  }\r\n\r\n  ngAfterContentChecked(): void\r\n  {\r\n    setTimeout(\r\n      () => {\r\n        if (this.isVisible == false && this.map.nativeElement.offsetParent != null)\r\n        {\r\n            this.onStart();\r\n            this.isVisible = true;\r\n            initSettingVideoModel();\r\n            // var localStream = AgoraRTC.createStream({ audio: true, video: true })\r\n            // localStream.init();\r\n            // localStream.play(elementID);\r\n            $('.video_live_model').trigger('play');\r\n        }\r\n        else if (this.isVisible == true && this.map.nativeElement.offsetParent == null)\r\n        {\r\n            this.onStop();\r\n            this.isVisible = false;\r\n        }\r\n      }, 1000\r\n    )\r\n  }\r\n\r\n  onStart(){\r\n    this.loading = true;\r\n    if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n      navigator.mediaDevices.getUserMedia({video: true, audio: false}).then((ms: MediaStream) => {\r\n        this.lazyStream = ms;\r\n        this.video.nativeElement.srcObject = this.lazyStream;\r\n        // this.lazyStream.getVideoTracks()[0].onended = function(event) {\r\n        //   console.log('inactive cam');\r\n        // }\r\n        this.loading = false;\r\n        // this.lazyStream.getVideoTracks().forEach(\r\n        //   (track) => {\r\n        //     this.showVideo = false;\r\n        //     track.enabled = false;\r\n        //     this.notificationService.infoMsg('Votre caméra est désactivé par defaut');\r\n        //   }\r\n        // );\r\n      });\r\n    }\r\n  }\r\n\r\n  onStop() {\r\n    if (this.lazyStream) {\r\n      this.lazyStream.getTracks().forEach(\r\n        (track) => {\r\n          track.stop();\r\n          // track.dispatchEvent(new Event(\"ended\"));\r\n        }\r\n      );\r\n      this.lazyStream = null;\r\n    }\r\n\r\n    // if (this.video && this.video.nativeElement.srcObject) {\r\n    //   this.video.nativeElement.pause();\r\n    //   if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n    //     (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n    //   }\r\n    //   this.video.nativeElement.srcObject = null;\r\n    // }\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"contain_webcam\">\r\n  <div id=\"video-controls\" class=\"controls\"></div>\r\n  <div id=\"test-cam\"></div>\r\n  <div class=\"list_choice\">\r\n    <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n      <img src=\"./../../../../../assets/icons/video-camera-white.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n      <img src=\"./../../../../../assets/icons/no-video-white.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n    </button>\r\n\r\n    <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n      <img src=\"./../../../../../assets/icons/volume-white.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n      <img src=\"./../../../../../assets/icons/mute-white.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n    </button>\r\n\r\n    <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n      <img src=\"./../../../../../assets/icons/full-size-white.svg\" alt=\"\">\r\n    </button>\r\n  </div>\r\n\r\n  <div class=\"contain_cam\" #map>\r\n    <div class=\"loader\" *ngIf=\"loading\"></div>\r\n    <figure id=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n      <video [poster]=\"img\" controls muted=\"muted\" autoplay id=\"video_live_model\" #video_live_model></video>\r\n    </figure>\r\n  </div>\r\n</div>\r\n","<div class=\"contain_header\" [ngClass]=\"{'unclickable': !isClickable}\">\r\n\r\n  <div class=\"contain_header_connected\" *ngIf=\"isConnected && isModel\">\r\n    <div class=\"contain_logo\">\r\n      <h1 class=\"text\">\r\n        BETWEEN<span>US</span> &nbsp;LIVE\r\n      </h1>\r\n    </div>\r\n    <div class=\"contain_menu\">\r\n      <app-connected-model [actif]=\"isActif\"></app-connected-model>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_header_disconnected\" *ngIf=\"!isConnected\">\r\n    <div class=\"contain_logo\">\r\n      <h1 class=\"text\">\r\n        BETWEEN<span>US</span> &nbsp;LIVE\r\n      </h1>\r\n    </div>\r\n    <div class=\"contain_menu\">\r\n      <app-disconnected [actif]=\"isActif\"></app-disconnected>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_header_connected\" *ngIf=\"isConnected && !isModel\">\r\n    <div class=\"contain_logo\">\r\n      <h1 class=\"text\">\r\n        BETWEEN<span>US</span> &nbsp;LIVE\r\n      </h1>\r\n    </div>\r\n    <div class=\"contain_menu\">\r\n      <app-connected [actif]=\"isActif\"></app-connected>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { HeaderService } from 'src/app/services/header/header.service';\r\nimport { AuthService } from '../../services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n  @Input()\r\n  connected: string;\r\n  isConnected: boolean = false;\r\n\r\n  @Input()\r\n  clickable: string;\r\n  isClickable: boolean = true;\r\n\r\n  @Input()\r\n  model: string;\r\n  isModel: boolean = false;\r\n  isVisible: boolean = false;\r\n\r\n  @Input()\r\n  actif: string;\r\n  isActif: number = 0;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.connected) this.isConnected = (this.connected == \"true\");\r\n    if (this.clickable) this.isClickable = (this.clickable == \"true\");\r\n    if (this.model) this.isModel = (this.model == \"true\");\r\n    if (this.actif) this.isActif = parseInt(this.actif);\r\n  }\r\n\r\n\r\n  // ngAfterContentChecked(): void\r\n  // {\r\n  //     if (this.isVisible == false)\r\n  //     {\r\n  //       this.isVisible = true;\r\n  //       if (this.clickable) this.clickable = this.isClickable;\r\n  //     }\r\n  //     else if (this.isVisible == true)\r\n  //     {\r\n  //         this.isVisible = false;\r\n  //     }\r\n  // }\r\n\r\n}\r\n","<div class=\"contain_pass\">\r\n  <h2 mat-dialog-title>Changer le mot de passe</h2>\r\n\r\n  <mat-dialog-content>\r\n    <form action=\"\" class=\"form_password\" autocomplete=\"off\" [formGroup]=\"passwordForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"oldPassword\">Ancien mot de passe</label>\r\n        <input type=\"password\" id=\"oldPassword\" class=\"input form-control\" formControlName=\"oldPassword\">\r\n        <div *ngIf=\"submitted && form.oldPassword.errors\" class=\"error\">\r\n          <small *ngIf=\"form.oldPassword.errors.required\" class=\"form-text error-text\">Mot de passe requis</small>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"newPassword\">Nouveau mot de passe</label>\r\n        <input type=\"password\" id=\"newPassword\" class=\"input form-control\" formControlName=\"newPassword\">\r\n        <div *ngIf=\"submitted && form.newPassword.errors\" class=\"error\">\r\n          <small *ngIf=\"form.newPassword.errors.required\" class=\"form-text error-text\">\r\n            Mot de passe requis\r\n          </small>\r\n          <small *ngIf=\"form.newPassword.errors.pattern\" class=\"form-text error-text\">\r\n            Invalide : majuscule, minuscule et un chiffre\r\n          </small>\r\n        </div>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"confirmPassword\">Confirmer mot de passe</label>\r\n        <input type=\"password\" id=\"confirmPassword\" class=\"input form-control\" formControlName=\"confirmPassword\">\r\n        <div *ngIf=\"submitted && form.confirmPassword.errors\" class=\"error\">\r\n          <small *ngIf=\"form.confirmPassword.errors.required\" class=\"form-text error-text \">\r\n            Confirmation mot de passe requis\r\n          </small>\r\n          <small *ngIf=\"form.confirmPassword.errors.mustMatch\" class=\"form-text error-text \">\r\n            Mot de passe ne correspond pas\r\n          </small>\r\n        </div>\r\n        <div class=\"error\" *ngIf=\"errorPassword\">\r\n          <small class=\"form-text error-text \">\r\n            Mot de passe incorrect\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Annuler</button>\r\n    <button class=\"btn_valid\" (click)=\"validate($event)\">Valider</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n","import { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from '../../../../services/client/client.service';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-password',\r\n  templateUrl: './password.component.html',\r\n  styleUrls: ['./password.component.scss']\r\n})\r\nexport class PasswordComponent implements OnInit {\r\n  passwordForm: FormGroup;\r\n  submitted: boolean = false;\r\n  errorPassword = null;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService,\r\n    public dialogRef: MatDialogRef<PasswordComponent>\r\n    ) {\r\n    this.passwordForm = this.formBuilder.group({\r\n      oldPassword : ['', Validators.required],\r\n      // newPassword : ['',[Validators.required, Validators.pattern(/^(?=\\D*\\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,}$/)]],\r\n      newPassword : ['', Validators.required],\r\n      confirmPassword: ['',Validators.required],\r\n    },{\r\n      validators : this.mustMatch('newPassword','confirmPassword'),\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get form() {return this.passwordForm.controls}\r\n\r\n  mustMatch = (controlName : string, matchControlName : string) => {\r\n    return (formGroup: FormGroup) => {\r\n      const control = formGroup.controls[controlName];\r\n      const matchingControl = formGroup.controls[matchControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch) {\r\n          return;\r\n      }\r\n      if (control.value !== matchingControl.value) {\r\n          matchingControl.setErrors({ mustMatch: true });\r\n      } else {\r\n          matchingControl.setErrors(null);\r\n      }\r\n  }\r\n  }\r\n\r\n  async validate(event): Promise<void> {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n    this.errorPassword = null;\r\n    if(this.passwordForm.invalid){\r\n      return;\r\n    }\r\n    let passwords = this.passwordForm.value;\r\n    this.clientService.changePassword(passwords.oldPassword, passwords.newPassword).subscribe(\r\n      (data: any) => {\r\n        console.log(\"change Password \", data);\r\n        if (data.error) {\r\n          this.errorPassword = data.message;\r\n        } else {\r\n          this.notificationService.success(\"Mot de passe\", \"Modifié\");\r\n          this.dialogRef.close(\"success\");\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<app-header connected=\"true\" actif=\"2\"></app-header>\r\n\r\n\r\n<div class=\"main_dashboard\">\r\n<div class=\"profil_header\">\r\n  Rechargez mes crédits\r\n</div>\r\n<div class=\"contain_credit\">\r\n  <div class=\"info_credit\">\r\n    <div class=\"block_credit\">\r\n      <div class=\"content_parameter\">\r\n        <img [src]=\"coinImg\" alt=\"\" class=\"coinImg\">\r\n        <h3>\r\n          Vous avez actuellement\r\n        </h3>\r\n        <div>\r\n          {{info.credit}} crédits\r\n          <!-- <span *ngIf=\"info.credit > 2\">s</span> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"recharge_credit\">\r\n      <div class=\"title_credit\">\r\n        Abonnement\r\n      </div>\r\n      <div class=\"input_credit\">\r\n        <input type=\"text\" placeholder=\"Entrer ici votre code promo\">\r\n      </div>\r\n    </div> -->\r\n\r\n    <div class=\"contain_subscribe\">\r\n      <div class=\"main_subscribe\">\r\n        <div class=\"title_subscribe\">\r\n          ABONNEMENT VIP\r\n        </div>\r\n        <div class=\"description_subscribe\">\r\n          <p *ngIf=\"!subscription.subscribed\">\r\n            Pour seulement 5€, payé votre abonnement et gagner plus de point VIP /\r\n            b-coins en achetant des Packs.\r\n          </p>\r\n          <p *ngIf=\"subscription.subscribed && !subscription.expired\" style=\"margin-bottom: 0px; padding-bottom: 0px\">\r\n            Vous êtes abonné, il vous reste {{subscription.rest}} jours de validité.\r\n          </p>\r\n\r\n          <p *ngIf=\"subscription.subscribed && subscription.expired\" style=\"margin-bottom: 0px; padding-bottom: 0px\">\r\n            Votre abonnement est expiré.\r\n          </p>\r\n\r\n        </div>\r\n        <div *ngIf=\"!subscription.subscribed\">\r\n          <button class=\"btn button_subscribe\" (click)=\"paySubscription()\">\r\n            Abonnez-vous\r\n          </button>\r\n        </div>\r\n        <div *ngIf=\"subscription.subscribed && !subscription.expired\">\r\n          <button class=\"btn_subscribed\">\r\n            Abonné !\r\n          </button>\r\n        </div>\r\n        <div *ngIf=\"subscription.subscribed && subscription.expired\">\r\n          <button class=\"btn button_subscribe\" (click)=\"paySubscription()\">\r\n            Réabonnez-vous\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"contain_pack\">\r\n    <div class=\"choice_pack\">\r\n      <select id=\"select_choice\" (change)=\"select($event)\">\r\n        <option value=\"bienvenue\">PACKS DE BIENVENUE</option>\r\n        <option value=\"bronze\">PACKS BRONZE</option>\r\n        <option value=\"argent\">PACKS ARGENT</option>\r\n        <option value=\"or\">PACKS OR</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"container-fluid contain_pack\">\r\n\r\n      <div class=\"pack_bienvenue\" *ngIf=\"currentPack === 'bienvenue'\">\r\n        <div class=\"row\" *ngFor=\"let item of packBienvenue\">\r\n          <div class=\"col-lg-4 offset-lg-4 column\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n                <p class=\"b_coins_value\" *ngIf=\"getValueVIP(item.credit) > 0\">\r\n                  {{getValueVIP(item.credit)}} b-coins\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}€\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\"\r\n                (click)=\"buyPack(item.montant, item.credit, 'bienvenue')\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} €\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_or\" *ngIf=\"currentPack === 'or'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3 column\" *ngFor=\"let item of packOr\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n                <p class=\"b_coins_value\">\r\n                  {{getValueVIP(item.credit)}} b-coins\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}€\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\"\r\n                (click)=\"buyPack(item.montant, item.credit, 'or')\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} €\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_argent\" *ngIf=\"currentPack === 'argent'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3 column\" *ngFor=\"let item of packArgent\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n                <p class=\"b_coins_value\">\r\n                  {{getValueVIP(item.credit)}} b-coins\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}€\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\"\r\n                (click)=\"buyPack(item.montant, item.credit, 'argent')\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} €\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_bronze\" *ngIf=\"currentPack === 'bronze'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-4 column\" *ngFor=\"let item of packBronze\">\r\n            <div class=\"pack\" [ngClass]=\"{'bonAffaire': item.affaire}\">\r\n              <div class=\"txt_bon_affaire\" *ngIf=\"item.affaire\">\r\n                Meilleures ventes\r\n              </div>\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n                <p class=\"b_coins_value\">\r\n                  {{getValueVIP(item.credit)}} b-coins\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}€\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\"\r\n                (click)=\"buyPack(item.montant, item.credit, 'bronze')\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} €\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n</div>\r\n<br><br>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { HeaderService } from '../../../services/header/header.service';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { Pack } from 'src/app/interfaces/pack-credit.interface';\r\nimport { PaiementService } from '../../../services/paiement/paiement.service';\r\nimport { isBoolean } from 'util';\r\nimport { CentralPayComponent } from '../../../modals/central-pay/central-pay.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport * as creditVIP from './../../../services/credit/creditVIP.json';\r\nimport { SubscribeService } from '../../../services/subscribe/subscribe.service';\r\n\r\n@Component({\r\n  selector: 'app-buy-credit',\r\n  templateUrl: './buy-credit.component.html',\r\n  styleUrls: ['./buy-credit.component.scss']\r\n})\r\nexport class BuyCreditComponent implements OnInit {\r\n  solde = 0;\r\n  coinImg = \"assets/icons/coin-stack.svg\";\r\n  loading: boolean = false;\r\n  currentPack: string = 'bienvenue';\r\n\r\n  info = {\r\n    id: 0,\r\n    pseudo: '',\r\n    credit: 0,\r\n    creditId: null,\r\n    promo: null\r\n  }\r\n\r\n  packBienvenue: Pack[] = this.creditService.packBienvenue;\r\n\r\n  packBronze: Pack[] = this.creditService.packBronze;\r\n\r\n  packArgent: Pack[] = this.creditService.packArgent;\r\n\r\n  packOr: Pack[] = this.creditService.packOr;\r\n\r\n  subscription = {\r\n    subscribed: false,\r\n    expired: false,\r\n    subscribe: {},\r\n    rest: 0\r\n  }\r\n\r\n  constructor(\r\n    private clientService: ClientService,\r\n    private store: LocalStorageService,\r\n    private creditService: CreditService,\r\n    private notificationService: NotificationService,\r\n    private paiementService: PaiementService,\r\n    private dialog: MatDialog,\r\n    private subscribeService: SubscribeService\r\n  ) {\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.getMyInfo();\r\n  }\r\n\r\n  // Get client infos\r\n  async getMyInfo() {\r\n    this.isSubscribed();\r\n    const id = parseInt(this.store.get('identification//'));\r\n    await this.clientService.getMyInfos().subscribe(\r\n      (data) => {\r\n        // console.log('My INFO ', data);\r\n        this.info.id = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.info.credit = data.credit ? data.credit.credit : 0;\r\n        this.info.creditId = data.credit ? data.credit.id : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  select(event) {\r\n    // console.log(event.target.value);\r\n    const value = event.target.value;\r\n    this.currentPack = value;\r\n  }\r\n\r\n  buyPack(montant: number, credit: number, designation: string) {\r\n    if (this.info.creditId === null) return false;\r\n\r\n    if (designation === 'bienvenue') {\r\n      this.paiementService.verifyPack().subscribe(\r\n        (data: any) => {\r\n          if (data.error) {\r\n            this.notificationService.infoMsg(data.message);\r\n          } else {\r\n            this.openCentralPayModal(montant, credit, designation);\r\n          }\r\n        }, (error) => {\r\n          console.log(error)\r\n        }\r\n      )\r\n    } else {\r\n      this.openCentralPayModal(montant, credit, designation);\r\n    }\r\n  }\r\n\r\n  openCentralPayModal(montant: number, credit: number, designation: string) {\r\n      this.loading = true;\r\n      this.paiementService.openCentralPay(montant*100).subscribe(\r\n      (data: any) => {\r\n        this.loading = false;\r\n        // console.log('Test ', data);\r\n        if (data && data.breakdowns[0] && data.breakdowns[0].endpoint) {\r\n          const url = data.breakdowns[0].endpoint;\r\n          const paymentRequestId = data.paymentRequestId;\r\n          // console.log('Endpoint ', url);\r\n          const dialogRef = this.dialog.open(CentralPayComponent, {\r\n            width: '90vh',\r\n            data: {\r\n              montant,\r\n              credit,\r\n              designation,\r\n              creditId: this.info.creditId,\r\n              id: this.info.id,\r\n              url,\r\n              paymentRequestId\r\n            }\r\n          });\r\n\r\n          dialogRef.afterClosed().subscribe(result => {\r\n            if (isBoolean(result)) {\r\n\r\n            } else {\r\n              if (result === 'good') {\r\n                this.getMyInfo().then(\r\n                  (data) => {\r\n                    this.paiementService.buyPack(credit).subscribe(\r\n                      (data) => {\r\n                        this.notificationService.success(`Pack ${this.currentPack}`,\r\n                        `Vous avez obtenu ${credit} crédits de plus.`);\r\n                      }, (error) => {\r\n                        console.log(error)\r\n                      }\r\n                    )\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n      }, (error) => {\r\n        this.loading = false;\r\n        console.log(error);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  getValueVIP(credit: number) {\r\n    let point  = 0;\r\n    creditVIP.points.forEach(\r\n      (value) => {\r\n        if (value.credit === credit) {\r\n          if (this.subscription.subscribed && !this.subscription.expired) point = value.subscribe;\r\n          else point = value.unsubscribe;\r\n        }\r\n      }\r\n    );\r\n    return point;\r\n  }\r\n\r\n  isSubscribed() {\r\n    this.subscribeService.verify().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.subscription = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  paySubscription() {\r\n    let futureDate = new Date();\r\n    futureDate.setDate(futureDate.getDate() + 30);\r\n    // console.log(futureDate);\r\n    const price = 5;\r\n    this.loading = true;\r\n    this.paiementService.openCentralPay(price*100).subscribe(\r\n      (data: any) => {\r\n        this.loading = false;\r\n        // console.log('Test ', data);\r\n        if (data && data.breakdowns[0] && data.breakdowns[0].endpoint) {\r\n          const url = data.breakdowns[0].endpoint;\r\n          const paymentRequestId = data.paymentRequestId;\r\n          \r\n          const dialogRef = this.dialog.open(CentralPayComponent, {\r\n            width: '90vh',\r\n            data: {\r\n              montant: price,\r\n              credit: price,\r\n              designation: 'abonnement',\r\n              creditId: this.info.creditId,\r\n              id: this.info.id,\r\n              url,\r\n              paymentRequestId\r\n            }\r\n          });\r\n\r\n          dialogRef.afterClosed().subscribe(result => {\r\n            if (isBoolean(result)) {\r\n\r\n            } else {\r\n              if (result === 'good') {\r\n                this.subscribeService.new(price, futureDate).subscribe(\r\n                  (data) => {\r\n                    console.log(data);\r\n                    this.isSubscribed();\r\n                    this.notificationService.success('Abonnement', 'Félicitation, vous êtes abonné');\r\n                  }, (error) => {\r\n                    console.log(error);\r\n                  }\r\n                );\r\n              }\r\n            }\r\n          });\r\n          \r\n\r\n        \r\n        }\r\n      }, (error) => {\r\n        this.loading = false;\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  dayBetweenDate() {\r\n    let startDate: string = \"2021-04-01\";\r\n    let date1: Date = new Date();\r\n    let date2: Date = new Date(startDate);\r\n    let timeMilli: number = date1.getTime() - date2.getTime();\r\n    let daysBetweensDates: number = Math.ceil(timeMilli / (1000 * 60 * 60 * 24));\r\n    return daysBetweensDates;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-dashboard-admin',\r\n  templateUrl: './dashboard-admin.component.html',\r\n  styleUrls: ['./dashboard-admin.component.scss']\r\n})\r\nexport class DashboardAdminComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"main_dashboard\">\r\n  <app-leftbar-admin></app-leftbar-admin>\r\n\r\n  <div class=\"right_bar\">\r\n    <app-topbar-admin></app-topbar-admin>\r\n    <div class=\"spacer_topbar\"></div>\r\n    <router-outlet></router-outlet>\r\n  </div>\r\n</div>\r\n","<div class=\"main_info\">\r\n  <div class=\"title_info\">\r\n    CHANGER MOT DE PASSE\r\n  </div>\r\n  <div class=\"line\"></div>\r\n  <div class=\"container-fluid contain_info\">\r\n    <form action=\"\" class=\"form_password\" autocomplete=\"off\" [formGroup]=\"changeForm\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <input type=\"password\" class=\"input_field\" placeholder=\"Mot de passe actuel\"\r\n        formControlName=\"oldPassword\">\r\n        <div *ngIf=\"submitted && form.oldPassword.errors\" class=\"error\">\r\n          <small *ngIf=\"form.oldPassword.errors.required\" class=\"form-text error-text\">Mot de passe requis</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <input type=\"password\" class=\"input_field\" placeholder=\"Nouveau mot de passe\"\r\n          formControlName=\"newPassword\">\r\n          <div *ngIf=\"submitted && form.newPassword.errors\" class=\"error\">\r\n            <small *ngIf=\"form.newPassword.errors.required\" class=\"form-text error-text\">\r\n              Mot de passe requis\r\n            </small>\r\n            <small *ngIf=\"form.newPassword.errors.pattern\" class=\"form-text error-text\">\r\n              Invalide : majuscule, minuscule et un chiffre\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-lg-6\">\r\n        <div class=\"content_field\">\r\n          <input type=\"password\" class=\"input_field\" placeholder=\"Confirmer mot de passe\"\r\n          formControlName=\"confirmPassword\">\r\n          <div *ngIf=\"submitted && form.confirmPassword.errors\" class=\"error\">\r\n            <small *ngIf=\"form.confirmPassword.errors.required\" class=\"form-text error-text \">\r\n              Confirmation mot de passe requis\r\n            </small>\r\n            <small *ngIf=\"form.confirmPassword.errors.mustMatch\" class=\"form-text error-text \">\r\n              Mot de passe ne correspond pas\r\n            </small>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <p class=\"forgot_text\">\r\n          Mot de passe oublié ?\r\n        </p>\r\n      </div>\r\n    </div> -->\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12 contain_button\">\r\n        <button type=\"button\" class=\"btn_save_pwd lighter\" (click)=\"validate($event)\" type=\"submit\">\r\n          ENREGISTER\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </form>\r\n  </div>\r\n\r\n  </div>\r\n","import { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ProfilService } from '../../../../services/profil/profil.service';\r\nimport { NotificationService } from '../../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-password-modele',\r\n  templateUrl: './password-modele.component.html',\r\n  styleUrls: ['./password-modele.component.scss']\r\n})\r\nexport class PasswordModeleComponent implements OnInit {\r\n  changeForm: FormGroup;\r\n  submitted: boolean = false;\r\n\r\n  old: string = '';\r\n  new: string = '';\r\n  confirm: string = '';\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private profileService: ProfilService,\r\n    private notificationService: NotificationService\r\n    ) {\r\n    this.changeForm = this.formBuilder.group({\r\n      oldPassword : ['', Validators.required],\r\n      newPassword : ['', Validators.required],\r\n      confirmPassword: ['',Validators.required],\r\n    },{\r\n      validators : this.mustMatch('newPassword','confirmPassword'),\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get form() {return this.changeForm.controls}\r\n\r\n  mustMatch = (controlName : string, matchControlName : string) => {\r\n    return (formGroup: FormGroup) => {\r\n      const control = formGroup.controls[controlName];\r\n      const matchingControl = formGroup.controls[matchControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch) {\r\n          return;\r\n      }\r\n      if (control.value !== matchingControl.value) {\r\n          matchingControl.setErrors({ mustMatch: true });\r\n      } else {\r\n          matchingControl.setErrors(null);\r\n      }\r\n  }\r\n  }\r\n\r\n  async validate(event): Promise<void> {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n\r\n    if(this.changeForm.invalid){\r\n      return;\r\n    }\r\n    let passwords = this.changeForm.value;\r\n    this.profileService.changePassword(passwords).subscribe(\r\n      (data) => {\r\n        this.submitted = false;\r\n        console.log(data)\r\n        if (data.error)\r\n          this.notificationService.errorMsg(\"Mot de passe incorrect\")\r\n        else\r\n          this.notificationService.success(\"Mot de passe\", \"Modification avec succès\");\r\n        this.changeForm.reset();\r\n      }\r\n    )\r\n  }\r\n}\r\n","\r\n<app-infobar-admin title=\"Administration\" subTitle=\"Administration\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    PAYEMENT\r\n  </div>\r\n\r\n  <div class=\"form_paiement\">\r\n    <div class=\"title_paiement\">\r\n      formulaire de payement\r\n    </div>\r\n\r\n    <div class=\"form\">\r\n      <div class=\"form-group\">\r\n        <label for=\"list\">Sélectionner le modèle</label>\r\n        <select name=\"list\" id=\"list\" class=\"form-control\" (change)=\"select($event)\">\r\n          <option value=\"0\"></option>\r\n          <option [value]=\"i\" *ngFor=\"let item of list; let i=index\">{{item.pseudo}}</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Nom</label>\r\n        <input type=\"text\" class=\"form-control\" disabled [(ngModel)]=\"currentSelect.firstname\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Prénom</label>\r\n        <input type=\"text\" class=\"form-control\" disabled [(ngModel)]=\"currentSelect.lastname\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Pseudo</label>\r\n        <input type=\"text\" class=\"form-control\" disabled [(ngModel)]=\"currentSelect.pseudo\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"email\" disabled [(ngModel)]=\"currentSelect.email\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"solde\">Solde</label>\r\n        <input type=\"text\" class=\"form-control\" name=\"solde\" disabled [(ngModel)]=\"currentSelect.credit.credit\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"name\">Montant</label>\r\n        <input type=\"number\" class=\"form-control\" [(ngModel)]=\"creditSent\">\r\n      </div>\r\n\r\n      <div class=\"contain_error\">\r\n        <p class=\"error\" *ngIf=\"error\">\r\n          {{error}}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"contain_save\">\r\n      <button class=\"btn_save\" (click)=\"savePay()\">\r\n        ENREGISTRER\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { NotificationService } from '../../../../../../services/notification/notification.service';\r\nimport { Router } from '@angular/router';\r\n\r\ninterface model {\r\n  id: number,\r\n  pseudo: string,\r\n  firstname: string,\r\n  lastname: string,\r\n  email: string,\r\n  credit: any\r\n}\r\n\r\n@Component({\r\n  selector: 'app-paiement-admin',\r\n  templateUrl: './paiement-admin.component.html',\r\n  styleUrls: ['./paiement-admin.component.scss']\r\n})\r\nexport class PaiementAdminComponent implements OnInit {\r\n  currentSelect: model = {\r\n    id: 0,\r\n    pseudo: null,\r\n    firstname: null,\r\n    lastname: null,\r\n    email: null,\r\n    credit: {}\r\n  }\r\n\r\n  creditSent: number = 0\r\n\r\n  list: model[] = []\r\n\r\n  error: string  = null\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    private notificationService: NotificationService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getModelsActif()\r\n  }\r\n\r\n\r\n  select(event) {\r\n    const value = event.target.value;\r\n    let index = parseInt(value)\r\n    this.currentSelect = this.list[index]\r\n  }\r\n\r\n  getModelsActif() {\r\n    this.adminService.getModelsActif().subscribe(\r\n      (data: any) => {\r\n        console.log(data)\r\n        this.list = data\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  savePay() {\r\n    this.error = null\r\n\r\n    if (this.creditSent === 0 || this.creditSent < 0 || isNaN(parseInt(this.creditSent+''))) {\r\n      this.error = 'Montant invalide'\r\n      return false\r\n    }\r\n    if (this.currentSelect.id === 0) {\r\n      this.error = 'Veuillez sélectionner le modèle '\r\n      return false\r\n    }\r\n    if (this.creditSent > this.currentSelect.credit.credit ) {\r\n      this.error = 'Montant excédant le solde à payer'\r\n      return false\r\n    }\r\n    this.adminService.payModel(this.currentSelect.id, this.currentSelect.pseudo,\r\n      this.currentSelect.email, this.creditSent).subscribe(\r\n      (data: any) => {\r\n        console.log(data)\r\n        if (data.success) {\r\n          this.notificationService.info('Paiement', 'Paiement effectué')\r\n          this.router.navigate(['/admin/list-paiement'])\r\n        }\r\n        else if (data.error) {\r\n          this.notificationService.errorMsg(data.message)\r\n        }\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n","<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    LISTE DES DEMANDES <span>({{count}} Demandes)</span>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-2\">\r\n          <div class=\"filter_client\">\r\n            <!-- <p class=\"txt\">Afficher par :</p> -->\r\n            <select name=\"filter\" id=\"filter\" (change)=\"select($event)\">\r\n              <option value=\"tous\">Tous</option>\r\n              <option value=\"Suppression\">Suppression</option>\r\n              <option value=\"Desactivation\">Désactivation</option>\r\n              <option value=\"En attente\">Inscription</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" *ngIf=\"page > 0\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" *ngIf=\"page < topPage\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-lg-2\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        <span *ngIf=\"selected === 'tous'\">TOUTES LES DEMANDES</span>\r\n        <span *ngIf=\"selected === 'En attente'\">DEMANDE D' INSCRIPTION</span>\r\n        <span *ngIf=\"selected === 'Suppression'\">DEMANDE DE SUPPRESSION DE COMPTE</span>\r\n        <span *ngIf=\"selected === 'Desactivation'\">DEMANDE DE DESACTIVATION DE COMPTE</span>\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Email</td>\r\n          <td>Depuis le</td>\r\n          <td>Description</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.email}}</td>\r\n          <td>{{client.updatedAt}}</td>\r\n          <td>\r\n            <span *ngIf=\"client.state === 'En attente'\">Inscription</span>\r\n            <span *ngIf=\"client.state === 'Suppression'\">Suppression</span>\r\n            <span *ngIf=\"client.state === 'Desactivation'\">Désactivation</span>\r\n          </td>\r\n          <td class=\"list_action\">\r\n            <div *ngIf=\"client.state !== 'En attente'\" class=\"refuse\"(click)=\"accept(client.id, false)\">Refuser</div>\r\n            <div *ngIf=\"client.state !== 'En attente'\" class=\"bar\"></div>\r\n            <div *ngIf=\"client.state !== 'En attente'\" class=\"accept\" (click)=\"accept(client.id, true)\">Accepter</div>\r\n            <div *ngIf=\"client.state === 'En attente'\" class=\"detail\" (click)=\"detail(client.id)\">Voir détails</div>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/services/admin/admin.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-ask-models-admin',\r\n  templateUrl: './ask-models-admin.component.html',\r\n  styleUrls: ['./ask-models-admin.component.scss']\r\n})\r\nexport class AskModelsAdminComponent implements OnInit {\r\n  icon = './../../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countClient()\r\n    this.listClients()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countClient() {\r\n    this.adminService.countRequestsModel().subscribe(\r\n      (data: any) => {\r\n        this.count = data ? data : 0\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n  listClients() {\r\n    this.adminService.getRequestsModel(this.selected, this.range, this.page, this.filter).subscribe(\r\n      (data: any) => {\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.updatedAt = this.adminService.formatDate(client.updatedAt)\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  select(event) {\r\n    const value = event.target.value;\r\n    this.selected = value\r\n    this.listClients()\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listClients()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listClients()\r\n  }\r\n\r\n  nextPage() {\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listClients()\r\n  }\r\n\r\n  prevPage() {\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listClients()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listClients()\r\n  }\r\n\r\n  detail(idClient: number) {\r\n    this.router.navigate(['/admin/detail-model', {idClient}])\r\n  }\r\n\r\n  accept(idClient: number, accepted: boolean) {\r\n    this.adminService.acceptRequestModel(idClient, accepted).subscribe(\r\n      (data: any) => {\r\n        // console.log(data)\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket, ClientCam } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport * as $ from 'jquery';\r\nimport * as AOS from 'aos';\r\n\r\n// For Peer\r\nimport './../shim';\r\nimport Peer from \"peerjs\"\r\nimport { Subscription, Observable } from 'rxjs';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\ninterface Invitation {\r\n  clientId: number,\r\n  clientPseudo: string,\r\n  roomId: any,\r\n  special?: string\r\n}\r\n\r\ninterface Stream {\r\n  clientId: number,\r\n  stream: MediaStream,\r\n  peerId: any,\r\n  isAudio: boolean,\r\n  isVideo: boolean\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-live-private-model',\r\n  templateUrl: './live-private-model.component.html',\r\n  styleUrls: ['./live-private-model.component.scss' , './../../live/live.scss']\r\n})\r\nexport class LivePrivateModelComponent implements OnInit {\r\n  context: string = \"LIVE PRIVEE\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  showInfoRoom: boolean = true;\r\n\r\n  toggleDot: boolean = false;\r\n  isToggledTool: boolean = false;\r\n\r\n  info = {\r\n    bg : \"assets/logos/dark-light.jpg\",\r\n    message : '',\r\n    idRoom: 0,\r\n    pseudo: '',\r\n    chatColor:'#FB77FC',\r\n    modelId: 0,\r\n    actif: 0,\r\n    creditModel: 0,\r\n    idCreditModel: 0\r\n  }\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  clientId: number = null;\r\n\r\n  clients: ClientCam[] = [];\r\n\r\n  clientStream: Stream[] = [];\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  inviteVIPSub = new Subscription();\r\n  askModelStreamSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n\r\n  stat = {\r\n    id_show: 0,\r\n    type_show : null,\r\n    tarif_show: 0,\r\n    time_show: 0,\r\n    time_passed : this.timer.hour + ':' + this.timer.minute + ':' + this.timer.second,\r\n    hour_passed : null,\r\n    minute_passed : null,\r\n    second_passed : null,\r\n    actualCredit: this.info.creditModel,\r\n    winCredit: 0,\r\n    totalCredit: this.info.creditModel\r\n  }\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  loading: boolean = false;\r\n\r\n  listInvitation: Invitation[] = [];\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  roomId = null;\r\n\r\n  sound_notification: boolean;\r\n  sound_message: boolean;\r\n\r\n  // Salon libre\r\n  live_selected = \"...\";\r\n\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string;\r\n  private lazyStream: MediaStream;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private modelService: ModelService,\r\n    private chatService: ChatService,\r\n    private roomPrivateService: RoomPrivateService,\r\n    private roomVipService: RoomVipService,\r\n    private socketService: SocketService,\r\n    private profilService: ProfilService,\r\n    private popupService: PopupService,\r\n    private creditService: CreditService,\r\n    private timerService: TimerService,\r\n    private profileService: ProfilService) {\r\n      this.peer = new Peer();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    this.verifySound();\r\n    this.getInfo();\r\n    this.initLiveVideo();\r\n    $(document).ready(\r\n      function() {\r\n        initSettingVideoModel();\r\n      }\r\n    );\r\n    this.getLastSaloonFree();\r\n  }\r\n\r\n  toggleTool(value) {\r\n    // console.log('toggle ', value);\r\n    this.isToggledTool = value;\r\n  }\r\n\r\n  toggleShowInfoRoom() {\r\n    this.showInfoRoom = !this.showInfoRoom;\r\n  }\r\n\r\n  getLastSaloonFree() {\r\n    const lastTypeSaloon = this.store.get('live_selected');\r\n    if(lastTypeSaloon) {\r\n      this.live_selected = lastTypeSaloon;\r\n    } else {\r\n      this.live_selected = null;\r\n    }\r\n  }\r\n\r\n  verifySound() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data.setting);\r\n        this.sound_notification = data.setting.sound_notification === 1 ? true : false;\r\n        this.sound_message = data.setting.sound_message === 1 ? true : false;\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    clearInterval(this.timer.timer);\r\n    this.onStop();\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.inviteVIPSub.unsubscribe();\r\n    this.askModelStreamSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n  }\r\n\r\n  getInfo() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log('Get info ', data);\r\n        if (data.profile.status === 'En vip') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/live-vip']);\r\n        }\r\n        if (data.profile.status === 'En ligne') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/chat']);\r\n        }\r\n        this.info.bg = data.path_soft;\r\n        this.info.modelId = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.getInfoRoom();\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomPrivateService.getRoomModel(this.info.modelId).subscribe(\r\n      async (data) => {\r\n        // console.log('Model room ', data);\r\n        this.info.idRoom = data.idRoom;\r\n        this.roomId = data.idRoom+'P'\r\n        this.getCredit();\r\n        this.initSocket();\r\n      }\r\n    )\r\n  }\r\n\r\n  async getActifs() {\r\n    await this.roomPrivateService.getActif(this.info.idRoom).subscribe(\r\n      (data) => {\r\n        // console.log(\"Get les actifs \", data);\r\n        this.info.actif = data.clients.length;\r\n        this.clients = data.clients;\r\n      }\r\n    )\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data) => {\r\n        this.info.creditModel = data ? data.credit : 0;\r\n        this.info.idCreditModel = data ? data.id : 0;\r\n      }\r\n    );\r\n\r\n    // Launch the timer\r\n    this.initTimer();\r\n  }\r\n\r\n  initSocket() {\r\n    this.getMessages();\r\n\r\n    this.socketService.listen(`ask currentSaloon ${this.info.idRoom}P ${this.info.modelId}`).subscribe(\r\n      (data: any) => {\r\n        this.socketService.sendCurrentSaloon(this.info.idRoom, this.live_selected);\r\n      }\r\n    );\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.info.idRoom}P`).subscribe(\r\n      (data: {actif: number, id: number, pseudo: string, peerId: any}) => {\r\n        // console.log('joined ', data);\r\n        if (this.sound_notification) {\r\n          this.socketService.soundIncome();\r\n        }\r\n        this.getActifs();\r\n        this.callClient(data.id, data.peerId);\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.info.idRoom}P`).subscribe(\r\n      (data: {clientId: number}) => {\r\n        if (this.sound_notification) {\r\n          this.socketService.soundOutcome();\r\n        }\r\n        // console.log('leaved ', data);\r\n        this.getActifs();\r\n        this.removeStream(data.clientId);\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.info.idRoom}P`).subscribe(\r\n      (data: Chat) => {\r\n        // this.socketService.soundOutcome();\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.peerSub = this.socketService.listen(`ask peerId ${this.info.idRoom}P`).subscribe(\r\n      async (data: {peerId: any, room: string, clientId: number}) => {\r\n        console.log('Ask peer Id ', data);\r\n        if (!this.peerId) await this.getPeerId();\r\n        this.socketService.ansModelPeerId({\r\n          peerId: this.peerId, room: this.info.idRoom+'P', clientId: data.clientId\r\n        });\r\n      }\r\n    );\r\n\r\n    this.inviteVIPSub = this.socketService.listen(`invite model to vip ${this.info.idRoom}P ${this.info.modelId}`).subscribe(\r\n      (data: {roomId: any, clientId: number, clientPseudo: string, modelId: number, special?: string}) => {\r\n        console.log('Invitation to vip ', data)\r\n        this.addInvitationToVIP(data.clientId, data.clientPseudo, data.roomId, data.special);\r\n      }\r\n    );\r\n\r\n    this.askModelStreamSub = this.socketService.listen(`Ask current model stream ${this.info.idRoom}P ${this.info.modelId}`).subscribe(\r\n      (data: {roomId: any, clientId: number, modelId: number}) => {\r\n        console.log('Ask for stream')\r\n        if (!this.lazyStream) {\r\n          this.onStart()\r\n        }\r\n        this.answerModelStream(data.clientId)\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.info.idRoom}P`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n          if (data.clientId) {\r\n            console.log('Toggle audio from ', data.clientId);\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.info.idRoom}P`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.getActifs();\r\n  }\r\n\r\n  answerModelStream(clientId: number) {\r\n    const room = this.info.idRoom + 'P'\r\n    // console.log('Lazy stream ', this.lazyStream)\r\n    this.socketService.answerModelStream(room, clientId, this.info.modelId, this.lazyStream)\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.info.idRoom, 'private').subscribe(\r\n      (data) => {\r\n        // console.log('Messages ', data);\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.info.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.info.idRoom,\r\n      message: this.info.message,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'private',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.info.idRoom + 'P',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      message: this.info.message,\r\n      idRoom: this.info.idRoom,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'private',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.info.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  addInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    const data: Invitation = {\r\n      clientId, clientPseudo, roomId, special\r\n    }\r\n    let exist = false;\r\n    this.listInvitation.forEach(item => {\r\n      if (item.clientId === clientId) {\r\n        exist = true\r\n      }\r\n    })\r\n    if (!exist) this.listInvitation.push(data)\r\n    // console.log(data)\r\n  }\r\n\r\n  closeInvitation(clientId: number, clientPseudo, roomId) {\r\n    const index = this.listInvitation.indexOf({clientId, clientPseudo, roomId});\r\n    this.listInvitation.splice(index, 1);\r\n  }\r\n\r\n  acceptInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    this.closeInvitation(clientId, clientPseudo, roomId);\r\n    this.liveVIP(clientId, roomId, special);\r\n  }\r\n\r\n  denyInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    this.socketService.responseNegativeInvitationModelToVIP(roomId, clientId, this.info.modelId, this.info.pseudo, special)\r\n    this.closeInvitation(clientId, clientPseudo, roomId)\r\n  }\r\n\r\n  async liveVIP(clientId, roomId, special?: string) {\r\n      this.loading = true;\r\n      this.leaved = true;\r\n      this.clearTimer();\r\n      (await this.leaveTimer()).subscribe(\r\n        (data) => {\r\n          this.timer.reinit = true;\r\n          this.roomVipService.createRoom(clientId).subscribe(\r\n            (data) => {\r\n              this.store.set(\"vipRoomId\", data.room);\r\n\r\n              const msg = {\r\n                room: this.info.idRoom + 'P',\r\n                role: 'model',\r\n                clientId: clientId,\r\n                message: 'Let\\'s go to VIP',\r\n                roomVIP: data.room + 'V'\r\n              }\r\n\r\n              this.askLeave().then(\r\n                (data) => {\r\n                  this.socketService.emit('Invitation to VIP', msg).then(\r\n                    (data) => {\r\n                      this.socketService.responsePositiveInvitationModelToVIP(roomId, clientId, this.info.modelId, this.info.pseudo, special)\r\n                      // this.router.navigate(['/modele/live-vip', {clientId: this.clientId}]);\r\n                      this.loading = false;\r\n                      if (!special) {\r\n                        this.router.navigate(['/modele/live-vip']);\r\n                      } else if(special && special === 'live tips') {\r\n                        this.router.navigate(['/modele/live-tips']);\r\n                      } else if(special && special === 'live free') {\r\n                        this.router.navigate(['/modele/live-choice-us']);\r\n                      }\r\n                    }\r\n                  );\r\n                }\r\n              )\r\n            }\r\n          )\r\n      }, (error) => {\r\n        this.loading = false;\r\n      })\r\n  }\r\n\r\n  async askLeave() {\r\n    const data = {\r\n      room: this.info.idRoom + 'P',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      pseudo: this.info.pseudo,\r\n      message: 'I pass to live VIP'\r\n    }\r\n    return await this.socketService.emit('Pass to VIP', data);\r\n  }\r\n\r\n  async liveOut() {\r\n    this.loading = true;\r\n    // const room = this.store.get('privateRoomId');\r\n    this.onStop();\r\n    this.leaved = true;\r\n    await (await this.leaveTimer()).subscribe(\r\n      (data) => {\r\n        this.timer.reinit = true;\r\n        this.clearTimer(); // set to zero\r\n        this.socketService.leavePrivate(this.info.idRoom, 'model', this.info.modelId);\r\n        this.roomPrivateService.leaveRoom();\r\n        this.profilService.updateStatus(this.info.modelId, 'En ligne').subscribe(\r\n          (data) => {\r\n            this.loading = false;\r\n            window.location.href = '/modele/chat';\r\n            // this.router.navigate(['/modele/chat']);\r\n            // setTimeout(\r\n            //   () => {\r\n            //     window.location.reload();\r\n            //   }, 200\r\n            // );\r\n          }\r\n        )\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  chooseClient(id: number) {\r\n    this.clientId = id;\r\n    // console.log('Selected client ', this.clientId);\r\n  }\r\n\r\n  // Timer\r\n  async initTimer() {\r\n      this.timerService.beginTimerModel(this.info.modelId, TypeTimer.PRIVATE).subscribe(\r\n        async (data) => {\r\n          // console.log('Timer ', data);\r\n          const created: Date = data.createdAt;\r\n          const updated: Date = data.updatedAt;\r\n          this.timer.id = data.id;\r\n          // console.log(created.toString(), \" to \", updated.toString());\r\n          const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n          this.timer.hour = hour;\r\n          this.timer.minute = minute;\r\n          this.timer.second = second;\r\n          // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n\r\n          this.getCostShow();\r\n        }\r\n      )\r\n  }\r\n\r\n  async getCostShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.PRIVATE).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.stat.tarif_show = data.credit? data.credit : 0;\r\n        this.stat.time_show = data.second ? data.second : 0;\r\n        this.stat.type_show = (data.type + '').toString().toUpperCase();\r\n        this.getCostVIPShow()\r\n        this.beginCountCredit(this.stat.time_show);\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostVIPShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.statVIP.tarif_show = data.credit? data.credit : 0;\r\n        this.statVIP.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  beginCountCredit(nbSecond: number) {\r\n    const delay = nbSecond * 1000;\r\n    this.timer.timer = setInterval(\r\n      () => {\r\n        if (this.info.actif > 0) {\r\n          this.creditService.getCredit().subscribe(\r\n            (data) => {\r\n              this.info.creditModel = data ? data.credit : 0;\r\n            }\r\n          );\r\n        }\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.PRIVATE,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n    // WEB RTC - LIVE VIDEO\r\n    initLiveVideo() {\r\n      this.onStart();\r\n      this.getPeerId();\r\n    }\r\n\r\n    onStart(){\r\n      if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n        navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n          // const _video = this.video.nativeElement;\r\n          // _video.srcObject = ms;\r\n          // _video.play();\r\n          this.lazyStream = ms;\r\n          this.video.nativeElement.srcObject = this.lazyStream;\r\n          $('#video_live_model').prop('volume', 0)\r\n        });\r\n      }\r\n    }\r\n\r\n    onStop() {\r\n      if (this.video && this.video.nativeElement.srcObject) {\r\n        this.video.nativeElement.pause();\r\n        if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n          (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n        }\r\n        this.video.nativeElement.srcObject = null;\r\n      }\r\n      if (this.lazyStream) {\r\n        this.lazyStream.getTracks().forEach(\r\n          (track) => {\r\n            track.stop();\r\n          }\r\n        );\r\n      }\r\n      this.lazyStream = null;\r\n    }\r\n\r\n  private getPeerId = () => {\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n      const data = {\r\n        role: 'model',\r\n        modelId: this.info.modelId,\r\n        room : this.info.idRoom+'P',\r\n        peerId: this.peerId\r\n      }\r\n      this.socketService.newPeerIdModel(data);\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log(\"Someone call model\");\r\n      call.answer(this.lazyStream);\r\n      console.log(\"After answer stream\");\r\n      call.on('stream', (remoteStream) => {\r\n        console.log(\"On receive stream in model\");\r\n        if (!this.peerList.includes(call.peer)) {\r\n          this.streamRemoteVideo(remoteStream, call.peer);\r\n          this.currentPeer = call.peerConnection;\r\n          this.peerList.push(call.peer);\r\n        }\r\n        console.log(\"Peer list \", this.peerList);\r\n      });\r\n\r\n        // this.onStop();\r\n        // navigator.mediaDevices.getUserMedia({\r\n        //   video: this.showVideo,\r\n        //   audio: this.showAudio\r\n        // }).then((stream) => {\r\n        //   this.lazyStream = stream;\r\n        //   this.video.nativeElement.srcObject = stream;\r\n        //   // const _video = this.video.nativeElement;\r\n        //   // _video.srcObject = stream;\r\n        //   // _video.play();\r\n        //   call.answer(stream);\r\n        //   // console.log(\"After answer stream\");\r\n        //   // call.on('stream', (remoteStream) => {\r\n        //   //   console.log(\"On receive stream model\");\r\n        //   //   if (!this.peerList.includes(call.peer)) {\r\n        //   //     this.streamRemoteVideo(remoteStream, call.peer);\r\n        //   //     this.currentPeer = call.peerConnection;\r\n        //   //     this.peerList.push(call.peer);\r\n        //   //   }\r\n        //   //   console.log(\"Peer list \", this.peerList);\r\n        //   // });\r\n        // }).catch(err => {\r\n        //   console.log(err + ' - Unable to get media');\r\n        // });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream, call.peer);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: this.showVideo,\r\n    //   audio: this.showAudio\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(id, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.streamRemoteVideo(remoteStream, call.peer);\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  private callClient(clientId: number, peerId: any): void {\r\n    const call = this.peer.call(peerId, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream, call.peer, clientId);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: this.showVideo,\r\n    //   audio: this.showAudio\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(peerId, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.streamRemoteVideo(remoteStream, call.peer, clientId);\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  removeStream(clientId: number) {\r\n    // console.log('Remove stream ', clientId)\r\n    const index = this.clientStream.findIndex(element => element.clientId === clientId)\r\n    // console.log(index)\r\n    // console.log(this.clientStream)\r\n    this.clientStream.splice(index, 1)\r\n  }\r\n\r\n  private streamRemoteVideo(stream: MediaStream, peerId: any, clientId?: number): void {\r\n    console.log('Add remote stream client ', stream);\r\n    // const video = document.createElement('video');\r\n    // video.classList.add('video');\r\n    // video.srcObject = stream;\r\n    // video.play();\r\n\r\n    // document.getElementById('remote-video').append(video);\r\n    // this.clients[0].client.stream = stream;\r\n    let id = null;\r\n    if (!clientId) {\r\n      id = this.clientStream.length;\r\n    } else {\r\n      id = clientId;\r\n    }\r\n\r\n    if (this.clientStream.length < 5) {\r\n      this.clientStream.push({\r\n        clientId: id,\r\n        stream: stream,\r\n        peerId,\r\n        isAudio: true,\r\n        isVideo: true\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n    this.clientStream.forEach(\r\n      (stream) => {\r\n        if (stream.peerId === peerId) {\r\n          stream.isAudio = isAudio\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n    this.clientStream.forEach(\r\n      (stream) => {\r\n        if (stream.peerId === peerId) {\r\n          stream.isVideo = isVideo\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    }\r\n    // if (this.showVideo) {\r\n    //   $(\"#video_live_model\").removeClass( \"hideStream\" ).addClass(\"showStream\");\r\n    // } else {\r\n    //   $(\"#video_live_model\").removeClass(\"showStream\").addClass(\"hideStream\");\r\n    // }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'P';\r\n    this.socketService.toggleVideo(room, null, this.peerId, this.info.modelId, this.showVideo);\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n    // this.onStop();\r\n    // this.onStart();\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n      // this.onStop();\r\n      // this.onStart();\r\n      // const data = {\r\n      //   role: 'model',\r\n      //   modelId: this.info.modelId,\r\n      //   room : this.info.idRoom+'P',\r\n      //   peerId: this.peerId\r\n      // }\r\n      // setTimeout(\r\n      //   () => {\r\n      //     this.socketService.newPeerIdModel(data);\r\n      //   }, 2000\r\n      // )\r\n    }\r\n    const room = this.info.idRoom+'P';\r\n    this.socketService.toggleAudio(room, null, this.peerId, this.info.modelId, this.showAudio);\r\n  }\r\n\r\n    // -------- EMOJI -----------------\r\n\r\n    toggleEmojiPicker() {\r\n      this.showEmojiPicker = !this.showEmojiPicker;\r\n    }\r\n\r\n    addEmoji(event) {\r\n      const {info} = this;\r\n      // console.log(this.info.message);\r\n      // console.log(`${event.emoji.native}`);\r\n      let text = '';\r\n      if (this.info.message) {\r\n        text = `${info.message}${event.emoji.native}`;\r\n      } else {\r\n        text = `${event.emoji.native}`;\r\n      }\r\n      this.info.message = text;\r\n      // console.log(this.info.message)\r\n      // this.showEmojiPicker = false;\r\n    }\r\n\r\n    focus() {\r\n      this.showEmojiPicker = false;\r\n    }\r\n\r\n    changeSalonLibre(event) {\r\n      const choice = event.target.value;\r\n      this.store.set('live_selected', choice);\r\n      this.socketService.sendCurrentSaloon(this.info.idRoom, this.live_selected);\r\n    }\r\n\r\n}\r\n","<app-header connected=\"true\" model=\"true\"></app-header>\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <app-topbar-model [context]=\"context\" [actif]=\"info.actif\"\r\n      [hour]=\"this.timer.hour\"\r\n      [minute]=\"this.timer.minute\"\r\n      [second]=\"this.timer.second\"\r\n      [reinit]=\"this.timer.reinit\"\r\n      [leaved]=\"leaved\"\r\n      (newItemEvent)=\"toggleTool($event)\"\r\n      ></app-topbar-model>\r\n      <div class=\"show_live_left show_live_left_model\" style=\"background-color: var(--blue3);\">\r\n        <figure id=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls autoplay id=\"video_live_model\" #video_live_model muted=\"muted\"></video>\r\n        </figure>\r\n\r\n        <div class=\"contain_info_room\">\r\n          <div class=\"contain_welcome\" (click)=\"toggleShowInfoRoom()\">\r\n            <i class=\"fa fa-chevron-right\" *ngIf=\"showInfoRoom\"></i>\r\n            <i class=\"fa fa-chevron-down\" *ngIf=\"!showInfoRoom\"></i>\r\n            <span *ngIf=\"showInfoRoom\">Bienvenue <span>{{info.pseudo}}</span></span>\r\n            <span *ngIf=\"!showInfoRoom\" class=\"label_room\">Private Room</span>\r\n          </div>\r\n          <div class=\"contain_detail\" *ngIf=\"showInfoRoom\">\r\n            Vous êtes actuellement en <span class=\"label_room\">Private Room</span> <br>\r\n            Faites satisfaction à vos clients <br>\r\n            Et gagner des gains\r\n          </div>\r\n          <div class=\"contain_gain\" *ngIf=\"showInfoRoom\">\r\n            {{stat.tarif_show}} crédits / mn\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Cam\">\r\n            <app-live-private-cam [clients]=\"clients\" canSelect=\"true\"\r\n            (clientSelected)=\"chooseClient($event)\"\r\n            [streams]=\"clientStream\" showListUser=\"true\"\r\n            [myId]=\"info.modelId\" [roomId]=\"roomId\"\r\n            [modelId]=\"info.modelId\"></app-live-private-cam>\r\n          </mat-tab>\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"info.modelId\"\r\n            [messages]=\"messages\" [profil]=\"info.bg\"\r\n            showMenu=\"true\" [roomId]=\"roomId\"\r\n            isModel=\"true\" [clientId]=\"0\"></app-live-free-chat>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"contain_action contain_action_desktop\" style=\"height: 10vh;\">\r\n        <!-- <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" (click)=\"liveVIP()\">Passer en show VIP</button>\r\n          <p></p>\r\n        </div> -->\r\n\r\n        <div class=\"contain_salon_libre\">\r\n          <select name=\"salon_libre\" id=\"salon_libre\"\r\n          (change)=\"changeSalonLibre($event)\"\r\n          [(ngModel)]=\"live_selected\"\r\n          style=\"height: 50px; padding: 15px;\"\r\n          >\r\n          <option>Live dispo :</option>\r\n          <option value=\"choice_us\">CHOICE US</option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" style=\"height: 55px;\">\r\n            Show VIP <br>\r\n            <span  *ngIf=\"statVIP.tarif_show > 0\"\r\n              >{{statVIP.tarif_show}} crédits / mn</span>\r\n          </button>\r\n          <p></p>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n          >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div> -->\r\n\r\n        <div class=\"btn_credit\" style=\"height: 50px;padding: 15px;\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" style=\"height: 50px;padding: 15px;\"\r\n          (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <!-- <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" (click)=\"liveVIP()\">Passer en show VIP</button>\r\n          <p></p>\r\n        </div> -->\r\n        <div class=\"contain_salon_libre\">\r\n          <select name=\"salon_libre\" id=\"salon_libre\"\r\n          (change)=\"changeSalonLibre($event)\"\r\n          [(ngModel)]=\"live_selected\"\r\n          style=\"height: 50px; padding: 15px;\"\r\n          >\r\n            <option selected>Live dispo :</option>\r\n            <option value=\"choice_us\">CHOICE US</option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\">\r\n            Show VIP <br>\r\n            <span  *ngIf=\"statVIP.tarif_show > 0\"\r\n              >{{statVIP.tarif_show}} crédits / mn</span>\r\n          </button>\r\n          <p></p>\r\n        </div> -->\r\n\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"info.message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<div class=\"contain_invitation\">\r\n  <div class=\"list_invitation\">\r\n    <div class=\"invitation\" *ngFor=\"let item of listInvitation\" data-aos=\"fade-left\" data-aos-duration=\"1000\">\r\n      <div class=\"close_invitation\"\r\n      (click)=\"closeInvitation(item.clientId, item.clientPseudo, item.roomId)\">x</div>\r\n      <p class=\"message_invitation\">\r\n        <span *ngIf=\"!item.special\">Invitation VIP</span>\r\n        <span *ngIf=\"item.special && item.special === 'live free'\">Invitation <i>LIVE <br> CHOICE US</i></span>\r\n        <br>\r\n        Par <span class=\"pseudo_invitation\">{{item.clientPseudo}}</span>\r\n      </p>\r\n      <div class=\"action_invitation\">\r\n        <button class=\"btn_invitation btn_accept lighter\"\r\n        (click)=\"acceptInvitationToVIP(item.clientId, item.clientPseudo, item.roomId, item.special)\">\r\n          Accepter\r\n        </button>\r\n        <button class=\"btn_invitation btn_deny lighter\"\r\n        (click)=\"denyInvitationToVIP(item.clientId, item.clientPseudo, item.roomId, item.special)\">\r\n          Refuser\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Router, Event, NavigationStart, NavigationEnd, NavigationError } from '@angular/router';import { HeaderService } from './services/header/header.service';\r\nimport { routeTransitionAnimations } from './utils/slide';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  animations : [routeTransitionAnimations]\r\n})\r\nexport class AppComponent {\r\n  title = 'betweenUs';\r\n  hide: boolean = false;\r\n  unselect: boolean = false;\r\n  loading: boolean = false;\r\n\r\n  constructor(private headerSrv: HeaderService, private router: Router) {\r\n    this.router.events.subscribe((event: Event) => {\r\n      if (event instanceof NavigationStart) {\r\n          // Show loading indicator\r\n          this.loading = true;\r\n      }\r\n\r\n      if (event instanceof NavigationEnd) {\r\n          // Hide loading indicator\r\n          this.loading = false;\r\n      }\r\n\r\n      if (event instanceof NavigationError) {\r\n          // Hide loading indicator\r\n          this.loading = false;\r\n          // Present error to user\r\n          console.log(event.error);\r\n      }\r\n  });\r\n\r\n    this.headerSrv.hidded.subscribe(\r\n      (data) => {\r\n        this.hide = data;\r\n      }\r\n    );\r\n    this.headerSrv.unselected.subscribe(\r\n      (data) => {\r\n        this.unselect = data;\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<!-- <div class=\"contain_header\" [ngClass]=\"{'unclickable': unselect}\" *ngIf=\"!hide\">\r\n  <app-header></app-header>\r\n</div> -->\r\n<div class=\"spacer\"></div>\r\n<router-outlet></router-outlet>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n  <div></div>\r\n</div>\r\n\r\n<!-- <app-scrolltop></app-scrolltop> -->\r\n\r\n","import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EncryptionService {\n  private key = CryptoJS.enc.Utf8.parse('4512631236589784');\n  private iv = CryptoJS.enc.Utf8.parse('4512631236589784');\n\n  constructor() { }\n\n  encryptUsingAES256(enString) {\n    var encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(JSON.stringify(enString)), this.key, {\n        keySize: 128 / 8,\n        iv: this.iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n    return encrypted;\n  }\n\n  decryptUsingAES256(decString) {\n      var decrypted = CryptoJS.AES.decrypt(decString, this.key, {\n          keySize: 128 / 8,\n          iv: this.iv,\n          mode: CryptoJS.mode.CBC,\n          padding: CryptoJS.pad.Pkcs7\n      });\n      const result = decrypted.toString(CryptoJS.enc.Utf8);\n      return result;\n  }\n\n}\n","<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    MODELES BLOQUES <span>({{count}} Modèles)</span>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-4\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-5 col-9\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-3\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        LES MODELES BLOQUES\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Adresse email</td>\r\n          <td>Inscrit le</td>\r\n          <td>Bloqué le</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.email}}</td>\r\n          <td>{{client.createdAt}}</td>\r\n          <td>{{client.updatedAt}}</td>\r\n          <td class=\"list_action\">\r\n            <img [src]=\"debloquer\" alt=\"\" (click)=\"deblockedClient(client.id)\">\r\n            <img [src]=\"delete\" alt=\"\" (click)=\"deleteClient(client.id)\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/services/admin/admin.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-bloquer-models-admin',\r\n  templateUrl: './bloquer-models-admin.component.html',\r\n  styleUrls: ['./bloquer-models-admin.component.scss']\r\n})\r\nexport class BloquerModelsAdminComponent implements OnInit {\r\n  icon = './../../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countClient()\r\n    this.listClients()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    // console.log('TopPage ',this.topPage)\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countClient() {\r\n    this.adminService.countModelsBlocked().subscribe(\r\n      (data) => {\r\n        this.count = data ? data : 0\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  listClients() {\r\n    this.adminService.getModelsBlocked(this.range, this.page, this.filter).subscribe(\r\n      (data) => {\r\n        // console.log(data)\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n          client.updatedAt = this.adminService.formatDate(client.updatedAt)\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listClients()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listClients()\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.page + 1 >= this.topPage) return false\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listClients()\r\n  }\r\n\r\n  prevPage() {\r\n    if (this.page - 1 < 0) return false\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listClients()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listClients()\r\n  }\r\n\r\n  deleteClient(idClient: number) {\r\n    this.adminService.deleteModel(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  deblockedClient(idClient: number) {\r\n    const data = {\r\n      idClient,\r\n      reverse: true\r\n    }\r\n    this.adminService.blockModel(data).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { Component, Input, IterableDiffers, OnInit, ViewChild } from '@angular/core';\r\nimport { Chat } from '../../../../interfaces/chat.interface';\r\nimport * as $ from 'jquery';\r\nimport { SocketService } from '../../../../services/socket/socket.service';\r\nimport { ClientService } from '../../../../services/client/client.service';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { BanishService } from '../../../../services/banish/banish.service';\r\nimport { TIP, TipsService } from 'src/app/services/tips/tips.service';\r\n\r\ninterface message {\r\n  source: string,\r\n  name: string,\r\n  url: string,\r\n  message: string,\r\n  color: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-live-free-chat',\r\n  templateUrl: './live-free-chat.component.html',\r\n  styleUrls: ['./live-free-chat.component.scss']\r\n})\r\nexport class LiveFreeChatComponent implements OnInit {\r\n  @Input()\r\n  modelId: number;\r\n\r\n  @Input()\r\n  pseudoModel: string;\r\n\r\n  @Input()\r\n  leaved: boolean;\r\n\r\n  @Input()\r\n  passedToPrivate: boolean;\r\n\r\n  @Input()\r\n  profil: string;\r\n\r\n  @Input()\r\n  showMenu: string;\r\n\r\n  @Input()\r\n  roomId: string;\r\n\r\n  // gift\r\n  @Input()\r\n  isModel: string;\r\n\r\n  // gift\r\n  @Input()\r\n  clientId: number;\r\n\r\n  @Input()\r\n  live: string;\r\n\r\n  room: number;\r\n\r\n  user = \"assets/images/user_chat.png\";\r\n  listColor = [];\r\n\r\n  @Input()\r\n  messages: Chat[] = [];\r\n\r\n  currentPseudo: string = null;\r\n\r\n  iterableDiffer: any;\r\n\r\n  @ViewChild(MatMenuTrigger)\r\n  contextMenu: MatMenuTrigger;\r\n\r\n  contextMenuPosition = { x: '0px', y: '0px' };\r\n\r\n  tipsNormaux: TIP[] = [];\r\n  tipsVIP: TIP[] = [];\r\n\r\n  constructor(\r\n    private iterableDiffers: IterableDiffers,\r\n    private socketService: SocketService,\r\n    private clientService: ClientService,\r\n    private banishService: BanishService,\r\n    private tipsService: TipsService) {\r\n    this.iterableDiffer = iterableDiffers.find([]).create(null);\r\n    this.tipsNormaux = this.tipsService.tipsNormaux;\r\n    this.tipsVIP = this.tipsService.tipsVIP;\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    if (this.profil === undefined) this.profil = this.user;\r\n    if (this.messages.length > 0) {\r\n      $(document).ready(function () {\r\n        setTimeout(\r\n          () => {\r\n              $('#main_chat').animate({\r\n                scrollTop: $('#main_chat .msg:last-child').position().top\r\n              }, 10);\r\n          }, 1000\r\n        )\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  ngDoCheck() {\r\n    let changes = this.iterableDiffer.diff(this.messages);\r\n    if (changes) {\r\n      // this.socketService.soundOutcome()\r\n      $(\"#main_chat\").animate({ scrollTop: $('#main_chat').prop(\"scrollHeight\")}, 10);\r\n    }\r\n  }\r\n\r\n  getPseudo(clientId: number) {\r\n    this.clientService.getClient(clientId).subscribe(\r\n      (data) => {\r\n        this.currentPseudo = data.pseudo;\r\n        // console.log(this.currentPseudo);\r\n      }\r\n    )\r\n  }\r\n\r\n  showPseudo() {\r\n\r\n  }\r\n\r\n  clearPseudo() {\r\n    this.currentPseudo = null;\r\n  }\r\n\r\n  onContextMenu(event: MouseEvent, item: any) {\r\n    event.preventDefault();\r\n    this.contextMenuPosition.x = event.clientX + 'px';\r\n    this.contextMenuPosition.y = event.clientY + 'px';\r\n    this.contextMenu.menuData = { 'item': item };\r\n    this.contextMenu.menu.focusFirstItem('mouse');\r\n    this.contextMenu.openMenu();\r\n  }\r\n\r\n  banishClient(item: any) {\r\n    if (!item.id_source || item.id_source == this.modelId) return null\r\n    const clientId = item.id_source\r\n    // console.log('banish client : ', item.id_source, ' model :', this.modelId)\r\n    this.banishService.banishClient(this.modelId, clientId).subscribe(\r\n      (data) => {\r\n        this.socketService.banishClient(this.roomId, clientId)\r\n        // console.log(data)\r\n      }\r\n    )\r\n  }\r\n\r\n  getImageSource(symbol: string, message: string) {\r\n    // console.log(symbol);\r\n    // console.log(this.tipsNormaux);\r\n    let tips = null;\r\n    if (message === 'vip') {\r\n      tips = this.tipsVIP.find(tips => tips.symbole === symbol);\r\n    } else {\r\n      tips = this.tipsNormaux.find(tips => tips.symbole === symbol);\r\n    }\r\n    // console.log(tips);\r\n    return tips.src;\r\n  }\r\n\r\n  compareDate(msgCreated: Date) {\r\n    if (this.isModel === 'true') return true;\r\n    const lastStoreDate = this.clientService.getLastChat();\r\n    const lastDate = new Date(lastStoreDate);\r\n    const comparedDate = new Date(msgCreated);\r\n    if (comparedDate < lastDate) return false;\r\n    else return true;\r\n    // console.log('Last chat date from ',comparedDate, ' To ', lastDate);\r\n    return true;\r\n  }\r\n}\r\n\r\n","<div class=\"main_chat\" id=\"main_chat\">\r\n\r\n  <div class=\"contain_info\" *ngIf=\"live && live === 'tips'\">\r\n      <p>\r\n        Bienvenue <span class=\"anker\">{{pseudoModel}}</span> <br>\r\n        Vous êtes actuellement en <span class=\"anker\">Live TIPS</span> <br>\r\n        Paramètrer votre palier de tips <br>\r\n        dans la paramètre du live.\r\n      </p>\r\n  </div>\r\n\r\n  <div class=\"contain_info\" *ngIf=\"live && live === 'free'\">\r\n    <p>\r\n      Bienvenue <span class=\"anker\">{{pseudoModel}}</span> <br>\r\n      Vous êtes actuellement en <span class=\"anker\">Live Choice Us</span> <br>\r\n      Choisissez le type de show et votre tarif<br>\r\n      dans le paramètre du live.\r\n    </p>\r\n  </div>\r\n\r\n  <div *ngFor=\"let item of messages; let i=index\" class=\"msg\">\r\n    <div *ngIf=\"compareDate(item.createdAt)\">\r\n\r\n    <div class=\"left_chat contain_chat\" *ngIf=\"!item.giftSymbol && item.type_source == 'model'\">\r\n      <div class=\"contain_image\">\r\n        <img [src]=\"profil\" alt=\"\" class=\"user_profile\">\r\n      </div>\r\n      <div class=\"left_message chat\" [ngStyle]=\"{'background-color': item.code_couleur}\">\r\n        <p>\r\n          <span *ngIf=\"item.pseudo\">\r\n            <span *ngIf=\"isModel === 'true'\">\r\n              Vous :\r\n            </span>\r\n            <span *ngIf=\"isModel !== 'true'\">\r\n              {{item.pseudo}} :\r\n            </span>\r\n          </span>\r\n          {{item.message}}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"right_chat contain_chat\" *ngIf=\"!item.giftSymbol && item.type_source == 'client'\">\r\n      <div class=\"right_message chat\" [ngStyle]=\"{'background-color': item.code_couleur}\">\r\n        <p>\r\n          <span *ngIf=\"item.pseudo\">\r\n            <span *ngIf=\"item.id_source === clientId\">\r\n              Vous :\r\n            </span>\r\n            <span *ngIf=\"item.id_source !== clientId\">\r\n              {{item.pseudo}} :\r\n            </span>\r\n\r\n          </span>\r\n          {{item.message}}\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"contain_image\" *ngIf=\"showMenu === 'false'\">\r\n      <!-- [matTooltip]=\"currentPseudo\" matTooltipClass=\"tooltip_class\" -->\r\n        <img [src]=\"user\" alt=\"\" class=\"user_profile\">\r\n      </div>\r\n\r\n      <div class=\"contain_image\" (mouseover)=\"getPseudo(item.id_source)\"\r\n      *ngIf=\"showMenu === 'true'\" (contextmenu)=\"onContextMenu($event, item)\">\r\n        <img [src]=\"user\" alt=\"\" class=\"user_profile\">\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"gift_message\" *ngIf=\"item.giftSymbol\">\r\n      <img [src]=\"getImageSource(item.giftSymbol, item.message)\" alt=\"\" class=\"img_tips\">\r\n      <p *ngIf=\"isModel === 'true'\">\r\n        <span class=\"source_gift\">{{item.giftSource}}</span>\r\n        vous a envoyé <span class=\"gift_item\">{{item.giftDesign}}</span>\r\n      </p>\r\n      <p *ngIf=\"isModel === 'false' && item.id_source === clientId && item.type_source == 'client'\">\r\n        Vous avez envoyé <span class=\"gift_item\">{{item.giftDesign}}</span>\r\n      </p>\r\n      <p *ngIf=\"isModel === 'false' && item.id_source !== clientId\">\r\n        <span class=\"source_gift\">{{item.giftSource}}</span>\r\n        a envoyé <span class=\"gift_item\">{{item.giftDesign}}</span> à la modèle\r\n      </p>\r\n    </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"leave_model\" *ngIf=\"leaved\">\r\n    <p>\" {{pseudoModel}} a quitté la discussion \"</p>\r\n  </div>\r\n\r\n  <div class=\"leave_model\" *ngIf=\"passedToPrivate\">\r\n    <p>\" {{pseudoModel}} est passé en live Privé \"</p>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div style=\"visibility: hidden; position: fixed\"\r\n  [style.left]=\"contextMenuPosition.x\"\r\n  [style.top]=\"contextMenuPosition.y\"\r\n  [matMenuTriggerFor]=\"contextMenu\">\r\n</div>\r\n<mat-menu #contextMenu=\"matMenu\" #contextMenu2=\"matMenu\">\r\n\t<ng-template matMenuContent let-item=\"item\">\r\n    <button\r\n    class=\"btn_pseudo\">\r\n      {{currentPseudo}}\r\n    </button>\r\n\t\t<button mat-menu-item\r\n    class=\"btn_banish\"\r\n    (click)=\"banishClient(item)\">\r\n      Bannir\r\n    </button>\r\n\t</ng-template>\r\n</mat-menu>\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signup_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>INSCRIPTION</h2>\r\n    <p>MODELE</p>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signup_two inside_sign\">\r\n  <h2 class=\"title\">\r\n    Devenir modèle\r\n  </h2>\r\n\r\n  <div class=\"descr\">\r\n      Tous les modèles présents <br>\r\n      sur ce site sont agés de 18 et plus. <br>\r\n      Avant de vous inscrire, assurez-vous d'être bien majeur.\r\n  </div>\r\n  <div class=\"already\">\r\n    Déjà un compte ? <span routerLink=\"/modele/connexion\">Se connecter</span>\r\n  </div>\r\n\r\n  <form class=\"form\" [formGroup]=\"signForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Nom *</label>\r\n      <input type=\"text\" formControlName=\"firstname\"\r\n      name=\"firstName\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.firstname.errors\">\r\n        <small *ngIf=\"form.firstname.errors.required\" class=\"form-text error-text\">Nom requis</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Prénom *</label>\r\n      <input type=\"text\" formControlName=\"lastname\" name=\"lastName\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.lastname.errors\">\r\n        <small *ngIf=\"form.lastname.errors.required\" class=\"form-text error-text\">Prénom requis</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Pseudo *</label>\r\n      <input type=\"text\" formControlName=\"pseudo\" name=\"pseudo\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.pseudo.errors\">\r\n        <small *ngIf=\"form.pseudo.errors.required\" class=\"form-text error-text\">Pseudo requis</small>\r\n      </div>\r\n      <div *ngIf=\"pseudoExist\">\r\n        <small class=\"form-text error-text\">Pseudo existe déjà</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email *</label>\r\n      <input type=\"text\" formControlName=\"email\" name=\"email\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.email.errors\">\r\n        <small *ngIf=\"form.email.errors.required\" class=\"form-text error-text \">\r\n          Adresse email requis\r\n        </small>\r\n        <small *ngIf=\"form.email.errors.email\" class=\"form-text error-text \">\r\n          Format invalide\r\n        </small>\r\n      </div>\r\n      <div *ngIf=\"emailExist\">\r\n        <small class=\"form-text error-text \">\r\n          Email déjà utilisé\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Date de naissance *</label>\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3\">\r\n            <select formControlName=\"day_birth\" name=\"day\" class=\"form-control input lighter\"\r\n            placeholder=\"jj\" (click)=\"select()\"\r\n            style=\"background-color: var(--purple); color: white;border-color: transparent;\">\r\n              <option value=\"\" selected=\"true\" class=\"selected_option\">jj</option>\r\n              <option *ngFor=\"let item of day\" [value]=\"item.value\">{{item.name}}</option>\r\n            </select>\r\n            <!-- <input type=\"text\" formControlName=\"day\" name=\"day\" class=\"form-control input lighter\" placeholder=\"jj\"> -->\r\n            <div *ngIf=\"submitted && form.day_birth.errors\">\r\n              <small *ngIf=\"form.day_birth.errors.required\" class=\"form-text error-text\">Jour requis</small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4 offset-lg-1\">\r\n            <select formControlName=\"month_birth\" name=\"month\" class=\"form-control input lighter\"\r\n            placeholder=\"mm\" (click)=\"select()\"\r\n            style=\"background-color: var(--purple); color: white;border-color: transparent;\">\r\n              <option value=\"\" selected=\"true\" class=\"selected_option\">mm</option>\r\n              <option *ngFor=\"let item of month\" [value]=\"item.value\">{{item.name}}</option>\r\n            </select>\r\n            <!-- <input type=\"text\" formControlName=\"month\" name=\"month\" class=\"form-control input lighter\" placeholder=\"mm\"> -->\r\n            <div *ngIf=\"submitted && form.month_birth.errors\">\r\n              <small *ngIf=\"form.month_birth.errors.required\" class=\"form-text error-text\">Mois requis</small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-3 offset-lg-1\">\r\n            <select formControlName=\"year_birth\" name=\"year\" class=\"form-control input lighter\"\r\n            placeholder=\"aaaa\" (click)=\"select()\"\r\n            style=\"background-color: var(--purple); color: white;border-color: transparent;\">\r\n              <option value=\"\" selected=\"true\" class=\"selected_option\">aaaa</option>\r\n              <option *ngFor=\"let item of year\" [value]=\"item.value\">{{item.name}}</option>\r\n            </select>\r\n            <!-- <input type=\"text\" formControlName=\"year\" name=\"year\" class=\"form-control input lighter\" placeholder=\"aaaa\"> -->\r\n            <div *ngIf=\"submitted && form.year_birth.errors\">\r\n              <small *ngIf=\"form.year_birth.errors.required\" class=\"form-text error-text\">Année requis</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Copie pièce d'identitée *</label>\r\n      <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6\" (click)=\"selectPhoto('recto')\">\r\n            <input type=\"text\" formControlName=\"path_recto\" name=\"recto\"\r\n            class=\"form-control input lighter input_img\" placeholder=\"Recto\"\r\n            [(ngModel)]=\"nameRecto\">\r\n            <div *ngIf=\"submitted && form.path_recto.errors\">\r\n              <small *ngIf=\"form.path_recto.errors.required\" class=\"form-text error-text\">Recto requis</small>\r\n            </div>\r\n            <div *ngIf=\"errorRecto\">\r\n              <small class=\"form-text error-text\">Format invalide (image)</small>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-6\" (click)=\"selectPhoto('verso')\">\r\n            <input type=\"text\" formControlName=\"path_verso\" name=\"verso\"\r\n            class=\"form-control input lighter input_img\" placeholder=\"Verso\"\r\n            [(ngModel)]=\"nameVerso\">\r\n            <div *ngIf=\"submitted && form.path_verso.errors\">\r\n              <small *ngIf=\"form.path_verso.errors.required\" class=\"form-text error-text\">Verso requis</small>\r\n            </div>\r\n            <div *ngIf=\"errorVerso\">\r\n              <small class=\"form-text error-text\">Format invalide (image)</small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\" (click)=\"selectPhoto('photo')\">\r\n      <label for=\"pseudo\">Photo de vous avec la carte d'identité *</label>\r\n      <input type=\"text\" formControlName=\"path_cin\"\r\n      name=\"photoCIN\" class=\"form-control input lighter input_img\"\r\n      [(ngModel)]=\"namePhoto\">\r\n      <div *ngIf=\"submitted && form.path_cin.errors\">\r\n        <small *ngIf=\"form.path_cin.errors.required\" class=\"form-text error-text\">Photo avec CIN requis</small>\r\n      </div>\r\n      <div *ngIf=\"errorPhoto\">\r\n        <small class=\"form-text error-text\">Format invalide (image)</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\" (click)=\"selectPhoto('soft')\">\r\n      <label for=\"pseudo\">Photo soft pour le profil *</label>\r\n      <input type=\"text\" formControlName=\"path_soft\"\r\n      name=\"photoSoft\" class=\"form-control input lighter input_img\"\r\n      [(ngModel)]=\"nameSoft\">\r\n      <div *ngIf=\"submitted && form.path_soft.errors\">\r\n        <small *ngIf=\"form.path_soft.errors.required\" class=\"form-text error-text\">Photo soft requis</small>\r\n      </div>\r\n      <div *ngIf=\"errorSoft\">\r\n        <small class=\"form-text error-text\">Format invalide (image)</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe *</label>\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.password.errors\">\r\n        <small *ngIf=\"form.password.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n        <small *ngIf=\"form.password.errors.pattern\" class=\"form-text error-text\">\r\n          Au moins 8 caractères, lettre majuscule et  minuscule,\r\n          un chiffre et/ou un caractère spécial.\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"passwordConfirm\">Confirmer mot de passe *</label>\r\n      <input type=\"password\" formControlName=\"passwordConfirm\" name=\"passwordConfirm\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.passwordConfirm.errors\">\r\n        <small *ngIf=\"form.passwordConfirm.errors.required\" class=\"form-text error-text \">\r\n          Confirmation mot de passe requis\r\n        </small>\r\n        <small *ngIf=\"form.passwordConfirm.errors.mustMatch\" class=\"form-text error-text \">\r\n          Mot de passe ne correspond pas\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div>\r\n      <small *ngIf=\"error !== null\" class=\"form-text error-text\">\r\n        {{error}}\r\n      </small>\r\n    </div> -->\r\n\r\n    <div class=\"notif\">\r\n      * Champ obligatoire\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signup lighter\" (click)=\"register()\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\"> S'INSCRIRE</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n\r\n  <input type=\"file\" class=\"hidden_file\" id=\"recto\" accept=\"image/x-png,image/gif,image/jpeg\" (change)=\"fileChoose($event, 'recto')\">\r\n  <input type=\"file\" class=\"hidden_file\" id=\"verso\" accept=\"image/x-png,image/gif,image/jpeg\" (change)=\"fileChoose($event, 'verso')\">\r\n  <input type=\"file\" class=\"hidden_file\" id=\"photo\" accept=\"image/x-png,image/gif,image/jpeg\" (change)=\"fileChoose($event, 'photo')\">\r\n  <input type=\"file\" class=\"hidden_file\" id=\"soft\" accept=\"image/x-png,image/gif,image/jpeg\" (change)=\"fileChoose($event, 'soft')\">\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { AuthService } from './../../../services/auth/auth.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport * as $  from 'jquery';\r\nimport { Router } from '@angular/router';\r\nimport { registerModel } from '../../../interfaces/register.interface';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { HttpClient, HttpEventType } from '@angular/common/http';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\n\r\ninterface birth {\r\n  value: string,\r\n  name: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-inscription-model',\r\n  templateUrl: './inscription-model.component.html',\r\n  styleUrls: ['./inscription-model.component.scss']\r\n})\r\nexport class InscriptionModelComponent implements OnInit {\r\n  signForm : FormGroup;\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n\r\n  error: string = null;\r\n  emailExist: boolean = false;\r\n  pseudoExist: boolean = false;\r\n\r\n  day: birth[] = [\r\n    {value: '01', name: '01'},{value: '02', name: '02'},{value: '03', name: '03'},{value: '04', name: '04'},\r\n    {value: '05', name: '05'},{value: '06', name: '06'},{value: '07', name: '07'},{value: '08', name: '08'},\r\n    {value: '09', name: '09'}\r\n  ];\r\n\r\n  month: birth[] = [\r\n    {value: '01', name: 'Janvier'}, {value: '02', name: 'Février'}, {value: '03', name: 'Mars'}, {value: '04', name: 'Avril'},\r\n    {value: '05', name: 'Mai'}, {value: '06', name: 'Juin'}, {value: '07', name: 'Juillet'}, {value: '08', name: 'Août'},\r\n    {value: '09', name: 'Septembre'}, {value: '10', name: 'Octobre'}, {value: '11', name: 'Novembre'}, {value: '12', name: 'Décembre'}\r\n  ];\r\n\r\n  year: birth[] = [];\r\n\r\n  fileRecto: File = null;\r\n  previewRecto: any;\r\n  nameRecto: any;\r\n  errorRecto: boolean = false;\r\n\r\n  fileVerso: File = null;\r\n  previewVerso: any;\r\n  nameVerso: any;\r\n  errorVerso: boolean = false;\r\n\r\n\r\n  filePhoto: File = null;\r\n  previewPhoto: any;\r\n  namePhoto: any;\r\n  errorPhoto: boolean = false;\r\n\r\n\r\n  fileSoft: File = null;\r\n  previewSoft: any;\r\n  nameSoft: any;\r\n  errorSoft: boolean = false;\r\n\r\n\r\n  fileUploadProgress: string = null;\r\n\r\n  constructor(\r\n    private formBuilder : FormBuilder,\r\n    private popupService: PopupService,\r\n    private authService: AuthService,\r\n    private profileService: ProfilService,\r\n    private creditService: CreditService\r\n  ) {\r\n    this.signForm = this.formBuilder.group({\r\n      firstname : ['', Validators.required],\r\n      lastname : ['', Validators.required],\r\n      pseudo : ['', Validators.required],\r\n      email : ['',[Validators.required, Validators.email]],\r\n      // password : ['',[Validators.required, Validators.pattern(/^(?=\\D*\\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,}$/)]],\r\n      day_birth : ['', Validators.required],\r\n      month_birth : ['', Validators.required],\r\n      year_birth : ['', Validators.required],\r\n      path_recto : ['', Validators.required],\r\n      path_verso : ['', Validators.required],\r\n      path_cin : ['', Validators.required],\r\n      path_soft : ['', Validators.required],\r\n      password : ['', Validators.required],\r\n      passwordConfirm: ['',Validators.required],\r\n    },{\r\n      validators : this.mustMatch('password','passwordConfirm'),\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initDay();\r\n    this.initYear();\r\n  }\r\n\r\n  get form() {return this.signForm.controls}\r\n\r\n  mustMatch = (controlName : string, matchControlName : string) => {\r\n    return (formGroup: FormGroup) => {\r\n      const control = formGroup.controls[controlName];\r\n      const matchingControl = formGroup.controls[matchControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch) {\r\n          return;\r\n      }\r\n      if (control.value !== matchingControl.value) {\r\n          matchingControl.setErrors({ mustMatch: true });\r\n      } else {\r\n          matchingControl.setErrors(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  initDay() {\r\n    for (var i = 10; i < 32; i++) {\r\n      const tmp: birth = {value: i+'', name: i+''};\r\n      this.day.push(tmp);\r\n    }\r\n  }\r\n\r\n  initYear() {\r\n    for (var i = 1920; i < 2500; i++) {\r\n      const tmp: birth = {value: i+'', name: i+''};\r\n      this.year.push(tmp);\r\n    }\r\n  }\r\n\r\n  selectPhoto(type: string) {\r\n    $(`#${type}`).click();\r\n  }\r\n\r\n  verifyMimeType(mime: string) {\r\n    return (mime === \"image/png\" || mime === \"image/jpeg\");\r\n  }\r\n\r\n  fileChoose(fileInput, type: string) {\r\n    var ok: boolean = false;\r\n    switch (type) {\r\n      case 'recto':\r\n        ok = true;\r\n        this.fileRecto =  fileInput.target.files[0];\r\n        break;\r\n      case 'verso':\r\n        ok = true;\r\n        this.fileVerso =  fileInput.target.files[0];\r\n        break;\r\n      case 'photo':\r\n        ok = true;\r\n        this.filePhoto =  fileInput.target.files[0];\r\n        break;\r\n      case 'soft':\r\n        ok = true;\r\n        this.fileSoft =  fileInput.target.files[0];\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    if (ok) {this.preview(type);}\r\n  }\r\n\r\n  preview(type: string) {\r\n    this.errorRecto = this.errorVerso = this.errorPhoto = this.errorSoft = false;\r\n    var mimeType: any;\r\n    var reader = new FileReader();\r\n    var ok: boolean = false;\r\n\r\n    switch (type) {\r\n      case 'recto':\r\n        ok = true;\r\n        mimeType = this.fileRecto.type;\r\n        if (!this.verifyMimeType(mimeType)) this.errorRecto = true;\r\n        reader = new FileReader();\r\n        reader.readAsDataURL(this.fileRecto);\r\n        reader.onload = (event) => {\r\n          this.previewRecto = reader.result;\r\n          this.nameRecto = this.fileRecto.name;\r\n        };\r\n        break;\r\n\r\n      case 'verso':\r\n        ok = true;\r\n        mimeType = this.fileVerso.type;\r\n        if (!this.verifyMimeType(mimeType)) this.errorVerso = true;\r\n        reader = new FileReader();\r\n        reader.readAsDataURL(this.fileVerso);\r\n        reader.onload = (event) => {\r\n          this.previewVerso = reader.result;\r\n          this.nameVerso = this.fileVerso.name;\r\n        };\r\n        break;\r\n\r\n      case 'photo':\r\n        ok = true;\r\n        mimeType = this.filePhoto.type;\r\n        if (!this.verifyMimeType(mimeType)) this.errorPhoto = true;\r\n        reader = new FileReader();\r\n        reader.readAsDataURL(this.filePhoto);\r\n        reader.onload = (event) => {\r\n          this.previewPhoto = reader.result;\r\n          this.namePhoto = this.filePhoto.name;\r\n        };\r\n        break;\r\n\r\n      case 'soft':\r\n        ok = true;\r\n        mimeType = this.fileSoft.type;\r\n        if (!this.verifyMimeType(mimeType)) this.errorSoft = true;\r\n        reader = new FileReader();\r\n        reader.readAsDataURL(this.fileSoft);\r\n        reader.onload = (event) => {\r\n          this.previewSoft = reader.result;\r\n          this.nameSoft = this.fileSoft.name;\r\n        };\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  select() {\r\n    $(\".selected_option\").hide();\r\n  }\r\n\r\n  async register() {\r\n    this.pseudoExist = false;\r\n    this.emailExist = false;\r\n    this.error = null;\r\n    this.submitted = true;\r\n\r\n    if(this.signForm.invalid || this.errorSoft || this.errorRecto || this.errorVerso || this.errorPhoto){\r\n      return false;\r\n    }\r\n    this.loading = true;\r\n    const formData = new FormData();\r\n    formData.append('file_recto', this.fileRecto, this.nameRecto);\r\n    formData.append('file_verso', this.fileVerso, this.nameVerso);\r\n    formData.append('file_cin', this.filePhoto, this.namePhoto);\r\n    formData.append('file_soft', this.fileSoft, this.nameSoft);\r\n    this.fileUploadProgress = '0%';\r\n\r\n    return await this.authService.uploadImagesModel(formData).subscribe(\r\n      (events) => {\r\n        if (events.type === HttpEventType.UploadProgress) {\r\n          this.fileUploadProgress = Math.round(events.loaded / events.total * 100) + '%';\r\n          // console.log(this.fileUploadProgress);\r\n        }\r\n        else if (events.type === HttpEventType.Response) {\r\n          let user: registerModel = this.signForm.value;\r\n          user = this.signForm.value;\r\n          user.date_birth = user.day_birth + '/' + user.month_birth + '/' + user.year_birth;\r\n          user.path_recto = events.body.path_recto;\r\n          user.path_verso = events.body.path_verso;\r\n          user.path_cin = events.body.path_cin;\r\n          user.path_soft = events.body.path_soft;\r\n\r\n          // console.log(\"Post register \", user);\r\n          this.authService.registerModel(user).subscribe(\r\n            (res: any) => {\r\n                // console.log(res);\r\n                if (res.error) {\r\n                  this.error = res.message;\r\n                  if (res.pseudo) this.pseudoExist = true;\r\n                  if (res.email) this.emailExist = true;\r\n                  this.loading = false;\r\n                } else {\r\n                  this.profileService.createSetting(res.id).subscribe(\r\n                    (data) => {\r\n                      this.creditService.createCredit(res.id).subscribe(\r\n                        (data) => {\r\n                          this.profileService.createProfil(res.id).subscribe(\r\n                            (data) => {\r\n                              this.submitted = false;\r\n                              this.popupService.info('model','Félicitation',\r\n                              `Cher nouveau modèle, Un email est envoyé à\r\n                              <span style=\"font-style: italic; color: var(--pink)\">${res.email}</span>\r\n                              pour les informations de votre compte. <br>\r\n                              <small>Veuillez vérifier dans vos spams</small>`);\r\n                              this.signForm.reset();\r\n                              this.loading = false;\r\n                            }\r\n                          );\r\n                        }\r\n                      );\r\n                    }\r\n                  );\r\n\r\n                }\r\n                // this.loading = false;\r\n            },\r\n            (err: any) => {\r\n                this.loading = false;\r\n                console.log(err);\r\n            }\r\n          );\r\n        }\r\n      }, (error) => {\r\n        this.loading = false;\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoomVipService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private store: LocalStorageService\r\n  ) { }\r\n\r\n  getColor(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-vip/color`, httpOptions)\r\n  }\r\n\r\n  createRoom(clientId: number, special: string = null): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/room-vip`,{clientId, special}, httpOptions)\r\n  }\r\n\r\n  getRoomModel(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-vip/model/${id}`, httpOptions)\r\n  }\r\n\r\n  getInfo(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-vip/client/${id}`, httpOptions)\r\n  }\r\n\r\n  async getActif(id: number): Promise<number> {\r\n    let actif = 0;\r\n    await this.http.get(`${this.endpoint}/room-vip/${id}`, httpOptions).subscribe(\r\n      (data: any) => {\r\n        if (data.actif) {\r\n          actif =  data.actif\r\n        }\r\n      }\r\n    );\r\n    return actif;\r\n  }\r\n\r\n  joinRoom(idRoom: number) {\r\n    this.store.set(\"vipRoom\", idRoom);\r\n  }\r\n\r\n  joinedRoom(idRoom: number) {\r\n    const room = this.store.get(\"vipRoom\");\r\n    return room === idRoom;\r\n  }\r\n\r\n  leaveRoom() {\r\n    this.store.remove(\"vipRoom\");\r\n  }\r\n\r\n  getGain(modelId: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-vip/gain/${modelId}`, httpOptions)\r\n  }\r\n\r\n  updatePalier(roomId: number, mini: number, bronze: number, argent: number, or: number): Observable<any> {\r\n    const data = {\r\n      roomId,\r\n      mini,\r\n      bronze,\r\n      argent,\r\n      or\r\n    }\r\n    return this.http.post(`${this.endpoint}/room-vip/updatePalier`, data, httpOptions)\r\n  }\r\n\r\n  updateChoiceUs(roomId: number, title: string, description: string, tarif: number): Observable<any> {\r\n    const data = {\r\n      roomId,\r\n      title,\r\n      description,\r\n      tarif\r\n    }\r\n    console.log(data)\r\n    return this.http.post(`${this.endpoint}/room-vip/updateChoiceUs`, data, httpOptions)\r\n  }\r\n\r\n  getRoomInfo(roomId: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-vip/${roomId}`, httpOptions)\r\n  }\r\n\r\n  updateGain(roomId: number, gain: number) {\r\n    const data = {\r\n      roomId,\r\n      gain\r\n    }\r\n    return this.http.post(`${this.endpoint}/room-vip/updateGain`, data, httpOptions)\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\ninterface loginAdmin {\r\n  email,\r\n  password\r\n}\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdminService {\r\n  endpoint = environment.endpoint + '/admin'\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  formatDate(date: string) {\r\n    let year = date.substring(0, 4);\r\n    let month = date.substring(5, 7);\r\n    let day = date.substring(8, 10);\r\n    let hour = date.substring(11, 16);\r\n    const result = day+'/'+month+'/'+year+' '+hour;\r\n    return result;\r\n  }\r\n\r\n  login(user : loginAdmin) : Observable<any>{\r\n    return this.http.post(`${this.endpoint}/login`, user, httpOptions)\r\n  }\r\n\r\n  countClients(motif: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/count-clients/${motif}`, httpOptions)\r\n  }\r\n\r\n  getClients(motif: string, range: number, page: number, filter: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/list-clients/${motif}/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  deleteClient(idClient: number) {\r\n    return this.http.delete(`${this.endpoint}/client/${idClient}`, httpOptions)\r\n  }\r\n\r\n  blockClient(data : { idClient: number, reverse: boolean }) {\r\n    return this.http.post(`${this.endpoint}/block-client`, data, httpOptions)\r\n  }\r\n\r\n  deactivateClient(idClient: number) {\r\n    return this.http.post(`${this.endpoint}/deactivate-client`, {idClient}, httpOptions)\r\n  }\r\n\r\n  activateClient(idClient: number) {\r\n    return this.http.post(`${this.endpoint}/activate-client`, {idClient},  httpOptions)\r\n  }\r\n\r\n  countClientsBlocked() : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/count-client-blocked`, httpOptions)\r\n  }\r\n\r\n  getClientsBlocked(range: number, page: number, filter: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/list-client-blocked/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  getStatInscriptionClient() {\r\n    return this.http.get(`${this.endpoint}/stat-inscription-client`, httpOptions)\r\n  }\r\n\r\n  // Model\r\n  countModels(motif: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/count-models/${motif}`, httpOptions)\r\n  }\r\n\r\n  getModels(motif: string, range: number, page: number, filter: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/list-models/${motif}/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  deleteModel(idClient: number) {\r\n    return this.http.delete(`${this.endpoint}/model/${idClient}`, httpOptions)\r\n  }\r\n\r\n  blockModel(data : { idClient: number, reverse: boolean }) {\r\n    return this.http.post(`${this.endpoint}/block-model`, data, httpOptions)\r\n  }\r\n\r\n  deactivateModel(idClient: number) {\r\n    return this.http.post(`${this.endpoint}/deactivate-model`, {idClient}, httpOptions)\r\n  }\r\n\r\n  activateModel(idClient: number) {\r\n    return this.http.post(`${this.endpoint}/activate-model`, {idClient},  httpOptions)\r\n  }\r\n\r\n  countModelsBlocked() : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/count-model-blocked`, httpOptions)\r\n  }\r\n\r\n  getModelsBlocked(range: number, page: number, filter: string) : Observable<any>{\r\n    return this.http.get(`${this.endpoint}/list-model-blocked/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  getStatInscriptionModel() {\r\n    return this.http.get(`${this.endpoint}/stat-inscription-model`, httpOptions)\r\n  }\r\n\r\n  getStatSuppressionModel() {\r\n    return this.http.get(`${this.endpoint}/stat-suppression-model`, httpOptions)\r\n  }\r\n\r\n\r\n  getStatusModel(status: string, filter: string) {\r\n    return this.http.get(`${this.endpoint}/model-status/${status}/${filter}`, httpOptions)\r\n  }\r\n\r\n  countRequestsModel() {\r\n    return this.http.get(`${this.endpoint}/count-requests-models`, httpOptions)\r\n  }\r\n\r\n  getRequestsModel(motif: string, range: number, page: number, filter: string) {\r\n    return this.http.get(`${this.endpoint}/model-requests/${motif}/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  acceptRequestModel(idClient: number, accepted: boolean) {\r\n    const data = {\r\n      idClient,\r\n      accepted\r\n    }\r\n    return this.http.post(`${this.endpoint}/result-request-model`, data,  httpOptions)\r\n  }\r\n\r\n  acceptInscriptionModel(idClient: number, accepted: boolean, motif: string) {\r\n    const data = {\r\n      idClient,\r\n      accepted,\r\n      motif\r\n    }\r\n    return this.http.post(`${this.endpoint}/result-inscription-model`, data,  httpOptions)\r\n  }\r\n\r\n  getInfosModel(idClient) {\r\n    return this.http.get(`${this.endpoint}/getInfosModel/${idClient}`, httpOptions)\r\n  }\r\n\r\n  countModelActif() {\r\n    return this.http.get(`${this.endpoint}/countModelActif`, httpOptions)\r\n  }\r\n\r\n  countClientActif() {\r\n    return this.http.get(`${this.endpoint}/countClientActif`, httpOptions)\r\n  }\r\n\r\n  countModelState(state: string) {\r\n    return this.http.get(`${this.endpoint}/countModelState/${state}`, httpOptions)\r\n  }\r\n\r\n  newLastClients() {\r\n    return this.http.get(`${this.endpoint}/newLastClients`, httpOptions)\r\n  }\r\n\r\n  newLastModels() {\r\n    return this.http.get(`${this.endpoint}/newLastModels`, httpOptions)\r\n  }\r\n\r\n  countRoom(type) {\r\n    return this.http.get(`${this.endpoint}/countRoom/${type}`, httpOptions)\r\n  }\r\n\r\n  getChiffreAffaire() {\r\n    return this.http.get(`${this.endpoint}/getChiffreAffaire`, httpOptions)\r\n  }\r\n\r\n  getAverageClient() {\r\n    return this.http.get(`${this.endpoint}/getAverageClient`, httpOptions)\r\n  }\r\n\r\n  get10LastShowPrivate() {\r\n    return this.http.get(`${this.endpoint}/get10LastShowPrivate`, httpOptions)\r\n  }\r\n\r\n  get10LastShowTips() {\r\n    return this.http.get(`${this.endpoint}/get10LastShowTips`, httpOptions)\r\n  }\r\n\r\n  get10LastShowVIP() {\r\n    return this.http.get(`${this.endpoint}/get10LastShowVIP`, httpOptions)\r\n  }\r\n\r\n  get10LastShowChoiceUS() {\r\n    return this.http.get(`${this.endpoint}/get10LastShowChoiceUS`, httpOptions)\r\n  }\r\n\r\n  getTop10Model() {\r\n    return this.http.get(`${this.endpoint}/getTop10Model`, httpOptions)\r\n  }\r\n\r\n  getCreditActifsModels() {\r\n    return this.http.get(`${this.endpoint}/getCreditActifsModels`, httpOptions)\r\n  }\r\n\r\n  // Paiement\r\n  countPay() {\r\n    return this.http.get(`${this.endpoint}/countPay`, httpOptions)\r\n  }\r\n\r\n  getListPaiement(flux: string, range: number, page: number, filter: string) {\r\n    return this.http.get(`${this.endpoint}/getListPaiement/${flux}/${range}/${page}/${filter}`, httpOptions)\r\n  }\r\n\r\n  deletePaiement(idPay: number) {\r\n    return this.http.post(`${this.endpoint}/deletePaiement`, {idPay},  httpOptions)\r\n  }\r\n\r\n  getModelsActif() {\r\n    return this.http.get(`${this.endpoint}/getModelsActif`, httpOptions)\r\n  }\r\n\r\n\r\n  payCreditModel(idModel: number, pseudoModel: string, emailModel: string,\r\n    credit: number, lastPayement: string) {\r\n    const data = {\r\n      idModel,\r\n      pseudoModel,\r\n      emailModel,\r\n      credit,\r\n      lastPayement\r\n    }\r\n    return this.http.post(`${this.endpoint}/pay-credit-model`, data,  httpOptions)\r\n  }\r\n\r\n  payModel(idModel: number, pseudoModel: string, emailModel: string, credit: number) {\r\n    const data = {\r\n      idModel,\r\n      pseudoModel,\r\n      emailModel,\r\n      credit\r\n    }\r\n    return this.http.post(`${this.endpoint}/pay-model`, data,  httpOptions)\r\n  }\r\n\r\n  sendMail(email: string, objet: string, message: string) {\r\n    const data  = {\r\n      email,\r\n      objet,\r\n      message\r\n    }\r\n    return this.http.post(`${this.endpoint}/sendMail`, data,  httpOptions)\r\n  }\r\n\r\n  // Taboo\r\n  getTaboo() {\r\n    return this.http.get(`${this.endpoint}/list-taboo`, httpOptions)\r\n  }\r\n\r\n  deleteTaboo(idTaboo: number) {\r\n    return this.http.delete(`${this.endpoint}/delete-taboo/${idTaboo}`, httpOptions)\r\n  }\r\n\r\n  addTaboo(word: string) {\r\n    return this.http.post(`${this.endpoint}/add-taboo`, {word},  httpOptions)\r\n  }\r\n\r\n  // Special ADMIN\r\n  getInfosAdmin() {\r\n    return this.http.get(`${this.endpoint}/get-info-admin`, httpOptions)\r\n  }\r\n\r\n  updateInfoAdmin(pseudo: string, url: string) {\r\n    const data = {\r\n      pseudo,\r\n      url\r\n    }\r\n    console.log('Update service ', data)\r\n    return this.http.post(`${this.endpoint}/update-info-admin`, data,  httpOptions)\r\n  }\r\n\r\n  changePasswordAdmin(oldPassword: string, newPassword: string) {\r\n    const data = {\r\n      oldPassword,\r\n      newPassword\r\n    }\r\n    return this.http.post(`${this.endpoint}/change-password-admin`, data,  httpOptions)\r\n  }\r\n}\r\n","export interface InfoChat {\r\n  label: TypeInfoChat,\r\n  message: string\r\n}\r\n\r\nexport enum TypeInfoChat {\r\n  info = 'info',\r\n  join = 'join',\r\n  leave = 'leave'\r\n}\r\n","\n<app-infobar-admin title=\"Commission\" subTitle=\"Commission\"></app-infobar-admin>\n\n<div class=\"admin_container\">\n  <div class=\"admin_bottom_bar\">\n    COMMISSIONS\n  </div>\n\n  <div class=\"container-fluid\">\n    <table class=\"table table-responsive table-striped\">\n      <thead>\n        <tr>\n          <th>Pseudo</th>\n          <th>Ancien credit</th>\n          <th>Palier</th>\n          <th>Prime Credit</th>\n          <th>Nouveau Credit</th>\n          <th>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let item of commissions\">\n          <td>{{item.model.pseudo}}</td>\n          <td>{{item.commissionCredit}}</td>\n          <td>{{item.palierCredit}}</td>\n          <td>{{item.primeCredit}}</td>\n          <td>{{item.nouveauCredit}}</td>\n          <td>{{adminService.formatDate(item.createdAt)}}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CommissionService } from '../../../../../../services/commission/commission.service';\nimport { AdminService } from '../../../../../../services/admin/admin.service';\n\n@Component({\n  selector: 'app-commissions-model-admin',\n  templateUrl: './commissions-model-admin.component.html',\n  styleUrls: ['./commissions-model-admin.component.scss']\n})\nexport class CommissionsModelAdminComponent implements OnInit {\n  commissions = [];\n\n  constructor(\n    private commissionService: CommissionService,\n    public adminService: AdminService\n  ) { }\n\n  ngOnInit(): void {\n    this.getAllCommissions();\n  }\n\n  getAllCommissions() {\n    this.commissionService.getAllCommissions().subscribe(\n      (data) => {\n        console.log(data)\n        this.commissions = data;\n      }\n    )\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { ThumbnailsPosition } from 'ng-gallery';\r\n\r\n@Component({\r\n  selector: 'app-statistique-models-admin',\r\n  templateUrl: './statistique-models-admin.component.html',\r\n  styleUrls: ['./statistique-models-admin.component.scss']\r\n})\r\nexport class StatistiqueModelsAdminComponent implements OnInit {\r\n  years : number[] = []\r\n\r\n  actif: number = 0\r\n\r\n  options: any;\r\n  updating: boolean = false;\r\n  models = []\r\n  original = []\r\n  originModels = []\r\n  currentYear: number = new Date().getFullYear()\r\n  currentMonth: string = '01'\r\n\r\n  isIntegral: boolean = false\r\n\r\n\r\n  constructor(\r\n    private adminService: AdminService\r\n  ) {\r\n    this.options = {\r\n      autoSize: true,\r\n      data: this.getData(),\r\n      series: [\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'inscription',\r\n          yName: 'Inscription',\r\n          stroke: '#FB77FC',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#FB77FC',\r\n            stroke: '#FB77FC',\r\n          },\r\n        },\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'suppression',\r\n          yName: 'Suppression',\r\n          stroke: '#4E009F',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#4E009F',\r\n            stroke: '#4E009F',\r\n            color: '#fff'\r\n          },\r\n        }\r\n      ],\r\n      axes: [\r\n        {\r\n          type: 'category',\r\n          position: 'bottom',\r\n          nice: false,\r\n          // tick: { count: agCharts.time.second.every(3), color:  \"rgb(0, 0, 0)\"},\r\n          tick: { count: 0,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: '%m/%d/%Y', color:  \"rgb(0, 0, 0)\" },\r\n        },\r\n        {\r\n          type: 'number',\r\n          position: 'left',\r\n          tick: { count: 1,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: '#{.0f}', color:  \"#000\"}\r\n        }\r\n      ],\r\n      background: {\r\n        fill: \"#ffffff5f\",\r\n        visible: true\r\n      },\r\n      tooltip: {\r\n        enabled: true\r\n      },\r\n      navigator: {\r\n        enabled: true\r\n      },\r\n      title: { text: '' },\r\n      legend: {\r\n        position: 'bottom',\r\n        enabled: true,\r\n        item: {\r\n          label: {\r\n            color: 'black'\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initYears();\r\n    this.startUpdates();\r\n    this.useDefaultGridStyle();\r\n    this.countModelActif()\r\n    this.getInscriptions()\r\n  }\r\n\r\n  countModelActif() {\r\n    this.adminService.countModelActif().subscribe(\r\n      (data: number) => {\r\n        this.actif = data ? data : 0\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  initYears() {\r\n    const initial = 2021;\r\n    for(let i = 0; i < 50; i++ ) {\r\n      this.years.push(initial+i)\r\n    }\r\n  }\r\n\r\n  useDefaultGridStyle = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    var gridStyle = [\r\n      {\r\n        stroke: 'white',\r\n        lineDash: [2, 1],\r\n      },\r\n    ];\r\n    options.axes[0].gridStyle = gridStyle;\r\n    options.axes[1].gridStyle = gridStyle;\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  update = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    options.data = this.getData();\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  startUpdates = () => {\r\n    if (this.updating) {\r\n      return;\r\n    }\r\n    this.updating = true;\r\n    this.update();\r\n    setInterval(this.update, 1000);\r\n  };\r\n\r\n  getData() {\r\n    this.updating = false;\r\n    return this.models;\r\n  }\r\n\r\n  getInscriptions() {\r\n    this.originModels = []\r\n    this.adminService.getStatInscriptionModel().subscribe(\r\n      (data: any) => {\r\n        let tmp = data\r\n        tmp.forEach(inscrit => {\r\n          inscrit.date = this.adminService.formatDate(inscrit.date)\r\n          inscrit.count = parseInt(inscrit.count)\r\n          inscrit.inscription = parseInt(inscrit.count)\r\n          inscrit.suppression = 0\r\n        })\r\n        this.originModels = tmp\r\n        this.getSuppression()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getSuppression() {\r\n    this.adminService.getStatSuppressionModel().subscribe(\r\n      (data: any) => {\r\n        let tmp = data\r\n        tmp.forEach(inscrit => {\r\n          inscrit.date = this.adminService.formatDate(inscrit.date)\r\n          inscrit.count = parseInt(inscrit.count)\r\n          inscrit.inscription = 0\r\n          inscrit.suppression = parseInt(inscrit.count)\r\n          this.originModels.push(inscrit)\r\n        })\r\n        // console.log(this.originModels)\r\n        this.resume()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  selectMonth(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentMonth = value\r\n    const search = this.currentMonth+'/'+this.currentYear\r\n    this.models =  this.original.filter(element => {\r\n      const year = element.date.substring(3, 10)\r\n      if (year === search) return true\r\n      return false\r\n    })\r\n  }\r\n\r\n  selectYear(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentYear = value\r\n    this.models =  this.original.filter(element => {\r\n      const year = element.date.substring(6, 10)\r\n      if (year === this.currentYear) return true\r\n      return false\r\n    })\r\n  }\r\n\r\n  integral() {\r\n    this.isIntegral = !this.isIntegral\r\n    if (this.isIntegral) {\r\n        this.models = this.original\r\n    } else {\r\n        const search = this.currentMonth+'/'+this.currentYear\r\n        this.models =  this.original.filter(element => {\r\n          const year = element.date.substring(3, 10)\r\n          if (year === search) return true\r\n          return false\r\n      })\r\n    }\r\n  }\r\n\r\n  resume() {\r\n    let find = false\r\n    this.models = []\r\n    this.originModels.forEach(\r\n      element => {\r\n        find = false\r\n        for (let i = 0; i < this.models.length; i++) {\r\n          if (this.models[i].date === element.date) {\r\n            this.models[i].inscription += element.inscription\r\n            this.models[i].suppression += element.suppression\r\n            find = true\r\n          }\r\n        }\r\n        if (!find)this.models.push(element)\r\n      }\r\n    )\r\n    this.original = this.models\r\n  }\r\n}\r\n","<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    STATISTIQUES\r\n  </div>\r\n\r\n  <div class=\"main_bar container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-8 block_right\">\r\n        <div class=\"title_right\">\r\n          <select name=\"month\" id=\"month\" (change)=\"selectMonth($event)\">\r\n            <option value=\"01\">Janvier</option>\r\n            <option value=\"02\">Février</option>\r\n            <option value=\"03\">Mars</option>\r\n            <option value=\"04\">Avril</option>\r\n            <option value=\"05\">Mai</option>\r\n            <option value=\"06\">Juin</option>\r\n            <option value=\"07\">Juillet</option>\r\n            <option value=\"08\">Août</option>\r\n            <option value=\"09\">Septembre</option>\r\n            <option value=\"10\">Octobre</option>\r\n            <option value=\"11\">Novembre</option>\r\n            <option value=\"12\">Decembre</option>\r\n          </select>\r\n\r\n          <select name=\"year\" id=\"year\" (change)=\"selectYear($event)\">\r\n            <option [value]=\"year\" *ngFor=\"let year of years\">{{year}}</option>\r\n          </select>\r\n\r\n          <button class=\"btn btn_integrale\" (click)=\"integral()\"\r\n          [ngClass]=\"{'integral' : isIntegral}\">\r\n            Afficher l'intégrale\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"under_right\">\r\n          <div class=\"list_action_right\">\r\n            <button class=\"btn btn_list\" >\r\n              Nombre d'inscription\r\n            </button>\r\n            <button class=\"btn btn_list\">\r\n              Nombre de suppression\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <div class=\"col-lg-4 block_right block_right_left\">\r\n        <div class=\"title_right right_left\">\r\n          Nombre total de modèles\r\n        </div>\r\n        <div class=\"under_right right_left\">\r\n          <div class=\"list_action_right\">\r\n              {{actif}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"graph_right\">\r\n    <div class=\"wrapper\">\r\n      <ag-charts-angular\r\n        style=\"height: 70vh; width: 100%; overflow: hidden\"\r\n        [options]=\"options\"\r\n      ></ag-charts-angular>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket, ClientCam } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport * as $ from 'jquery';\r\nimport * as AOS from 'aos';\r\n\r\n// For Peer\r\nimport './../shim';\r\nimport Peer from \"peerjs\"\r\nimport { Subscription, Observable } from 'rxjs';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n\r\ninterface Stream {\r\n  clientId: number,\r\n  stream: MediaStream,\r\n  peerId: any,\r\n  isAudio: boolean,\r\n  isVideo: boolean\r\n}\r\n\r\n\r\n@Component({\r\n  selector: 'app-live-tips-clients-model',\r\n  templateUrl: './live-tips-clients-model.component.html',\r\n  styleUrls: ['./live-tips-clients-model.component.scss', './../../live/live.scss']\r\n})\r\nexport class LiveTipsClientsModelComponent implements OnInit {\r\n  context: string = \"LIVE TIPS\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n  isToggledTool: boolean = false;\r\n\r\n  info = {\r\n    bg : \"assets/logos/dark-light.jpg\",\r\n    message : '',\r\n    idRoom: 0,\r\n    pseudo: '',\r\n    chatColor:'#FB77FC',\r\n    modelId: 0,\r\n    actif: 0,\r\n    creditModel: 0,\r\n    idCreditModel: 0,\r\n    gain: 0,\r\n    tips: [],\r\n    descriptions: []\r\n  }\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  clientId: number = null;\r\n\r\n  clients: ClientCam[] = [];\r\n\r\n  clientStream: Stream[] = [];\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  askModelStreamSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  newTipsSub = new Subscription();\r\n\r\n  stat = {\r\n    id_show: 0,\r\n    type_show : null,\r\n    tarif_show: 0,\r\n    time_show: 0,\r\n    time_passed : this.timer.hour + ':' + this.timer.minute + ':' + this.timer.second,\r\n    hour_passed : null,\r\n    minute_passed : null,\r\n    second_passed : null,\r\n    actualCredit: this.info.creditModel,\r\n    winCredit: 0,\r\n    totalCredit: this.info.creditModel\r\n  }\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  loading: boolean = false;\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  roomId = null;\r\n\r\n  sound_notification: boolean;\r\n  sound_message: boolean;\r\n\r\n\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string;\r\n  private lazyStream: MediaStream;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private modelService: ModelService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private profilService: ProfilService,\r\n    private popupService: PopupService,\r\n    private creditService: CreditService,\r\n    private timerService: TimerService,\r\n    private profileService: ProfilService,\r\n    private roomTipsService: RoomTipsService) {\r\n      this.peer = new Peer();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    this.verifySound();\r\n    this.getInfo();\r\n    this.initLiveVideo();\r\n    $(document).ready(\r\n      function() {\r\n        initSettingVideoModel();\r\n      }\r\n    );\r\n  }\r\n\r\n  toggleTool(value) {\r\n    this.isToggledTool = value;\r\n  }\r\n\r\n  verifySound() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data.setting);\r\n        this.sound_notification = data.setting.sound_notification === 1 ? true : false;\r\n        this.sound_message = data.setting.sound_message === 1 ? true : false;\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    clearInterval(this.timer.timer);\r\n    this.onStop();\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.askModelStreamSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n    this.newTipsSub.unsubscribe();\r\n  }\r\n\r\n  getInfo() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log('Get info ', data);\r\n        if (data.profile.status === 'En vip') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/live-vip']);\r\n        }\r\n        if (data.profile.status === 'En ligne') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/chat']);\r\n        }\r\n        if (data.profile.status === 'En live choice') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/live-choice-us']);\r\n        }\r\n        this.info.bg = data.path_soft;\r\n        this.info.modelId = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.getInfoRoom();\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomTipsService.getRoomModel(this.info.modelId).subscribe(\r\n      async (data) => {\r\n        // console.log('Model room ', data);\r\n        if (data.status !== 'open') {\r\n          this.popupService.info(null, 'LIVE FERME', 'Ce room est fermé');\r\n          return null;\r\n        }\r\n        this.info.idRoom = data.id;\r\n        this.roomId = data.id+'T';\r\n        this.info.gain = data.gain;\r\n        this.info.tips = data.tips.split(\"~\").map(Number);\r\n        this.info.descriptions = data.descriptions.split(\"~\");\r\n        this.getCredit();\r\n        this.initSocket();\r\n        this.getActifRoom();\r\n      }\r\n    )\r\n  }\r\n\r\n  async getActifRoom() {\r\n    this.roomTipsService.getActifs(this.info.idRoom).subscribe(\r\n      (data: any[]) => {\r\n        // console.log('Actifs ', data);\r\n        this.info.actif = data ? data.length : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getStatRoom(idRoom: number) {\r\n    if (!idRoom || idRoom === 0) return null;\r\n    this.roomTipsService.getStatRoom(this.info.idRoom).subscribe(\r\n      (data: {actif: number, gain: number}) => {\r\n        if (!data) return null;\r\n        this.info.gain = data.gain;\r\n      }\r\n    )\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data) => {\r\n        this.info.creditModel = data ? data.credit : 0;\r\n        this.info.idCreditModel = data ? data.id : 0;\r\n      }\r\n    );\r\n\r\n    // Launch the timer\r\n    this.initTimer();\r\n  }\r\n\r\n  initSocket() {\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.info.idRoom}T`).subscribe(\r\n      (data: {actif: number, clientId: number, clientPseudo: string}) => {\r\n        // console.log('joined ', data);\r\n        this.getActifRoom();\r\n        if (this.sound_notification) {\r\n          this.socketService.soundIncome();\r\n        }\r\n    }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.info.idRoom}T`).subscribe(\r\n      (data: {clientId: number, clientPseudo: string}) => {\r\n        this.getActifRoom();\r\n        if (this.sound_notification) {\r\n          this.socketService.soundOutcome();\r\n        }\r\n        // console.log('leaved ', data);\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.info.idRoom}T`).subscribe(\r\n      (data: Chat) => {\r\n        // this.socketService.soundOutcome();\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.newTipsSub = this.socketService.listen(`new tips ${this.info.idRoom}T`).subscribe(\r\n      (data: {symbole: string, credit: number, designation: string, vip: boolean}) => {\r\n        // console.log('new tips ', data);\r\n        if (data.credit) {\r\n          this.info.creditModel += data.credit;\r\n        }\r\n        this.getStatRoom(this.info.idRoom);\r\n        this.socketService.soundIncome();\r\n    });\r\n\r\n    this.peerSub = this.socketService.listen(`ask peerId ${this.info.idRoom}T`).subscribe(\r\n      async (data: {room: string, clientId: number, clientPseudo: string}) => {\r\n        console.log('Ask peer Id ', data);\r\n        if (!this.peerId) await this.getPeerId();\r\n        this.socketService.ansModelPeerId({\r\n          peerId: this.peerId, room: this.info.idRoom+'T', clientId: data.clientId\r\n        });\r\n      }\r\n    );\r\n\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.info.idRoom}T`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n          if (data.clientId) {\r\n            console.log('Toggle audio from ', data.clientId);\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.info.idRoom}T`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.getMessages();\r\n  }\r\n\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.info.idRoom, 'tips').subscribe(\r\n      (data) => {\r\n        // console.log('Messages ', data);\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.info.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.info.idRoom,\r\n      message: this.info.message,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'tips',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.info.idRoom + 'T',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      message: this.info.message,\r\n      idRoom: this.info.idRoom,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'tips',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.info.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  async liveOut() {\r\n    this.loading = true;\r\n    // const room = this.store.get('privateRoomId');\r\n    this.onStop();\r\n    this.leaved = true;\r\n    await (await this.leaveTimer()).subscribe(\r\n      (data) => {\r\n        this.timer.reinit = true;\r\n        this.clearTimer(); // set to zero\r\n        this.socketService.leaveTips(this.info.idRoom, 'model', this.info.modelId);\r\n        // this.roomPrivateService.leaveRoom();\r\n        this.profilService.updateStatus(this.info.modelId, 'En ligne').subscribe(\r\n          (data) => {\r\n            this.loading = false;\r\n            window.location.href = '/modele/chat';\r\n            // this.router.navigate(['/modele/chat']);\r\n            // setTimeout(\r\n            //   () => {\r\n            //     window.location.reload();\r\n            //   }, 200\r\n            // );\r\n          }\r\n        )\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  // Timer\r\n  async initTimer() {\r\n      this.timerService.beginTimerModel(this.info.modelId, TypeTimer.TIPS).subscribe(\r\n        async (data) => {\r\n          // console.log('Timer ', data);\r\n          const created: Date = data.createdAt;\r\n          const updated: Date = data.updatedAt;\r\n          this.timer.id = data.id;\r\n          // console.log(created.toString(), \" to \", updated.toString());\r\n          const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n          this.timer.hour = hour;\r\n          this.timer.minute = minute;\r\n          this.timer.second = second;\r\n          // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n\r\n        }\r\n      )\r\n  }\r\n\r\n  beginCountCredit(nbSecond: number) {\r\n    const delay = nbSecond * 1000;\r\n    this.timer.timer = setInterval(\r\n      () => {\r\n        if (this.info.actif > 0) {\r\n          this.creditService.getCredit().subscribe(\r\n            (data) => {\r\n              this.info.creditModel = data ? data.credit : 0;\r\n            }\r\n          );\r\n        }\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.TIPS,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n    // WEB RTC - LIVE VIDEO\r\n    initLiveVideo() {\r\n      this.onStart();\r\n      this.getPeerId();\r\n    }\r\n\r\n    onStart(){\r\n      if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n        navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n          this.lazyStream = ms;\r\n          this.video.nativeElement.srcObject = this.lazyStream;\r\n          $('#video_live_model').prop('volume', 0)\r\n        });\r\n      }\r\n    }\r\n\r\n    onStop() {\r\n      if (this.video && this.video.nativeElement.srcObject) {\r\n        this.video.nativeElement.pause();\r\n        if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n          (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n        }\r\n        this.video.nativeElement.srcObject = null;\r\n      }\r\n      if (this.lazyStream) {\r\n        this.lazyStream.getTracks().forEach(\r\n          (track) => {\r\n            track.stop();\r\n          }\r\n        );\r\n      }\r\n      this.lazyStream = null;\r\n    }\r\n\r\n  private getPeerId = () => {\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n      const data = {\r\n        role: 'model',\r\n        modelId: this.info.modelId,\r\n        room : this.info.idRoom+'T',\r\n        peerId: this.peerId\r\n      }\r\n      this.socketService.newPeerIdModel(data);\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log(\"Someone call model\");\r\n      call.answer(this.lazyStream);\r\n      console.log(\"After answer stream\");\r\n      call.on('stream', (remoteStream) => {\r\n        console.log(\"On receive stream in model\");\r\n        if (!this.peerList.includes(call.peer)) {\r\n          this.streamRemoteVideo(remoteStream, call.peer);\r\n          this.currentPeer = call.peerConnection;\r\n          this.peerList.push(call.peer);\r\n        }\r\n        console.log(\"Peer list \", this.peerList);\r\n      });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream, call.peer);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n  }\r\n\r\n  private callClient(clientId: number, peerId: any): void {\r\n    const call = this.peer.call(peerId, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream, call.peer, clientId);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n  }\r\n\r\n  removeStream(clientId: number) {\r\n    // console.log('Remove stream ', clientId)\r\n    const index = this.clientStream.findIndex(element => element.clientId === clientId)\r\n    // console.log(index)\r\n    // console.log(this.clientStream)\r\n    this.clientStream.splice(index, 1)\r\n  }\r\n\r\n  private streamRemoteVideo(stream: any, peerId: any, clientId?: number): void {\r\n    console.log('Add remote stream client ', stream);\r\n    // const video = document.createElement('video');\r\n    // video.classList.add('video');\r\n    // video.srcObject = stream;\r\n    // video.play();\r\n\r\n    // document.getElementById('remote-video').append(video);\r\n    // this.clients[0].client.stream = stream;\r\n    let id = null;\r\n    if (!clientId) {\r\n      id = this.clientStream.length;\r\n    } else {\r\n      id = clientId;\r\n    }\r\n\r\n    if (this.clientStream.length < 5) {\r\n      this.clientStream.push({\r\n        clientId: id,\r\n        stream: stream,\r\n        peerId,\r\n        isAudio: true,\r\n        isVideo: true\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n    this.clientStream.forEach(\r\n      (stream) => {\r\n        if (stream.peerId === peerId) {\r\n          stream.isAudio = isAudio\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n    this.clientStream.forEach(\r\n      (stream) => {\r\n        if (stream.peerId === peerId) {\r\n          stream.isVideo = isVideo\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n      });\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n      });\r\n    }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'T';\r\n    this.socketService.toggleVideo(room, null, this.peerId, this.info.modelId, this.showVideo);\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n    // this.onStop();\r\n    // this.onStart();\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n    const room = this.info.idRoom+'T';\r\n    this.socketService.toggleAudio(room, null, this.peerId, this.info.modelId, this.showAudio);\r\n  }\r\n\r\n    // -------- EMOJI -----------------\r\n\r\n    toggleEmojiPicker() {\r\n      this.showEmojiPicker = !this.showEmojiPicker;\r\n    }\r\n\r\n    addEmoji(event) {\r\n      const {info} = this;\r\n      // console.log(this.info.message);\r\n      // console.log(`${event.emoji.native}`);\r\n      let text = '';\r\n      if (this.info.message) {\r\n        text = `${info.message}${event.emoji.native}`;\r\n      } else {\r\n        text = `${event.emoji.native}`;\r\n      }\r\n      this.info.message = text;\r\n      // console.log(this.info.message)\r\n      // this.showEmojiPicker = false;\r\n    }\r\n\r\n    focus() {\r\n      this.showEmojiPicker = false;\r\n    }\r\n\r\n\r\n}\r\n","<app-header connected=\"true\" model=\"true\"></app-header>\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <app-topbar-model [context]=\"context\" [actif]=\"info.actif\"\r\n      [hour]=\"this.timer.hour\"\r\n      [minute]=\"this.timer.minute\"\r\n      [second]=\"this.timer.second\"\r\n      [reinit]=\"this.timer.reinit\"\r\n      [leaved]=\"leaved\"\r\n      (newItemEvent)=\"toggleTool($event)\"\r\n      ></app-topbar-model>\r\n\r\n      <app-gauge-bar [tips]=\"info.tips\" [descriptions]=\"info.descriptions\" [gain]=\"info.gain\"\r\n      [pseudoModel]=\"info.pseudo\"></app-gauge-bar>\r\n\r\n      <div class=\"show_live_left show_live_left_model\" style=\"background-color: var(--blue3);\">\r\n        <figure id=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls autoplay id=\"video_live_model\" #video_live_model muted=\"muted\"></video>\r\n        </figure>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Informations TIPS\">\r\n            <app-stat-tips-model\r\n            [tips]=\"info.tips\" [descriptions]=\"info.descriptions\" [gain]=\"info.gain\"\r\n            [pseudoModel]=\"info.pseudo\">\r\n            </app-stat-tips-model>\r\n          </mat-tab>\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"info.modelId\"\r\n            [messages]=\"messages\" [profil]=\"info.bg\"\r\n            showMenu=\"true\" [roomId]=\"roomId\"\r\n            isModel=\"true\" [clientId]=\"0\"></app-live-free-chat>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"contain_action contain_action_desktop\" style=\"height: 10vh;\">\r\n\r\n        <div class=\"btn_credit\" style=\"height: 50px;padding: 15px;\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show btn_tips lighter\" style=\"height: 50px;padding: 15px;\">\r\n            {{info.gain}} TIPS\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" style=\"height: 50px;padding: 15px;\"\r\n          (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"info.message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","window.parcelRequire = undefined;\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ClientService } from '../../../services/client/client.service';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Component({\r\n  selector: 'app-reactivate-account',\r\n  templateUrl: './reactivate-account.component.html',\r\n  styleUrls: ['./reactivate-account.component.scss']\r\n})\r\nexport class ReactivateAccountComponent implements OnInit {\r\n  endpoint = environment.endpoint\r\n\r\n  token = null;\r\n  errorToken: boolean = false;\r\n  errorMessageToken: string = null;\r\n  successMessageToken: string = null;\r\n\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private store: LocalStorageService,\r\n    private router: Router,\r\n    private notificationService: NotificationService,\r\n    private clientService: ClientService\r\n    ) {\r\n    this.activatedRoute.queryParams.subscribe(params => {\r\n          this.token = params['token'];\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.confirmToken();\r\n  }\r\n\r\n  confirmToken() {\r\n    if (!this.token) {\r\n      this.errorToken = true;\r\n      this.errorMessageToken = \"Token introuvable\"\r\n      return false;\r\n    }\r\n    this.store.set(\"token\", this.token);\r\n\r\n    // POST client/confirm\r\n    this.clientService.reactivateAccount().subscribe(\r\n      (data: {success: boolean, message: string}) => {\r\n        // console.log(\"Client token \", data);\r\n        if (!data.success) {\r\n          this.errorMessageToken = data.message;\r\n          this.errorToken = true;\r\n        } else {\r\n          this.errorToken = false;\r\n          this.successMessageToken = data.message;\r\n          this.notificationService.infoMsg(\"Votre compte est réactivé\");\r\n          this.router.navigate(['/client/connexion']);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"main\"></div>\r\n\r\n<div class=\"main_token\">\r\n  <div class=\"main_contain\">\r\n    <h3 class=\"titre\">Réactivation de compte</h3>\r\n    <p class=\"success message\" *ngIf=\"!errorToken\">\r\n      {{successMessageToken}}\r\n    </p>\r\n    <p class=\"error message\" *ngIf=\"errorToken\">\r\n      {{errorMessageToken}}\r\n    </p>\r\n  </div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","<app-header actif=\"2\"></app-header>\r\n\r\n<div class=\"contain_signin_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>Bienvenue sur <span class=\"word_one\">BETWEEN</span><span class=\"word_two\">US</span></h2>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signin_two inside_sign\">\r\n  <h2 class=\"title\">\r\n    Se connecter\r\n  </h2>\r\n\r\n  <div class=\"descr\">\r\n      Nous utilisons des cookies pour améliorer votre expérience\r\n      d'utilisateur. En poursuivant votre navigation, vous acceptez\r\n      l'utilisation de cookies, notamment de tiers. Politique relative aux cookies.\r\n  </div>\r\n\r\n  <form class=\"form\" [formGroup]=\"loginForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Adresse email</label>\r\n      <input type=\"text\" formControlName=\"pseudo\" name=\"pseudo\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.pseudo.errors\">\r\n        <small *ngIf=\"form.pseudo.errors.required\" class=\"form-text error-text\">Email requis</small>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe</label>\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.password.errors\">\r\n        <small *ngIf=\"form.password.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n      <small *ngIf=\"errorAuth\" class=\"form-text error-text\">\r\n        {{errorAuth}}\r\n      </small>\r\n\r\n    <div class=\"options\">\r\n      <div class=\"stay_connected\">\r\n        <input (change)=\"remember($event)\" type=\"checkbox\" id=\"checker\" class=\"regular-checkbox\">\r\n        <label for=\"checker\" class=\"label_check\">Se souvenir de moi</label>\r\n      </div>\r\n      <div class=\"forgot\" routerLink=\"/motdepasseoublie\">\r\n        Mot de passe oublié ?\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signin lighter\" (click)=\"login($event)\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">CONNEXION</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"register\">\r\n      Pas encore membre ? <span routerLink=\"/client/inscription\">Inscrivez-vous</span>\r\n    </div>\r\n  </form>\r\n\r\n  <br><br><br>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { EncryptionService } from './../../../services/encryption/encryption.service';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HeaderService } from '../../../services/header/header.service';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { loginUser } from '../../../interfaces/login.interface';\r\nimport * as $ from 'jquery';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { LogService } from 'src/app/services/log/log.service';\r\nimport { RoomService } from 'src/app/services/room/room.service';\r\n\r\n@Component({\r\n  selector: 'app-signin',\r\n  templateUrl: './signin.component.html',\r\n  styleUrls: ['./signin.component.scss']\r\n})\r\nexport class SigninComponent implements OnInit {\r\n  loginForm : FormGroup;\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n  checked :boolean =  false;\r\n  pseudoStorage : string = null;\r\n  passStorage : string = null;\r\n  errorAuth  :boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private encryptionService: EncryptionService,\r\n    private headerSrv: HeaderService,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private logService: LogService,\r\n    private roomService: RoomService\r\n  ) {\r\n    this.loginForm = this.formBuilder.group({\r\n      pseudo: ['', Validators.required],\r\n      password: ['', Validators.required]\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifyToken();\r\n    this.isRemembered();\r\n  }\r\n\r\n  verifyToken() {\r\n    let token = this.store.get(\"token\");\r\n    this.authService.verifyToken(token).subscribe(\r\n      (data: any) => {\r\n        if (data.role === 'client') {\r\n          this.router.navigateByUrl(\"client/accueil/registered\");\r\n        } else if (data.role === 'model') {\r\n          this.router.navigateByUrl(\"modele/profile\");\r\n        }\r\n      }, (error) => {\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  get form() { return this.loginForm.controls }\r\n\r\n  remember(value) {\r\n    if (value.target.checked) {\r\n        this.checked = true;\r\n        localStorage.setItem(\"checklog\", \"true\");\r\n    } else {\r\n        this.checked = false;\r\n        localStorage.setItem(\"checklog\", \"false\");\r\n    }\r\n  }\r\n\r\n  async isRemember(user: loginUser) {\r\n    if (localStorage.getItem(\"checklog\") === \"true\") {\r\n        const pseudoCrypted = this.encryptionService.encryptUsingAES256(user.pseudo);\r\n        const passCrypted = this.encryptionService.encryptUsingAES256(user.password);\r\n        localStorage.setItem(environment.CRYPT_PSEUDO.toString(), pseudoCrypted);\r\n        localStorage.setItem(environment.CRYPT_PASS.toString(), passCrypted);\r\n    } else {\r\n        localStorage.setItem(environment.CRYPT_PSEUDO, null);\r\n        localStorage.setItem(environment.CRYPT_PASS, null);\r\n    }\r\n  }\r\n\r\n  isRemembered() {\r\n    const pseudoStorage = localStorage.getItem(environment.CRYPT_PSEUDO) ? localStorage.getItem(environment.CRYPT_PSEUDO) : null;\r\n    const passStorage = localStorage.getItem(environment.CRYPT_PASS) ? localStorage.getItem(environment.CRYPT_PASS) : null;\r\n    if (pseudoStorage && passStorage) {\r\n      this.pseudoStorage = this.encryptionService.decryptUsingAES256(pseudoStorage);\r\n      this.passStorage = this.encryptionService.decryptUsingAES256(passStorage);\r\n\r\n      this.pseudoStorage = this.pseudoStorage.replace(/['\"]+/g, '');\r\n      this.passStorage = this.passStorage.replace(/['\"]+/g, '');\r\n\r\n      this.loginForm.setValue({\r\n            pseudo: this.pseudoStorage,\r\n            password: this.passStorage\r\n      })\r\n    }\r\n\r\n    if (localStorage.getItem(\"checklog\") === \"true\")\r\n      $('#checker').prop('checked', true);\r\n    else\r\n      $('#checker').prop('checked', false);\r\n  }\r\n\r\n\r\n  async login(event) {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n    if (this.loginForm.invalid) {return false;}\r\n    this.loading = true;\r\n    let user: loginUser = this.loginForm.value;\r\n    await this.authService.loginClient(user).subscribe(\r\n      (res: any) => {\r\n          // console.log(res);\r\n          if (res.error) {\r\n            this.errorAuth = res.message;\r\n            this.loading = false;\r\n          } else {\r\n            this.errorAuth = null;\r\n            if (res.role && res.role === 'client' && res.access_token) {\r\n              this.authService.saveToken(res.access_token, res.id).then(\r\n                () => {\r\n                  this.isRemember(user).then(\r\n                    () => {\r\n                      this.loading = false;\r\n                      this.router.navigate(['/client/accueil/registered']);\r\n                    }\r\n                  );\r\n                }\r\n              );\r\n            } else if (res.access_token) {\r\n              this.authService.saveToken(res.access_token).then(\r\n                () => {\r\n                  this.logService.createLog(\"connection\").subscribe(\r\n                    (data) => {\r\n                      this.isRemember(user).then(\r\n                        () => {\r\n                          this.roomService.createRoom().subscribe(\r\n                            (data) => {\r\n                              this.store.set(\"room\", data.room);\r\n                              this.loading = false;\r\n                              this.router.navigate(['/modele/profile']);\r\n                            }\r\n                          )\r\n                        }\r\n                      );\r\n                    }, (error) => {\r\n                      this.loading = false;\r\n                      console.log(error);\r\n                    }\r\n                  );\r\n                }\r\n              );\r\n            }\r\n          }\r\n      },\r\n      (err: any) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n      }\r\n    );\r\n\r\n    return true;\r\n}\r\n\r\n}\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"XhEF\";","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Information } from '../../interfaces/model-information.interface';\r\nimport { Setting } from '../../interfaces/setting.interface';\r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfilService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getProfil(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/profile`, httpOptions)\r\n  }\r\n\r\n  getSpecificProfil(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/profile/${id}`, httpOptions)\r\n  }\r\n\r\n  createProfil(id: number): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/profile/create/${id}`,{id}, httpOptions)\r\n  }\r\n\r\n  updateProfil(profile: Information) {\r\n    return this.http.patch(`${this.endpoint}/profile/${profile.id}`, profile, httpOptions)\r\n  }\r\n\r\n  updateStatus(modelId: number, status: string) {\r\n    const data = {\r\n      status\r\n    }\r\n    return this.http.patch(`${this.endpoint}/profile/${modelId}`, data, httpOptions)\r\n  }\r\n\r\n  getInfo(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/setting/info`, httpOptions)\r\n  }\r\n\r\n  getSetting(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/setting`, httpOptions)\r\n  }\r\n\r\n  updateSetting(setting: Setting) {\r\n    return this.http.patch(`${this.endpoint}/setting/${setting.id}`, setting, httpOptions)\r\n  }\r\n\r\n  updateInfo(info: any) {\r\n    return this.http.patch(`${this.endpoint}/setting/model`, info, httpOptions)\r\n  }\r\n\r\n  createSetting(id: number): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/setting/create/${id}`,{id}, httpOptions)\r\n  }\r\n\r\n  updatePhoto(formData: FormData): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/upload/profile`, formData, {\r\n        reportProgress: true,\r\n        observe: 'events'\r\n    });\r\n  }\r\n\r\n  changePassword(data: any): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/setting/password/`,data, httpOptions)\r\n  }\r\n\r\n  getCredential(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/profile/credential`, httpOptions)\r\n  }\r\n\r\n  requestModel(motif: string) {\r\n    return this.http.post(`${this.endpoint}/profile/request-model`,{motif} , httpOptions)\r\n  }\r\n\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { GetModel } from '../../interfaces/get-model.interface';\r\n\r\ninterface model {\r\n  url: string,\r\n  name: string\r\n}\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ModelService {\r\n  endpoint = environment.endpoint\r\n\r\n\r\n  live: model [] = [\r\n    {url: 'assets/images/image3.jpg', name: 'Roddy'},\r\n    {url: 'assets/images/image2.jpg', name: 'Monica'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Monica'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'}\r\n  ];\r\n\r\n  chat: model [] = [\r\n    {url: 'assets/images/image2.jpg', name: 'Monica'},\r\n    {url: 'assets/images/image2.jpg', name: 'Monica'},\r\n    {url: 'assets/images/image2.jpg', name: 'Angelina'},\r\n    {url: 'assets/images/image2.jpg', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image2.jpg', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'}\r\n  ];\r\n\r\n  offline: model [] = [\r\n    {url: 'assets/images/image3.jpg', name: 'Angelina'},\r\n    {url: 'assets/images/image3.jpg', name: 'Monica'},\r\n    {url: 'assets/images/image.png', name: 'Angelina'}\r\n  ];\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getTotalLive() {\r\n    return this.live.length;\r\n  }\r\n\r\n  getTotalChat() {\r\n    return this.chat.length;\r\n  }\r\n\r\n  getTotalOffline() {\r\n    return this.offline.length;\r\n  }\r\n\r\n  getModelProfil(context: string, debut: number, marge: number) {\r\n    var tmp = [];\r\n    switch (context) {\r\n      case 'live':\r\n      tmp = this.live.slice(debut, debut + marge);\r\n      break;\r\n\r\n      case 'chat':\r\n        tmp = this.chat.slice(debut, debut + marge);\r\n        break;\r\n\r\n      case 'offline':\r\n        tmp = this.offline.slice(debut, debut + marge);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    return tmp;\r\n  }\r\n\r\n  getAll(context: string) {\r\n    var tmp = [];\r\n    switch (context) {\r\n      case 'live':\r\n        tmp =  [...this.live];\r\n        break;\r\n\r\n      case 'chat':\r\n        tmp =  [...this.chat];\r\n        break;\r\n\r\n      case 'offline':\r\n        tmp =  [...this.offline];\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n    return tmp;\r\n  }\r\n\r\n  // return live, chat, offline\r\n  count(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/model/total`, httpOptions);\r\n  }\r\n\r\n  // return array Model\r\n  getList(data: GetModel): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/model/list`, data, httpOptions)\r\n  }\r\n\r\n  getModel(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/model/${id}`, httpOptions);\r\n  }\r\n\r\n  getInfo(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/model/info`, httpOptions);\r\n  }\r\n\r\n  getLive(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/model/live`, httpOptions);\r\n  }\r\n\r\n  getNoLive(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/model/nolive`, httpOptions);\r\n  }\r\n\r\n  forgot(email : string) : Observable<any>{\r\n    const options = {\r\n      email : email\r\n    }\r\n    return this.http.post(`${this.endpoint}/model/forgot`, options, httpOptions)\r\n  }\r\n\r\n  reinitPassword(userId: number, password: string) : Observable<any>{\r\n    const options = {\r\n      id : userId,\r\n      newPassword: password\r\n    }\r\n    return this.http.post(`${this.endpoint}/model/reinitPassword`, options, httpOptions)\r\n  }\r\n\r\n  changePseudo(pseudo: string) {\r\n    const data = {\r\n      pseudo\r\n    }\r\n    return this.http.post(`${this.endpoint}/model/changePseudo`, data, httpOptions)\r\n  }\r\n\r\n\r\n}\r\n","\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'safe'\r\n})\r\nexport class SafePipe implements PipeTransform {\r\n\r\n  constructor(private sanitizer: DomSanitizer) { }\r\n  transform(url) {\r\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-paiement',\r\n  templateUrl: './paiement.component.html',\r\n  styleUrls: ['./paiement.component.scss']\r\n})\r\nexport class PaiementComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable, throwError } from \"rxjs\";\r\n\r\nimport { catchError, retry } from \"rxjs/operators\";\r\nimport { Router } from \"@angular/router\";\r\nimport { NotificationService } from '../notification/notification.service';\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor{\r\n\r\n    constructor(\r\n      private authService : AuthService,\r\n      public router : Router,\r\n      private notificationService: NotificationService){\r\n    }\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        const token = this.authService.getToken()\r\n        const credentialPay = 'MWMxYjI4ZjItYTg0Yi00YjMwOlZKZXpOWFY5V3o='\r\n        let header = req.headers\r\n\r\n        if ( this.authService.isConnected )\r\n        {\r\n            // if (this.authService.paying) {\r\n            //   req = req.clone({\r\n            //     setHeaders : {\r\n            //         Authorization : 'Basic '+ credentialPay\r\n            //     }\r\n            //   });\r\n            // } else {\r\n            //   req = req.clone({\r\n            //     setHeaders : {\r\n            //         Authorization : 'Bearer '+ token\r\n            //     }\r\n            // });\r\n            // }\r\n            req = req.clone({\r\n                setHeaders : {\r\n                    Authorization : 'Bearer '+ token\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(req)\r\n        .pipe(\r\n            retry(1),\r\n            catchError((error : HttpErrorResponse)=>{\r\n                // let errorMessage = '';\r\n\r\n                    if(error.error.statusCode == 400){\r\n                      // this.notificationService.errorMsg(error.error.message);\r\n                      console.log(error.error.message);\r\n                    } else if(error.error.statusCode == 401){\r\n                      // this.notificationService.errorMsg('Accès refusé');\r\n                      // this.router.navigateByUrl(\"accueil\")\r\n                    } else {\r\n                      // this.notificationService.errorMsg(\"Erreur lors de la connexion au serveur\");\r\n                      console.log('Erreur lors de la connexion au serveur')\r\n                    }\r\n                //     if(error.status == 500){\r\n                //         // this.router.navigateByUrl(\"connexion\")\r\n                //         // this.dialogService.erreur('500');\r\n                //     }\r\n                //     if (error.error instanceof ErrorEvent) {\r\n                //         // client-side error\r\n                //         errorMessage = `Error: ${error.error.message}`;\r\n                //     }\r\n                    console.log('Erreur interceptor ', error.error);\r\n                    return throwError(error);\r\n            })\r\n        )\r\n\r\n    }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { NotificationService } from '../../../../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-message-admin',\r\n  templateUrl: './message-admin.component.html',\r\n  styleUrls: ['./message-admin.component.scss']\r\n})\r\nexport class MessageAdminComponent implements OnInit {\r\n  error: string = null\r\n  messageForm : FormGroup;\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    private notificationService: NotificationService,\r\n    private formBuilder: FormBuilder\r\n  ) {\r\n    this.messageForm = this.formBuilder.group({\r\n      email: ['', Validators.required],\r\n      objet: ['', Validators.required],\r\n      message: ['', Validators.required]\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  sendMail() {\r\n    this.error = null\r\n    if (this.messageForm.invalid) {\r\n      this.error = 'Veuillez compléter les champs'\r\n      return false;\r\n    }\r\n    let message = this.messageForm.value;\r\n\r\n      this.adminService.sendMail(message.email, message.objet, message.message).subscribe(\r\n        (data: any) => {\r\n          if (data.success) {\r\n            this.notificationService.info('Message', `Envoyé à ${message.email}`)\r\n          }\r\n        }, (error) => {\r\n          console.log(error)\r\n        }\r\n      )\r\n  }\r\n\r\n}\r\n","\r\n<app-infobar-admin title=\"Administration\" subTitle=\"Administration\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    MESSAGE\r\n  </div>\r\n\r\n  <div class=\"form_paiement\">\r\n    <div class=\"title_paiement\">\r\n      Envoi de Message\r\n    </div>\r\n\r\n    <div class=\"form\" [formGroup]=\"messageForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input formControlName=\"email\" type=\"email\" class=\"form-control\" name=\"email\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"objet\">Objet</label>\r\n        <input formControlName=\"objet\" type=\"text\" class=\"form-control\" name=\"objet\">\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label for=\"message\">Message</label>\r\n        <textarea formControlName=\"message\" class=\"form-control\" name=\"message\"></textarea>\r\n      </div>\r\n\r\n      <div class=\"contain_error\">\r\n        <p class=\"error\" *ngIf=\"error\">\r\n          {{error}}\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"contain_save\">\r\n      <button class=\"btn_save\" (click)=\"sendMail()\">\r\n        Envoyer\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { SafePipe } from './pipes/safe.pipe';\r\nimport { AuthService } from './services/auth/auth.service';\r\nimport { NotificationService } from './services/notification/notification.service';\r\nimport { EncryptionService } from './services/encryption/encryption.service';\r\nimport { DisconnectedComponent } from './layouts/header/disconnected/disconnected.component';\r\nimport { ConnectedComponent } from './layouts/header/connected/connected.component';\r\nimport { HeaderComponent } from './layouts/header/header.component';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, LOCALE_ID, NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { EnterComponent } from './components/client/enter/enter.component';\r\nimport { SignupComponent } from './components/client/signup/signup.component';\r\nimport { SigninComponent } from './components/client/signin/signin.component';\r\nimport { HeaderService } from './services/header/header.service';\r\nimport { DashboardComponent } from './components/modele/dashboard/dashboard.component';\r\nimport { ProfilComponent } from './components/client/profil/profil.component';\r\n\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\n\r\nimport { PasswordComponent } from './components/client/profil/password/password.component';\r\nimport { DeleteComponent } from './components/client/profil/delete/delete.component';\r\nimport { GainComponent } from './components/modele/dashboard/gain/gain.component';\r\nimport { InformationComponent } from './components/modele/dashboard/information/information.component';\r\nimport { SoldeComponent } from './components/modele/dashboard/solde/solde.component';\r\nimport { InscriptionModelComponent } from './components/modele/inscription-model/inscription-model.component';\r\n\r\nimport { AgChartsAngularModule } from 'ag-charts-angular';\r\nimport { ConnexionComponent } from './components/modele/dashboard/connexion/connexion.component';\r\nimport { SettingComponent } from './components/modele/dashboard/setting/setting.component';\r\nimport { PasswordModeleComponent } from './components/modele/dashboard/password-modele/password-modele.component';\r\nimport { ForgotPasswordComponent } from './modals/forgot-password/forgot-password.component';\r\n\r\nimport {NgxNotificationMsgModule} from 'ngx-notification-msg';\r\nimport { NotifierModule, NotifierOptions } from 'angular-notifier';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AlbumsComponent } from './components/modele/albums/albums.component';\r\nimport { ProfilModelComponent } from './components/modele/profil-model/profil-model.component';\r\nimport { AlbumService } from './services/album/album.service';\r\n\r\nimport { FileUploadModule } from 'ng2-file-upload';\r\nimport { CreditComponent } from './components/modele/dashboard/credit/credit.component';\r\nimport { PackArgentComponent } from './components/modele/dashboard/credit/pack-argent/pack-argent.component';\r\nimport { PackBronzeComponent } from './components/modele/dashboard/credit/pack-bronze/pack-bronze.component';\r\nimport { PackBienvenueComponent } from './components/modele/dashboard/credit/pack-bienvenue/pack-bienvenue.component';\r\nimport { PackOrComponent } from './components/modele/dashboard/credit/pack-or/pack-or.component';\r\nimport { HomeClientComponent } from './components/home/home-connected/home-client.component';\r\nimport { ModelService } from './services/model/model.service';\r\nimport { HomeLiveComponent } from './components/home/home-disconnected/home-live.component';\r\nimport { LiveFreeComponent } from './components/live/live-free/live-free.component';\r\nimport { LivePrivateComponent } from './components/live/live-private/live-private.component';\r\nimport { LiveVipComponent } from './components/live/live-vip/live-vip.component';\r\n\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport { LivePrivateCamComponent } from './components/live/live-private/live-private-cam/live-private-cam.component';\r\nimport { TopbarComponent } from './components/live/topbar/topbar.component';\r\nimport { LiveFreeChatComponent } from './components/live/live-free/live-free-chat/live-free-chat.component';\r\nimport { LiveVipStatComponent } from './components/live/live-vip/live-vip-stat/live-vip-stat.component';\r\nimport { OutComponent } from './components/client/out/out.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\n\r\nimport {NgxLocalStorageModule} from 'ngx-localstorage';\r\nimport { ScrolltopComponent } from './layouts/scrolltop/scrolltop.component';\r\nimport { BuyCreditComponent } from './components/client/buy-credit/buy-credit.component';\r\nimport { ConnectedModelComponent } from './layouts/header/connected-model/connected-model.component';\r\nimport { ConfirmLogoutComponent } from './modals/confirm-logout/confirm-logout/confirm-logout.component';\r\nimport { ConnexionModelComponent } from './components/modele/connexion-model/connexion-model.component';\r\nimport { AuthInterceptor } from './services/auth/auth.interceptor';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport { PopupInfoComponent } from './modals/popup-info/popup-info.component';\r\nimport { PopupService } from './services/popup/popup.service';\r\nimport { SanitizePipe } from './pipes/sanitize/sanitize.pipe';\r\nimport { ProfilService } from './services/profil/profil.service';\r\nimport { LogService } from './services/log/log.service';\r\nimport { CreditService } from './services/credit/credit.service';\r\nimport { LiveChatModelComponent } from './components/modele/live-chat-model/live-chat-model.component';\r\nimport { RoomService } from './services/room/room.service';\r\nimport { ChatService } from './services/chat/chat.service';\r\n\r\nimport { SocketIoModule, SocketIoConfig } from 'ngx-socket-io';\r\nimport { LivePrivateModelComponent } from './components/modele/live-private-model/live-private-model.component';\r\nimport { LiveVipModelComponent } from './components/modele/live-vip-model/live-vip-model.component';\r\nimport { ClientService } from './services/client/client.service';\r\nimport { PackModalComponent } from './modals/pack-modal/pack-modal.component';\r\nimport { TimerService } from './services/timer/timer.service';\r\nimport { ConfirmEmailComponent } from './components/client/confirm-email/confirm-email.component';\r\nimport { SendForgotComponent } from './components/forgot/send-forgot/send-forgot.component';\r\nimport { NewPasswordComponent } from './components/forgot/new-password/new-password.component';\r\nimport { SendForgotModelComponent } from './components/forgot/send-forgot-model/send-forgot-model.component';\r\n\r\nimport { GalleryModule } from 'ng-gallery';\r\nimport { LightboxModule } from 'ng-gallery/lightbox';\r\nimport { PopupImageComponent } from './modals/popup-image/popup-image.component';\r\n\r\nimport { PickerModule } from '@ctrl/ngx-emoji-mart';\r\nimport { ReactivateAccountComponent } from './components/client/reactivate-account/reactivate-account.component';\r\n\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport { PaiementComponent } from './components/paiement/paiement.component';\r\n\r\nimport { LazyLoadImageModule } from 'ng-lazyload-image';\r\nimport { NgPaymentCardModule } from 'ng-payment-card';\r\nimport { AlbumLiveComponent } from './components/live/album-live/album-live.component';\r\nimport { DashboardAdminComponent } from './components/admin/connected/dashboard-admin/dashboard-admin.component';\r\nimport { TopbarAdminComponent } from './components/admin/connected/topbar-admin/topbar-admin.component';\r\nimport { InfobarAdminComponent } from './components/admin/connected/infobar-admin/infobar-admin.component';\r\nimport { LeftbarAdminComponent } from './components/admin/connected/leftbar-admin/leftbar-admin.component';\r\nimport { MainDashboardAdminComponent } from './components/admin/connected/dashboard-admin/main-dashboard-admin/main-dashboard-admin.component';\r\nimport { MainLeftDashboardAdminComponent } from './components/admin/connected/dashboard-admin/main-dashboard-admin/main-left-dashboard-admin/main-left-dashboard-admin.component';\r\nimport { MainRightDashboardAdminComponent } from './components/admin/connected/dashboard-admin/main-dashboard-admin/main-right-dashboard-admin/main-right-dashboard-admin.component';\r\nimport { ListClientsAdminComponent } from './components/admin/connected/dashboard-admin/list-clients-admin/list-clients-admin.component';\r\nimport { StatistiqueClientsAdminComponent } from './components/admin/connected/dashboard-admin/statistique-clients-admin/statistique-clients-admin.component';\r\nimport { DemandeClientsAdminComponent } from './components/admin/connected/dashboard-admin/demande-clients-admin/demande-clients-admin.component';\r\nimport { BloquerClientsAdminComponent } from './components/admin/connected/dashboard-admin/bloquer-clients-admin/bloquer-clients-admin.component';\r\nimport { ListModelsAdminComponent } from './components/admin/connected/dashboard-admin/model/list-models-admin/list-models-admin.component';\r\nimport { AskModelsAdminComponent } from './components/admin/connected/dashboard-admin/model/ask-models-admin/ask-models-admin.component';\r\nimport { BloquerModelsAdminComponent } from './components/admin/connected/dashboard-admin/model/bloquer-models-admin/bloquer-models-admin.component';\r\nimport { StatistiqueModelsAdminComponent } from './components/admin/connected/dashboard-admin/model/statistique-models-admin/statistique-models-admin.component';\r\nimport { DetailModelAdminComponent } from './components/admin/connected/dashboard-admin/model/detail-model-admin/detail-model-admin.component';\r\nimport { PaiementAdminComponent } from './components/admin/connected/dashboard-admin/administration/paiement-admin/paiement-admin.component';\r\nimport { ConnexionAdminComponent } from './components/admin/connexion-admin/connexion-admin.component';\r\nimport { ListPaiementAdminComponent } from './components/admin/connected/dashboard-admin/administration/list-paiement-admin/list-paiement-admin.component';\r\nimport { AdminService } from './services/admin/admin.service';\r\nimport { MotifRejectComponent } from './components/admin/connected/dashboard-admin/model/detail-model-admin/motif-reject/motif-reject.component';\r\nimport { MessageAdminComponent } from './components/admin/connected/dashboard-admin/administration/message-admin/message-admin.component';\r\nimport { SettingAdminComponent } from './components/admin/connected/dashboard-admin/administration/setting-admin/setting-admin.component';\r\nimport { TopbarModelComponent } from './components/live/topbar-model/topbar-model.component';\r\nimport { BanishService } from './services/banish/banish.service';\r\nimport { CentralPayComponent } from './modals/central-pay/central-pay.component';\r\nimport { SuiviModelsAdminComponent } from './components/admin/connected/dashboard-admin/model/suivi-models-admin/suivi-models-admin.component';\r\nimport { TipsComponent } from './components/live/tips/tips.component';\r\nimport { StatTipsComponent } from './components/live/stat-tips/stat-tips.component';\r\nimport { TipsService } from './services/tips/tips.service';\r\nimport { GaugeBarComponent } from './components/live/gauge-bar/gauge-bar.component';\r\nimport { LiveFreeSaloonComponent } from './components/live/live-free-saloon/live-free-saloon.component';\r\nimport { LiveFreeSaloonModelComponent } from './components/modele/live-free-saloon-model/live-free-saloon-model.component';\r\nimport { BetweenShopComponent } from './components/client/between-shop/between-shop.component';\r\nimport { SubscribeService } from './services/subscribe/subscribe.service';\r\nimport { BetweenShopService } from './services/between-shop/between-shop.service';\r\nimport { TryWebcamComponent } from './components/modele/live-chat-model/try-webcam/try-webcam.component';\r\nimport { LiveTipsClientsComponent } from './components/live/live-tips-clients/live-tips-clients.component';\r\nimport { LiveTipsClientsModelComponent } from './components/modele/live-tips-clients-model/live-tips-clients-model.component';\r\nimport { SettingTipsComponent } from './components/modele/setting-tips/setting-tips.component';\r\nimport { RoomTipsService } from './services/roomTips/room-tips.service';\r\nimport { StatTipsModelComponent } from './components/modele/live-tips-clients-model/stat-tips-model/stat-tips-model.component';\r\nimport { ProfilModelDetailComponent } from './modals/profil-model-detail/profil-model-detail.component';\r\nimport { SuiviPayModelComponent } from './modals/suivi-pay-model/suivi-pay-model.component';\r\nimport { ContactComponent } from './components/client/contact/contact.component';\r\nimport { FooterComponent } from './layouts/footer/footer.component';\r\nimport { AlbumsModelComponent } from './components/client/albums-model/albums-model.component';\r\nimport { CommissionComponent } from './components/modele/dashboard/commission/commission.component';\r\nimport { CommissionService } from './services/commission/commission.service';\r\nimport { CommissionsModelAdminComponent } from './components/admin/connected/dashboard-admin/model/commissions-model-admin/commissions-model-admin.component';\r\n\r\nconst config: SocketIoConfig = {\r\n  // url: 'http://localhost:4000/',\r\n  url: 'https://betweenus-live.com',\r\n  options: {\r\n\r\n  }\r\n};\r\n/**\r\n * Custom angular notifier options\r\n */\r\nconst customNotifierOptions: NotifierOptions = {\r\n  position: {\r\n\t\thorizontal: {\r\n\t\t\tposition: 'left',\r\n\t\t\tdistance: 12\r\n\t\t},\r\n\t\tvertical: {\r\n\t\t\tposition: 'bottom',\r\n\t\t\tdistance: 12,\r\n\t\t\tgap: 10\r\n\t\t}\r\n\t},\r\n  theme: 'material',\r\n  behaviour: {\r\n    autoHide: 5000,\r\n    onClick: 'hide',\r\n    onMouseover: 'pauseAutoHide',\r\n    showDismissButton: true,\r\n    stacking: 4\r\n  },\r\n  animations: {\r\n    enabled: true,\r\n    show: {\r\n      preset: 'slide',\r\n      speed: 300,\r\n      easing: 'ease'\r\n    },\r\n    hide: {\r\n      preset: 'fade',\r\n      speed: 300,\r\n      easing: 'ease',\r\n      offset: 50\r\n    },\r\n    shift: {\r\n      speed: 300,\r\n      easing: 'ease'\r\n    },\r\n    overlap: 150\r\n  }\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    EnterComponent,\r\n    HeaderComponent,\r\n    ConnectedComponent,\r\n    DisconnectedComponent,\r\n    SignupComponent,\r\n    SigninComponent,\r\n    DashboardComponent,\r\n    ProfilComponent,\r\n    PasswordComponent,\r\n    DeleteComponent,\r\n    GainComponent,\r\n    InformationComponent,\r\n    SoldeComponent,\r\n    InscriptionModelComponent,\r\n    ConnexionComponent,\r\n    SettingComponent,\r\n    PasswordModeleComponent,\r\n    ForgotPasswordComponent,\r\n    AlbumsComponent,\r\n    ProfilModelComponent,\r\n    CreditComponent,\r\n    PackArgentComponent,\r\n    PackBronzeComponent,\r\n    PackBienvenueComponent,\r\n    PackOrComponent,\r\n    HomeClientComponent,\r\n    HomeLiveComponent,\r\n    LiveFreeComponent,\r\n    LivePrivateComponent,\r\n    LiveVipComponent,\r\n    LivePrivateCamComponent,\r\n    TopbarComponent,\r\n    LiveFreeChatComponent,\r\n    LiveVipStatComponent,\r\n    OutComponent,\r\n    PageNotFoundComponent,\r\n    ScrolltopComponent,\r\n    BuyCreditComponent,\r\n    ConnectedModelComponent,\r\n    ConfirmLogoutComponent,\r\n    ConnexionModelComponent,\r\n    PopupInfoComponent,\r\n    SanitizePipe,\r\n    LiveChatModelComponent,\r\n    LivePrivateModelComponent,\r\n    LiveVipModelComponent,\r\n    PackModalComponent,\r\n    ConfirmEmailComponent,\r\n    SendForgotComponent,\r\n    NewPasswordComponent,\r\n    SendForgotModelComponent,\r\n    PopupImageComponent,\r\n    ReactivateAccountComponent,\r\n    PaiementComponent,\r\n    AlbumLiveComponent,\r\n    DashboardAdminComponent,\r\n    TopbarAdminComponent,\r\n    InfobarAdminComponent,\r\n    LeftbarAdminComponent,\r\n    MainDashboardAdminComponent,\r\n    MainLeftDashboardAdminComponent,\r\n    MainRightDashboardAdminComponent,\r\n    ListClientsAdminComponent,\r\n    StatistiqueClientsAdminComponent,\r\n    DemandeClientsAdminComponent,\r\n    BloquerClientsAdminComponent,\r\n    ListModelsAdminComponent,\r\n    AskModelsAdminComponent,\r\n    BloquerModelsAdminComponent,\r\n    StatistiqueModelsAdminComponent,\r\n    DetailModelAdminComponent,\r\n    PaiementAdminComponent,\r\n    ConnexionAdminComponent,\r\n    ListPaiementAdminComponent,\r\n    MotifRejectComponent,\r\n    MessageAdminComponent,\r\n    SettingAdminComponent,\r\n    TopbarModelComponent,\r\n    CentralPayComponent,\r\n    SuiviModelsAdminComponent,\r\n    TipsComponent,\r\n    StatTipsComponent,\r\n    GaugeBarComponent,\r\n    LiveFreeSaloonComponent,\r\n    LiveFreeSaloonModelComponent,\r\n    BetweenShopComponent,\r\n    TryWebcamComponent,\r\n    LiveTipsClientsComponent,\r\n    LiveTipsClientsModelComponent,\r\n    SettingTipsComponent,\r\n    StatTipsModelComponent,\r\n    ProfilModelDetailComponent,\r\n    SuiviPayModelComponent,\r\n    SafePipe,\r\n    ContactComponent,\r\n    FooterComponent,\r\n    AlbumsModelComponent,\r\n    CommissionComponent,\r\n    CommissionsModelAdminComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    FormsModule,\r\n    ReactiveFormsModule.withConfig({ warnOnNgModelWithFormControl: \"never\" }),\r\n    MatSlideToggleModule,\r\n    MatDialogModule,\r\n    MatTabsModule,\r\n    MatSnackBarModule,\r\n    AgChartsAngularModule,\r\n    NgxNotificationMsgModule,\r\n    NotifierModule.withConfig(customNotifierOptions),\r\n    HttpClientModule,\r\n    FileUploadModule,\r\n    SocketIoModule.forRoot(config),\r\n    NgxLocalStorageModule.forRoot(),\r\n    GalleryModule,\r\n    LightboxModule,\r\n    PickerModule,\r\n    MatTooltipModule,\r\n    LazyLoadImageModule,\r\n    NgPaymentCardModule,\r\n    MatMenuModule\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\r\n  entryComponents: [\r\n    PasswordComponent,\r\n    DeleteComponent,\r\n    ConfirmLogoutComponent,\r\n    PopupInfoComponent,\r\n    PackModalComponent,\r\n    PopupImageComponent,\r\n    MotifRejectComponent,\r\n    CentralPayComponent,\r\n    SettingTipsComponent,\r\n    ProfilModelDetailComponent,\r\n    SuiviPayModelComponent\r\n  ],\r\n  providers: [\r\n    HeaderService,\r\n    EncryptionService,\r\n    NotificationService,\r\n    AlbumService,\r\n    ModelService,\r\n    AuthService,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: AuthInterceptor,\r\n      multi: true,\r\n    },\r\n    { provide: LOCALE_ID, useValue: \"fr\" },\r\n    PopupService,\r\n    ProfilService,\r\n    LogService,\r\n    CreditService,\r\n    RoomService,\r\n    ChatService,\r\n    ClientService,\r\n    TimerService,\r\n    AdminService,\r\n    BanishService,\r\n    TipsService,\r\n    SubscribeService,\r\n    BetweenShopService,\r\n    RoomTipsService,\r\n    CommissionService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\nconst httpOptions = {\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\n};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommissionService {\n  endpoint = environment.endpoint;\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  getCommissions(): Observable<any> {\n    return this.http.get(`${this.endpoint}/commissions/model`, httpOptions)\n  }\n\n  getAllCommissions(): Observable<any> {\n    return this.http.get(`${this.endpoint}/commissions`, httpOptions)\n  }\n\n  verifyCommission(credit: number): Observable<any> {\n    return this.http.post(`${this.endpoint}/commissions/verify`,{ credit }, httpOptions)\n  }\n\n}\n","<app-infobar-admin title=\"Clients\" subTitle=\"Clients\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    LISTE DES CLIENTS <span>({{count}} Clients)</span>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"filter_client\">\r\n            <p class=\"txt\">Afficher par :</p>\r\n            <select name=\"filter\" id=\"filter\" (change)=\"select($event)\">\r\n              <option value=\"tous\">Tous</option>\r\n              <option value=\"Valide\">Actif</option>\r\n              <option value=\"Supprime\">Supprimé</option>\r\n              <option value=\"Desactive\">Desactivé</option>\r\n              <option value=\"En attente\">Inactif</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" *ngIf=\"page > 0\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" *ngIf=\"page < topPage\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-8\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-2 col-4\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        LISTE DE TOUS LES CLIENTS\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Adresse email</td>\r\n          <td>Inscrit le</td>\r\n          <td>Etat</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.email}}</td>\r\n          <td>{{client.createdAt}}</td>\r\n          <td>\r\n            <span *ngIf=\"client.state === 'En attente'\">En attente</span>\r\n            <span *ngIf=\"client.state === 'Supprime'\">Supprimé</span>\r\n            <span *ngIf=\"client.state === 'Desactive'\">Desactivé</span>\r\n            <span *ngIf=\"client.state === 'Refuse'\">Refusé</span>\r\n            <span *ngIf=\"client.state === 'Valide'\">Validé</span>\r\n          </td>\r\n          <td class=\"list_action\">\r\n            <img [src]=\"bloqued\" alt=\"\" (click)=\"blockClient(client.id)\">\r\n            <img [src]=\"deactivate\" alt=\"\" (click)=\"deactivateClient(client.id)\" *ngIf=\"client.state !== 'Desactive'\">\r\n            <img [src]=\"activate\" alt=\"\" (click)=\"activateClient(client.id)\" *ngIf=\"client.state === 'Desactive'\">\r\n            <img [src]=\"delete\" alt=\"\" (click)=\"deleteClient(client.id)\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../services/admin/admin.service';\r\nimport { NotificationService } from '../../../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-list-clients-admin',\r\n  templateUrl: './list-clients-admin.component.html',\r\n  styleUrls: ['./list-clients-admin.component.scss']\r\n})\r\nexport class ListClientsAdminComponent implements OnInit {\r\n  icon = './../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countClient()\r\n    this.listClients()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countClient() {\r\n    this.adminService.countClients(this.selected).subscribe(\r\n      (data) => {\r\n        this.count = data.count\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n  listClients() {\r\n    this.adminService.getClients(this.selected, this.range, this.page, this.filter).subscribe(\r\n      (data) => {\r\n        // console.log(data)\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  select(event) {\r\n    const value = event.target.value;\r\n    this.selected = value\r\n    this.listClients()\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listClients()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listClients()\r\n  }\r\n\r\n  nextPage() {\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listClients()\r\n  }\r\n\r\n  prevPage() {\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listClients()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listClients()\r\n  }\r\n\r\n  deleteClient(idClient: number) {\r\n    this.adminService.deleteClient(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  blockClient(idClient: number) {\r\n    const data = {\r\n      idClient,\r\n      reverse: false\r\n    }\r\n    this.adminService.blockClient(data).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  deactivateClient(idClient: number) {\r\n    this.adminService.deactivateClient(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  activateClient(idClient: number) {\r\n    this.adminService.activateClient(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { PaiementService } from '../../../../../../services/paiement/paiement.service';\r\nimport { NotificationService } from '../../../../../../services/notification/notification.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SuiviPayModelComponent } from '../../../../../../modals/suivi-pay-model/suivi-pay-model.component';\r\n\r\n@Component({\r\n  selector: 'app-suivi-models-admin',\r\n  templateUrl: './suivi-models-admin.component.html',\r\n  styleUrls: ['./suivi-models-admin.component.scss']\r\n})\r\nexport class SuiviModelsAdminComponent implements OnInit {\r\n  today = new Date().toLocaleDateString();\r\n  dayToday = new Date().getDate();\r\n  monthToday = new Date().getMonth() + 1;\r\n  yearToday = new Date().getFullYear();\r\n\r\n  models: any[] = [];\r\n  origModels: any[] = [];\r\n  filterPseudo: any = '';\r\n\r\n  four = './../../../../../../../assets/icons/more.svg';\r\n  search = './../../../../../../assets/icons/admin-icons/search.png'\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    public paymentService: PaiementService,\r\n    private notificationService: NotificationService,\r\n    private dialog: MatDialog\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getModels();\r\n  }\r\n\r\n  getModels() {\r\n    this.adminService.getCreditActifsModels().subscribe(\r\n      (data: any) => {\r\n        this.models = data;\r\n        this.origModels = data;\r\n        this.models.forEach( (model) => {\r\n          model.createdAt = this.adminService.formatDate(model.createdAt);\r\n          model.nextPayment = this.nextPayment(model.credit.lastPayment);\r\n          model.payCredit = 0;\r\n          model.soldeCredit = model.credit.credit;\r\n        });\r\n        // console.log(this.models);\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  payModel(index: number, idModel: number, pseudoModel: string, emailModel: string) {\r\n    console.log(index);\r\n    const payCredit = this.models[index].payCredit;\r\n    const soldeCredit = this.models[index].soldeCredit;\r\n    if (payCredit > this.models[index].credit.credit || payCredit <= 0) {\r\n      this.notificationService.errorMsg('Paiement crédits invalide');\r\n      return null;\r\n    }\r\n\r\n    this.adminService.payCreditModel(idModel, pseudoModel, emailModel, payCredit, this.today).subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.getModels();\r\n        this.notificationService.successMsg(`${payCredit} crédits payés à ${pseudoModel}`);\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  nextPayment(lastPayment: string) {\r\n    let calculateDay:  number = 0;\r\n    let calculateMonth: string = null;\r\n    if (!lastPayment || lastPayment === undefined) {\r\n      calculateDay = this.dayToday;\r\n      calculateMonth = this.monthToday.toString();\r\n    } else {\r\n      calculateDay = parseInt(lastPayment.substring(0,2));\r\n      calculateMonth = lastPayment.substring(3,5);\r\n    }\r\n\r\n    if (calculateDay >= 29) {\r\n      const nextPay = '14 au 28 /' + (this.monthToday + 1) + '/ ' + this.yearToday;\r\n      return nextPay;\r\n    } else if (calculateDay <= 13) {\r\n      const nextPay = '14 au 28 /' + this.monthToday + '/ ' + this.yearToday;\r\n      return nextPay;\r\n    } else {\r\n      const nextPay = '29 /' + calculateMonth + '/' + this.yearToday + ' au 13 /' + (this.monthToday + 1) + '/' + this.yearToday;\r\n      return nextPay;\r\n    }\r\n  }\r\n\r\n  canBePaid(lastPayment: string) {\r\n    let theDay:  number = 0;\r\n    let theMonth: number = 0;\r\n    if (!lastPayment || lastPayment === undefined) {\r\n      theDay = this.dayToday;\r\n      theMonth = this.monthToday;\r\n    } else {\r\n      theDay = parseInt(lastPayment.substring(0,2));\r\n      theMonth = parseInt(lastPayment.substring(3,5));\r\n    }\r\n\r\n    if (theMonth < this.monthToday) {\r\n      return true;\r\n    } else {\r\n      if (theDay >= 14) {\r\n        if (theDay <= 28) {\r\n          if (this.dayToday >= 29) {\r\n            if (this.dayToday <= 13) {\r\n              return true;\r\n            }\r\n          }\r\n        } else {\r\n          if (this.dayToday >= 14) {\r\n            if (this.dayToday <= 28) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        if (this.dayToday >= 14) {\r\n          if (this.dayToday <= 28) {\r\n            return true;\r\n          }\r\n        }\r\n      };\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  wait() {\r\n    this.notificationService.infoMsg('La date de paiement n\\'est pas validée');\r\n  }\r\n\r\n  filterModel() {\r\n    console.log('something change');\r\n    this.models = this.origModels.filter(\r\n      (models) => {\r\n        return models.pseudo.includes(this.filterPseudo);\r\n      }\r\n    )\r\n  }\r\n\r\n  detailPay(modelId: number, modelPseudo: string) {\r\n    const dialogRef = this.dialog.open(SuiviPayModelComponent, {\r\n      width: '80vh',\r\n      height: '80vh',\r\n      data: {\r\n        modelId,\r\n        modelPseudo\r\n      }\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n}\r\n","<app-infobar-admin title=\"Modèles\" subTitle=\"Modèles\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    SUIVI DE PAIEMENT\r\n    <span style=\"float: right;\">\r\n      -\r\n      Aujourd'hui le {{today}}\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"input_search\">\r\n    <div class=\"search_client\">\r\n      <input type=\"text\" placeholder=\"Rechercher modèle\"\r\n      (keyup)=\"filterModel()\" [(ngModel)]=\"filterPseudo\"\r\n      class=\"search_model\">\r\n      <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"input_search\">\r\n\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        LES MODELES ACTIFS\r\n      </div>\r\n      <div>\r\n        <!-- Total : {{count}} -->\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-striped table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Crédit</td>\r\n          <td>Montant (€)</td>\r\n          <td>Dernier paiement</td>\r\n          <!-- <td>Prochain paiement</td> -->\r\n          <td>Paiement crédits</td>\r\n          <td>Paiement (€)</td>\r\n          <td>Solde crédits</td>\r\n          <td>Solde (€)</td>\r\n          <td>Actions</td>\r\n          <td></td>\r\n        </tr>\r\n\r\n        <tr *ngFor=\"let model of models; let i=index\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{model.pseudo}}</td>\r\n          <td>{{model.credit.credit}}</td>\r\n          <td>{{paymentService.convertCreditToMoney(model.credit.credit)}}</td>\r\n          <td>{{model.credit.lastPayment}}</td>\r\n          <!-- <td>{{model.nextPayment}}</td> -->\r\n          <td>\r\n            <input type=\"number\" name=\"pay_credit\" id=\"pay_credit\"\r\n            [(ngModel)]=\"models[i].payCredit\" class=\"pay_credit\">\r\n          </td>\r\n          <td>\r\n            {{paymentService.convertCreditToMoney(models[i].payCredit)}}\r\n          </td>\r\n          <td>\r\n            <span *ngIf=\"models[i].payCredit > 0\">\r\n              {{model.credit.credit - models[i].payCredit}}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <span *ngIf=\"models[i].payCredit > 0\">\r\n              {{paymentService.convertCreditToMoney(model.credit.credit - models[i].payCredit)}}\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <Button class=\"btn_pay lighter\"\r\n            (click)=\"payModel(i, model.id, model.pseudo, model.email)\">\r\n              Payer\r\n            </Button>\r\n            <!-- <Button class=\"btn_wait lighter\" *ngIf=\"!canBePaid(model.credit.lastPayment)\"\r\n            (click)=\"wait()\">\r\n              Attente\r\n            </Button> -->\r\n          </td>\r\n          <td>\r\n            <img [src]=\"four\" alt=\"\" class=\"detail\" (click)=\"detailPay(model.id, model.pseudo)\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ClientService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private store: LocalStorageService\r\n  ) { }\r\n\r\n  getMyInfos(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/client`, httpOptions)\r\n  }\r\n\r\n  getClient(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/client/${id}`, httpOptions)\r\n  }\r\n\r\n  getCredit(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/credit/client`, httpOptions)\r\n  }\r\n\r\n  forgot(email : string) : Observable<any>{\r\n    const options = {\r\n      email : email\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/forgot`, options, httpOptions)\r\n  }\r\n\r\n  reinitPassword(userId: number, password: string) : Observable<any>{\r\n    const options = {\r\n      id : userId,\r\n      newPassword: password\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/reinitPassword`, options, httpOptions)\r\n  }\r\n\r\n  lastRoom(linkRoom?: string) {\r\n    if (linkRoom === null) return this.store.remove('lastRoom');\r\n    if (linkRoom)\r\n      this.store.set(\"lastRoom\", linkRoom);\r\n    return this.store.get(\"lastRoom\");\r\n  }\r\n\r\n  changePseudo(pseudo: string) {\r\n    const data = {\r\n      pseudo\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/changePseudo`, data, httpOptions)\r\n  }\r\n\r\n  changePassword(oldPassword: string, newPassword: string) {\r\n    const data = {\r\n      oldPassword,\r\n      newPassword\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/changePassword`, data, httpOptions)\r\n  }\r\n\r\n  deleteAccount(password: string) {\r\n    const data = {\r\n      password\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/deleteAccount`, data, httpOptions)\r\n  }\r\n\r\n  deactivateAccount(password: string) {\r\n    const data = {\r\n      password\r\n    }\r\n    return this.http.post(`${this.endpoint}/client/deactivateAccount`, data, httpOptions)\r\n  }\r\n\r\n  reactivateAccount() {\r\n    return this.http.post(`${this.endpoint}/client/reactivateAccount`, {}, httpOptions)\r\n  }\r\n\r\n  restoreAccount() {\r\n    return this.http.post(`${this.endpoint}/client/restoreAccount`, {}, httpOptions)\r\n  }\r\n\r\n  // User setting\r\n  getSettingClient() {\r\n    return this.http.get(`${this.endpoint}/setting/client`, httpOptions)\r\n  }\r\n\r\n  storeLastChat(idRoom: any) {\r\n    const currentDate = new Date();\r\n    const lastChatRoom = this.store.get('lastChatRoom');\r\n    const lastChatRoomEntry = this.store.get('lastChatRoomEntry');\r\n    if (!lastChatRoomEntry) this.store.set('lastChatRoomEntry', currentDate);\r\n    if (lastChatRoom === idRoom) return null;\r\n    this.store.set('lastChatRoom', idRoom);\r\n    this.store.set('lastChatRoomEntry', currentDate);\r\n  }\r\n\r\n  getLastChat() {\r\n    return this.store.get('lastChatRoomEntry');\r\n  }\r\n\r\n  deleteLastChat() {\r\n    this.store.remove('lastChatRoom');\r\n    this.store.remove('lastChatRoomEntry');\r\n  }\r\n\r\n  // Email - contact\r\n  sendMessage(data) {\r\n    return this.http.post(`${this.endpoint}/mail/sendMessage`, data, httpOptions)\r\n  }\r\n\r\n}\r\n","<div class=\"contain_pass\">\r\n  <!-- <h2 mat-dialog-title>Confirmation</h2> -->\r\n  <mat-dialog-content>\r\n    <div class=\"content_text\">\r\n      <div class=\"img\">\r\n        <img [src]=\"exclamation\" alt=\"\" style=\"max-width: 100%;\">\r\n      </div>\r\n      <div class=\"text_warning\">\r\n        Motif du rejet :\r\n      </div>\r\n    </div>\r\n    <form>\r\n      <label for=\"motif\">\r\n        <img [src]=\"exclamation\" alt=\"\" *ngIf=\"empty\" id=\"imgAlert\">\r\n      </label>\r\n      <input type=\"text\" name=\"motif\" class=\"form-control input\" [(ngModel)]=\"motif\">\r\n      <p class=\"error\" *ngIf=\"empty\">Veuillez préciser</p>\r\n    </form>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Annuler</button>\r\n    <button class=\"btn_valid\" (click)=\"validate()\">Confirmer</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DeleteComponent } from 'src/app/components/client/profil/delete/delete.component';\r\nimport { AdminService } from '../../../../../../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-motif-reject',\r\n  templateUrl: './motif-reject.component.html',\r\n  styleUrls: ['./motif-reject.component.scss']\r\n})\r\nexport class MotifRejectComponent implements OnInit {\r\n  action: any;\r\n  exclamation = \"./../../../../../../../../assets/icons/chat-comment.svg\";\r\n  motif: string = \"\";\r\n  error: boolean = false;\r\n  empty: boolean = false;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<MotifRejectComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private adminService: AdminService) {\r\n\r\n    }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close(0);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // console.log(this.action);\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    this.empty = false;\r\n    this.error = false;\r\n    if (this.motif == \"\") {\r\n        this.empty = true;\r\n        return null;\r\n    }\r\n    this.dialogRef.close(this.motif)\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'sanitize'\r\n})\r\nexport class SanitizePipe implements PipeTransform {\r\n\r\n  constructor(private _sanitizer: DomSanitizer){}\r\n\r\n  transform(text: string) : SafeHtml {\r\n     return this._sanitizer.bypassSecurityTrustHtml(text);\r\n  }\r\n\r\n}\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoomPrivateService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private store: LocalStorageService\r\n  ) { }\r\n\r\n  getColor(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-private/color`, httpOptions)\r\n  }\r\n\r\n  createRoom(): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/room-private`,{}, httpOptions)\r\n  }\r\n\r\n  getRoomModel(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-private/model/${id}`, httpOptions)\r\n  }\r\n\r\n  getInfo(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-private/client/${id}`, httpOptions)\r\n  }\r\n\r\n  getActif(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-private/${id}`, httpOptions)\r\n  }\r\n\r\n  joinRoom(idRoom: number) {\r\n    this.store.set(\"privateRoom\", idRoom);\r\n  }\r\n\r\n  joinedRoom(idRoom: number) {\r\n    const room = this.store.get(\"privateRoom\");\r\n    return room === idRoom;\r\n  }\r\n\r\n  leaveRoom() {\r\n    this.store.remove(\"privateRoom\");\r\n  }\r\n\r\n  updateActif(roomId: number, joined: boolean, type_room: string, peerId: string = null): Observable<any> {\r\n    const data = {\r\n      roomId,\r\n      joined,\r\n      type_room,\r\n      peerId\r\n    }\r\n    // console.log(\"Update actif \", data);\r\n    return this.http.post(`${this.endpoint}/actif-room-private`, data, httpOptions)\r\n  }\r\n\r\n  getGain(modelId: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room-private/gain/${modelId}`, httpOptions)\r\n  }\r\n\r\n  getActifRoom(roomId: number): Observable<any> {\r\n    const data = {\r\n      roomId\r\n    }\r\n\r\n    return this.http.post(`${this.endpoint}/actif-room-private/actifs`, data, httpOptions);\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PopupInfoComponent } from '../../modals/popup-info/popup-info.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PopupService {\r\n\r\n  constructor(\r\n    private dialog: MatDialog\r\n  ) { }\r\n\r\n  info(action: string, title: string, message: string) {\r\n    this.dialog.open(PopupInfoComponent, {\r\n      width: '50vh',\r\n      data: {action, title, message}\r\n    });\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { SlideInOutAnimation } from 'src/app/animation';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmLogoutComponent } from 'src/app/modals/confirm-logout/confirm-logout/confirm-logout.component';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-connected',\r\n  templateUrl: './connected.component.html',\r\n  styleUrls: ['./connected.component.scss'],\r\n  animations: [SlideInOutAnimation]\r\n})\r\nexport class ConnectedComponent implements OnInit {\r\n  animationState = 'out';\r\n  chat = \"assets/icons/video-camera-svgrepo-com.svg\";\r\n  settings = \"assets/icons/settings.svg\";\r\n\r\n  @Input()\r\n  actif: string;\r\n  active: number = 0;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private dialog: MatDialog,\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n    if (this.actif) this.active = parseInt(this.actif);\r\n  }\r\n\r\n  toggleShowDiv(divName: string) {\r\n    if (divName === 'contain_connected') {\r\n      console.log(this.animationState);\r\n      this.animationState = this.animationState === 'out' ? 'in' : 'out';\r\n      console.log(this.animationState);\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    const dialogRef = this.dialog.open(ConfirmLogoutComponent, {\r\n      width: '50vh',\r\n      data: {action: 'client'}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  lastChat() {\r\n    const lastRoom: string = this.clientService.lastRoom();\r\n    if (!lastRoom) {\r\n      this.notificationService.infoMsg(\"Aucun récent Chat\");\r\n      return null;\r\n    }\r\n    // console.log(lastRoom);\r\n    if (lastRoom.includes(\"/model\")) {\r\n      this.notificationService.infoMsg(\"Aucun récent Chat\");\r\n      return null\r\n    }\r\n    this.router.navigateByUrl(lastRoom);\r\n  }\r\n}\r\n","\r\n<div class=\"bars\">\r\n  <img [src]=\"chat\" alt=\"\" class=\"icon\" (click)=\"lastChat()\">\r\n  <img [src]=\"settings\" alt=\"\" class=\"icon\" routerLink=\"/client/profile\">\r\n  <i class=\"fa fa-bars\" (click)=\"toggleShowDiv('contain_connected')\"></i>\r\n</div>\r\n\r\n<div class=\"contain_connected\" [@slideInOut]=\"animationState\">\r\n  <div class=\"list one\" [ngClass]=\"{'active': active == 1}\" routerLink=\"/client/accueil/registered\">\r\n    Tous les modèles\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list two\" routerLink=\"/client/achat_de_credit\" [ngClass]=\"{'active': active == 2}\">\r\n    Acheter des crédits\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list two\" routerLink=\"/client/between_shop\" [ngClass]=\"{'active': active == 6}\">\r\n    Between shop\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list three\" [ngClass]=\"{'active': active == 3}\" (click)=\"lastChat()\"\r\n  matTooltip=\"Chat récent\" matTooltipClass=\"tooltip_class\">\r\n    <img [src]=\"chat\" alt=\"\" class=\"icon icon_chat\">\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list four\" routerLink=\"/client/profile\" [ngClass]=\"{'active': active == 4}\"\r\n  matTooltip=\"Paramètres\" matTooltipClass=\"tooltip_class\">\r\n    <img [src]=\"settings\" alt=\"\" class=\"icon\">\r\n    <span></span>\r\n  </div>\r\n  <div class=\"list five\" (click)=\"logout()\" [ngClass]=\"{'active': active == 5}\">\r\n    Déconnexion\r\n    <span></span>\r\n  </div>\r\n</div>\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SubscribeService {\r\n  endpoint = environment.endpoint;\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  new(price: number, lastDate: Date): Observable<any> {\r\n    const data = {\r\n      price,\r\n      lastDate\r\n    }\r\n    return this.http.post(`${this.endpoint}/subscribe/new`, data, httpOptions)\r\n  }\r\n\r\n  verify(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/subscribe/verify`, httpOptions)\r\n  }\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { PaiementService } from '../../services/paiement/paiement.service';\r\nimport { AdminService } from '../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-suivi-pay-model',\r\n  templateUrl: './suivi-pay-model.component.html',\r\n  styleUrls: ['./suivi-pay-model.component.scss']\r\n})\r\nexport class SuiviPayModelComponent implements OnInit {\r\n  modelId: number;\r\n  modelPseudo: string = null;\r\n  pay: any[];\r\n\r\n  constructor(\r\n    public dialogRef: MatDialogRef<SuiviPayModelComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private paiementService: PaiementService,\r\n    public adminService: AdminService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.modelId = this.data.modelId;\r\n    this.modelPseudo = this.data.modelPseudo;\r\n    this.getSuiviPay();\r\n  }\r\n\r\n  getSuiviPay() {\r\n    this.paiementService.getSuiviPay(this.modelId).subscribe(\r\n      (data: any[]) => {\r\n        console.log('Get suivi ', data);\r\n        this.pay = data;\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"main_suivi\">\r\n  <div class=\"title_suivi\">\r\n    Suivi de paiement <br>\r\n    <div *ngIf=\"modelPseudo\">\r\n      {{modelPseudo}}\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list\">\r\n    <table class=\"table table-responsive table-striped table-hover\">\r\n      <thead>\r\n        <td>Virement</td>\r\n        <td>Montant</td>\r\n        <td>Ancien solde</td>\r\n        <td>Nouveau solde</td>\r\n        <td>Date</td>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let item of pay; let i=index\">\r\n          <th>{{item.credit}} crédits</th>\r\n          <th>\r\n            <span *ngIf=\"!item.montant\">0</span>\r\n            {{item.montant}}\r\n            €</th>\r\n          <th>{{item.oldCredit}} crédits</th>\r\n          <th>{{item.newCredit}} crédits</th>\r\n          <th>{{adminService.formatDate(item.createdAt)}}</th>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <p *ngIf=\"pay && pay.length === 0\" class=\"empty_array\">\r\n      Aucun paiement effectué\r\n    </p>\r\n\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss']\r\n})\r\nexport class FooterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"main_footer\">\r\n  <div class=\"footer_1\">\r\n    <div class=\"footer\">\r\n      <img src=\"./../../../assets/logos/dark-light-removebg.png\" alt=\"\" class=\"logo_footer\">\r\n    </div>\r\n\r\n    <div class=\"footer_left footer\">\r\n      <div class=\"title_footer\">\r\n        A Propos\r\n      </div>\r\n      <ul class=\"menu_footer\">\r\n        <li>\r\n          <a href=\"https://betweenus-live.com/cgu_betweenus.pdf\" target=\"_blank\"\r\n          rel=\"noopener noreferrer\">\r\n            Conditions générales\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"https://betweenus-live.com/mentions_legales.pdf\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\">\r\n            Mentions légales\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"footer_right footer\">\r\n      <div class=\"title_footer\">\r\n        Nous contacter\r\n      </div>\r\n      <ul class=\"menu_footer\">\r\n        <li routerLink='/contact'>\r\n            Webmaster\r\n        </li>\r\n        <li>\r\n          <a href=\"https://paysecure.eu/home/e7887e92-873a-4a50-b8c2-4c5086baba9a\"\r\n          target=\"_blank\">\r\n            CentralPay.\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"footer_social_network footer\">\r\n      <div class=\"title_footer\">\r\n        Suivez nous\r\n      </div>\r\n      <ul class=\"menu_footer\">\r\n        <li>\r\n          <div class=\"contain_social_network\">\r\n            <a href=\"https://twitter.com/BETWEEN_USLIVE\" target=\"_blank\">\r\n              <img src=\"./../../../assets/icons/twitter.svg\" alt=\"\">\r\n            </a>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"footer_3\">\r\n    <div class=\"content\">\r\n      Between Us Live - BUL contient du contenu reservé aux adultes, en utilisant ce site,\r\n      vous reconnaissez avoir plus de 18 ans, avoir lu notre Politique de Confidentialité\r\n      et accepté nos\r\n      <a href=\"https://betweenus-live.com/cgu_betweenus.pdf\" target=\"_blank\"\r\n      rel=\"noopener noreferrer\">Conditions Générales</a>.\r\n    </div>\r\n    <div class=\"footer_2\">\r\n      &copy; 2021 between us live\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Chat } from '../../interfaces/chat.interface';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ChatService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  postMessage(message: Chat): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/chat`, message, httpOptions)\r\n  }\r\n\r\n  getMessage(idRoom: number, type_chat: string = 'free'): Observable<any> {\r\n    let room = idRoom;\r\n    if (room === null) room = 0;\r\n    return this.http.get(`${this.endpoint}/chat/${type_chat}/${room}`, httpOptions)\r\n  }\r\n}\r\n","import { Component, Input, IterableDiffers, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-stat-tips-model',\r\n  templateUrl: './stat-tips-model.component.html',\r\n  styleUrls: ['./stat-tips-model.component.scss']\r\n})\r\nexport class StatTipsModelComponent implements OnInit {\r\n  @Input()\r\n  pseudoModel: string;\r\n\r\n  @Input()\r\n  gain: any;\r\n\r\n  @Input()\r\n  tips: any[] = [];\r\n\r\n  @Input()\r\n  descriptions: any[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"main_content\">\r\n  <div class=\"intro_model\">\r\n    <p class=\"model_info\">\r\n      Jauge de TIPS\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"container-fluid contain_jauge\">\r\n    <div class=\"row row_jauge title_jauge bronzeImage\">\r\n      <div class=\"col-4 title_pal\">Bronze</div>\r\n      <div class=\"col-2\">TIPS</div>\r\n      <div class=\"col-6 desc_pal\">Description</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[0] && gain < tips[1]}'>\r\n      <div class=\"col-4 title_pal\">Palier 1</div>\r\n      <div class=\"col-2\">{{tips[0]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[0]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[1] && gain < tips[2]}'>\r\n      <div class=\"col-4 title_pal\">Palier 2</div>\r\n      <div class=\"col-2\">{{tips[1]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[1]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[2] && gain < tips[3]}'>\r\n      <div class=\"col-4 title_pal\">Palier 3</div>\r\n      <div class=\"col-2\">{{tips[2]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[2]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[3] && gain < tips[4]}'>\r\n      <div class=\"col-4 title_pal\">Palier 4</div>\r\n      <div class=\"col-2\">{{tips[3]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[3]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[4] && gain < tips[5]}'>\r\n      <div class=\"col-4 title_pal\">Plafond</div>\r\n      <div class=\"col-2\">{{tips[4]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[4]}}</div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container-fluid contain_jauge\">\r\n    <div class=\"row row_jauge title_jauge argentImage\">\r\n      <div class=\"col-4 title_pal\">Argent</div>\r\n      <div class=\"col-2\">TIPS</div>\r\n      <div class=\"col-6 desc_pal\">Description</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[5] && gain < tips[6]}'>\r\n      <div class=\"col-4 title_pal\">Palier 1</div>\r\n      <div class=\"col-2\">{{tips[5]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[5]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[6] && gain < tips[7]}'>\r\n      <div class=\"col-4 title_pal\">Palier 2</div>\r\n      <div class=\"col-2\">{{tips[6]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[6]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[7] && gain < tips[8]}'>\r\n      <div class=\"col-4 title_pal\">Palier 3</div>\r\n      <div class=\"col-2\">{{tips[7]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[7]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[8] && gain < tips[9]}'>\r\n      <div class=\"col-4 title_pal\">Palier 4</div>\r\n      <div class=\"col-2\">{{tips[8]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[8]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[9] && gain < tips[10]}'>\r\n      <div class=\"col-4 title_pal\">Plafond</div>\r\n      <div class=\"col-2\">{{tips[9]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[9]}}</div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"container-fluid contain_jauge\">\r\n    <div class=\"row row_jauge title_jauge goldImage\">\r\n      <div class=\"col-4 title_pal\">Or</div>\r\n      <div class=\"col-2\">TIPS</div>\r\n      <div class=\"col-6 desc_pal\">Description</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[10] && gain < tips[11]}'>\r\n      <div class=\"col-4 title_pal\">Palier 1</div>\r\n      <div class=\"col-2\">{{tips[10]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[10]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[11] && gain < tips[12]}'>\r\n      <div class=\"col-4 title_pal\">Palier 2</div>\r\n      <div class=\"col-2\">{{tips[11]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[11]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[12] && gain < tips[13]}'>\r\n      <div class=\"col-4 title_pal\">Palier 3</div>\r\n      <div class=\"col-2\">{{tips[12]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[12]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[13] && gain < tips[14]}'>\r\n      <div class=\"col-4 title_pal\">Palier 4</div>\r\n      <div class=\"col-2\">{{tips[13]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[13]}}</div>\r\n    </div>\r\n    <div class=\"row row_jauge\" [ngClass]='{\"activo\": gain >= tips[14]}'>\r\n      <div class=\"col-4 title_pal\">Plafond</div>\r\n      <div class=\"col-2\">{{tips[14]}}</div>\r\n      <div class=\"col-6 desc_pal\">{{descriptions[14]}}</div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { HttpHeaders, HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoomService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private store: LocalStorageService\r\n  ) { }\r\n\r\n  getColor(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room/color`, httpOptions)\r\n  }\r\n\r\n  createRoom(): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/room`,{}, httpOptions)\r\n  }\r\n\r\n  getRoomModel(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room/model/${id}`, httpOptions)\r\n  }\r\n\r\n  getInfo(id: number): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/room/client/${id}`, httpOptions)\r\n  }\r\n\r\n  async getActif(id: number): Promise<number> {\r\n    let actif = 0;\r\n    await this.http.get(`${this.endpoint}/room/${id}`, httpOptions).subscribe(\r\n      (data: any) => {\r\n        if (data.actif) {\r\n          actif =  data.actif\r\n        }\r\n      }\r\n    );\r\n    return actif;\r\n  }\r\n\r\n  joinRoom() {\r\n    this.store.set(\"freeRoom\", true);\r\n  }\r\n\r\n  joinedRoom() {\r\n    return this.store.get(\"freeRoom\") ? true : false;\r\n  }\r\n\r\n  leaveRoom() {\r\n    this.store.remove(\"freeRoom\");\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pack-bronze',\r\n  templateUrl: './pack-bronze.component.html',\r\n  styleUrls: ['./pack-bronze.component.scss']\r\n})\r\nexport class PackBronzeComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>pack-bronze works!</p>\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef } from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport * as $ from 'jquery'\r\n\r\n// Peer\r\nimport './../shim';\r\nimport Peer from \"peerjs\"\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n@Component({\r\n  selector: 'app-live-free-saloon-model',\r\n  templateUrl: './live-free-saloon-model.component.html',\r\n  styleUrls: ['./live-free-saloon-model.component.scss', './../../live/live.scss']\r\n})\r\nexport class LiveFreeSaloonModelComponent implements OnInit {\r\n  context: string = \"LIVE CHOICE US\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n\r\n\r\n\r\n  client = {\r\n    img: \"assets/images/user_chat.png\",\r\n    pseudo: '',\r\n    id: 0\r\n  }\r\n\r\n  info = {\r\n    bg : \"assets/logos/dark-light.jpg\",\r\n    message : '',\r\n    idRoom: 0,\r\n    pseudo: '',\r\n    chatColor:'#FB77FC',\r\n    modelId: 0,\r\n    actif: 0,\r\n    creditModel: 0,\r\n    idCreditModel: 0,\r\n    winCredit: 0\r\n  }\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  choiceUs = {\r\n    title: '',\r\n    description: '',\r\n    tarif: 0\r\n  }\r\n\r\n  stat = {\r\n    id_show: 0,\r\n    filledChoiceUs: false,\r\n    type_show : null,\r\n    tarif_show: 0,\r\n    time_show: 0,\r\n    client: this.client.pseudo,\r\n    time_passed : this.timer.hour + ':' + this.timer.minute + ':' + this.timer.second,\r\n    hour_passed : null,\r\n    minute_passed : null,\r\n    second_passed : null,\r\n    actualCredit: this.info.creditModel,\r\n    winCredit: this.info.winCredit,\r\n    totalCredit: this.info.creditModel +  this.info.winCredit\r\n  }\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  updateChoiceUsSub = new Subscription();\r\n\r\n  loading: boolean = false;\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  roomId = null;\r\n\r\n  showInfoRoom: boolean = true;\r\n\r\n  sound_notification: boolean;\r\n  sound_message: boolean;\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n  @ViewChild('video_live_client', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string;\r\n  private lazyStream: any;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n\r\n  hasGotStreamClient: boolean = false;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private modelService: ModelService,\r\n    private route: ActivatedRoute,\r\n    private chatService: ChatService,\r\n    private roomVipService: RoomVipService,\r\n    private socketService: SocketService,\r\n    private profilService: ProfilService,\r\n    private timerService: TimerService,\r\n    private creditService: CreditService,\r\n    private banishService: BanishService,\r\n    private profileService: ProfilService) {\r\n      this.peer = new Peer();\r\n      // const id = this.route.snapshot.paramMap.get('clientId');\r\n      // this.client.id = parseInt(id);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifySound();\r\n    $(document).ready(\r\n      function() {\r\n        initSettingVideoModel();\r\n      }\r\n    );\r\n    this.video.nativeElement.autoplay = true;\r\n    this.video.nativeElement.playsInline = true;\r\n    this.video.nativeElement.muted = true;\r\n    this.remote_video.nativeElement.autoplay = true;\r\n    this.remote_video.nativeElement.playsInline = true;\r\n    this.getInfo();\r\n    this.initLiveVideo();\r\n    this.VerifyHasGotStreamClient();\r\n  }\r\n\r\n  VerifyHasGotStreamClient() {\r\n    setTimeout(() => {\r\n      console.log('verify stream client after 10 sec');\r\n      if (!this.hasGotStreamClient) {\r\n        if (this.peerId) {\r\n          const data = {\r\n            role: 'model',\r\n            modelId: this.info.modelId,\r\n            room : this.info.idRoom+'V',\r\n            peerId: this.peerId\r\n          }\r\n          this.socketService.newPeerIdModel(data);\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            const data = {\r\n              role: 'model',\r\n              modelId: this.info.modelId,\r\n              room : this.info.idRoom+'V',\r\n              peerId: this.peerId\r\n            }\r\n            this.socketService.newPeerIdModel(data);\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  toggleShowInfoRoom() {\r\n    this.showInfoRoom = !this.showInfoRoom;\r\n  }\r\n\r\n  verifySound() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data.setting);\r\n        this.sound_notification = data.setting.sound_notification === 1 ? true : false;\r\n        this.sound_message = data.setting.sound_message === 1 ? true : false;\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.onStop();\r\n    clearInterval(this.timer.timer)\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n  }\r\n\r\n  // Get info Model\r\n  getInfo() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log('Get info ', data);\r\n        if (data.profile.status === 'En live') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/live-private']);\r\n        } else if (data.profile.status === 'En ligne') {\r\n          this.onStop();\r\n          this.router.navigate(['/modele/chat']);\r\n        }\r\n        this.info.bg = data.path_soft;\r\n        this.info.modelId = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.getInfoRoom();\r\n        this.getCredit();\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  getInfoRoom() {\r\n    this.roomVipService.getRoomModel(this.info.modelId).subscribe(\r\n      (data) => {\r\n        // console.log('Model room ', data);\r\n        this.info.idRoom = data.idRoom;\r\n        this.roomId = data.idRoom +'V';\r\n        this.info.actif = data.actif < 0 ? 0 : data.actif;\r\n        this.info.actif = data.actif > 2 ? 2 : data.actif;\r\n        this.client.id = data.clientId;\r\n\r\n        this.stat.tarif_show = data.free;\r\n        this.stat.filledChoiceUs = data.free !== null ? true : false;\r\n        this.choiceUs.title = data.title;\r\n        this.choiceUs.description = data.description;\r\n        this.choiceUs.tarif = data.free;\r\n\r\n        this.getMessages();\r\n        this.initSocket();\r\n        this.getInfoClient();\r\n      }\r\n    )\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data) => {\r\n        // console.log(\"Credit \", data);\r\n        this.info.creditModel = data ? data.credit : 0;\r\n        this.info.idCreditModel = data ? data.id : 0;\r\n        this.stat.totalCredit = this.info.creditModel;\r\n        this.getGain();\r\n      }\r\n    );\r\n\r\n    // Launch the timer\r\n    this.initTimer();\r\n    this.getCostShow({title: '', description: '', tarif: 0});\r\n  }\r\n\r\n  initSocket() {\r\n    if (!this.roomVipService.joinedRoom(this.info.idRoom)) {\r\n      this.roomVipService.joinRoom(this.info.idRoom);\r\n      this.socketService.joinVip(this.info.idRoom, this.info.modelId);\r\n    }\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.info.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('joined ', data);\r\n        // this.info.actif = data < 1 ? 0 : data;\r\n        // this.info.actif = data > 2 ? 2 : data;\r\n        this.info.actif = 2;\r\n        if (this.sound_notification) {\r\n          this.socketService.soundIncome();\r\n        }\r\n        this.leaved = false;\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.info.idRoom}V`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        // this.info.actif = data < 1 ? 0 : data;\r\n        // this.info.actif = data > 2 ? 2 : data;\r\n        this.info.actif = 1;\r\n        if (this.sound_notification) {\r\n          this.socketService.soundOutcome();\r\n        }\r\n        this.leaved = true;\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.info.idRoom}V`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Message from client ', data);\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.peerSub = this.socketService.listen(`peerId ${this.info.idRoom}V`).subscribe(\r\n      (data: {peerId: any, idRoom: string}) => {\r\n        console.log('Received Peer Id ', data);\r\n        this.peerIdShare = data.peerId;\r\n        this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.info.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio)\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.info.idRoom}V`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo)\r\n          }\r\n      }\r\n    );\r\n\r\n    // Live Choice us change\r\n    this.updateChoiceUsSub = this.socketService.listen(`updateChoiceUs ${this.info.idRoom}V`).subscribe(\r\n          (data: {title: string, description: string, tarif: number}) => {\r\n    this.choiceUs.title = data.title;\r\n    this.choiceUs.description = data.description;\r\n    this.choiceUs.tarif = data.tarif;\r\n    this.getCostShow(this.choiceUs);\r\n    this.stat.filledChoiceUs = true;\r\n    });\r\n  }\r\n\r\n  toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n    if (isAudio) {\r\n      $('#video_live_client').prop('volume', 1)\r\n    } else {\r\n      $('#video_live_client').prop('volume', 0)\r\n    }\r\n  }\r\n\r\n  toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n    var filterVal = 'blur(0px)';\r\n    var filterFull = 'blur(200px)';\r\n    if (isVideo) {\r\n      $('#video_live_client')\r\n      .css('filter',filterVal)\r\n      .css('webkitFilter',filterVal)\r\n      .css('mozFilter',filterVal)\r\n      .css('oFilter',filterVal)\r\n      .css('msFilter',filterVal);\r\n    } else {\r\n      $('#video_live_client')\r\n      .css('filter',filterFull)\r\n      .css('webkitFilter',filterFull)\r\n      .css('mozFilter',filterFull)\r\n      .css('oFilter',filterFull)\r\n      .css('msFilter',filterFull);\r\n    }\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.info.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.info.idRoom,\r\n      message: this.info.message,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'vip',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.info.idRoom + 'V',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      message: this.info.message,\r\n      idRoom: this.info.idRoom,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      type_chat: 'vip',\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.info.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.info.idRoom, 'vip').subscribe(\r\n      (data) => {\r\n        // console.log('Messages ', data);\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoClient() {\r\n    this.roomVipService.getInfo(this.client.id).subscribe( // info client\r\n      (data) => {\r\n        // console.log(\"Info client \", data);\r\n        this.client.pseudo = data.pseudo;\r\n        this.stat.client = data.pseudo;\r\n      }\r\n    )\r\n  }\r\n\r\n  async liveOut() {\r\n    this.loading = true;\r\n    this.onStop();\r\n    await (await this.leaveTimer()).subscribe(\r\n      async (data) => {\r\n        this.timer.reinit = true;\r\n        this.clearTimer(); // set to zero\r\n        return await this.socketService.leaveVip(this.info.idRoom, 'model').then(\r\n          async (data) => {\r\n          this.roomVipService.leaveRoom();\r\n          await this.profilService.updateStatus(this.info.modelId, 'En ligne').subscribe(\r\n          (data) => {\r\n            this.loading = false;\r\n            window.location.href = '/modele/chat';\r\n            // this.router.navigate(['/modele/chat']);\r\n            }\r\n          )}\r\n        );\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n      // Timer\r\n  async initTimer() {\r\n        this.timerService.beginTimerModel(this.info.modelId, TypeTimer.VIP).subscribe(\r\n          async (data) => {\r\n            // console.log('Timer ', data);\r\n            const created: Date = data.createdAt;\r\n            const updated: Date = data.updatedAt;\r\n            this.timer.id = data.id;\r\n            // console.log(created.toString(), \" to \", updated.toString());\r\n            const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n            this.timer.hour = hour;\r\n            this.timer.minute = minute;\r\n            this.timer.second = second;\r\n            this.stat.time_passed = this.timer.hour + ' : ' + this.timer.minute + ' : ' +this.timer.second;\r\n            this.stat.hour_passed = this.timer.hour;\r\n            this.stat.minute_passed = this.timer.minute;\r\n            this.stat.second_passed = this.timer.second;\r\n            // console.log(this.timer.hour, ':', this.timer.minute, ':', this.timer.second);\r\n          }\r\n    )\r\n  }\r\n\r\n  async getCostShow(data: {title: string, description: string, tarif: number}) {\r\n      // console.log(\"Show Cost \", data);\r\n      this.stat.tarif_show = data.tarif;\r\n      this.stat.time_show = 60;\r\n      this.stat.type_show = 'CHOICE US';\r\n      this.stat.id_show = 0;\r\n      this.beginTimer();\r\n  }\r\n\r\n  beginTimer() {\r\n    // console.log(\"timer second \", this.show.second);\r\n    const delay = this.stat.time_show * 1000;\r\n    // console.log(delay, \" ms \");\r\n   this.timer.timer = setInterval(\r\n      () => {\r\n        if (this.info.actif > 1) this.getGain();\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  getGain() {\r\n    this.roomVipService.getRoomModel(this.info.modelId).subscribe(\r\n      (data) => {\r\n        // console.log(\"Gain \", data);\r\n        this.stat.winCredit = data.gain;\r\n        this.stat.actualCredit = this.stat.totalCredit - this.stat.winCredit;\r\n        this.info.winCredit = data.gain;\r\n    })\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.VIP,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n\r\n  // WEB RTC - LIVE VIDEO\r\n  initLiveVideo() {\r\n    // console.log(\"Start\");\r\n    this.onStart();\r\n    this.getPeerId();\r\n  }\r\n\r\n  onStart(){\r\n    if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n      navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n        this.lazyStream = ms;\r\n        console.log('My stream ', ms);\r\n        this.video.nativeElement.srcObject = this.lazyStream;\r\n        // this.remote_video.nativeElement.srcObject = ms;\r\n        // const _video = this.video.nativeElement;\r\n        // _video.srcObject = ms;\r\n        // _video.play();\r\n        $('#video_live_model').prop('volume', 0);\r\n      });\r\n    }\r\n  }\r\n\r\n  onStop() {\r\n    if (this.video && this.video.nativeElement.srcObject) {\r\n      this.video.nativeElement.pause();\r\n      if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n        (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n      }\r\n      this.video.nativeElement.srcObject = null;\r\n    }\r\n    if (this.lazyStream) {\r\n      this.lazyStream.getTracks().forEach(\r\n        (track) => {\r\n          track.stop();\r\n        }\r\n      );\r\n    }\r\n    this.lazyStream = null;\r\n  }\r\n\r\n  private getPeerId = () => {\r\n    // console.log(\"Get Peer\");\r\n    this.peer.on('open', (id) => {\r\n      console.log(\"Peer Id \", id);\r\n      this.peerId = id;\r\n      const data = {\r\n        role: 'model',\r\n        modelId: this.info.modelId,\r\n        room : this.info.idRoom+'V',\r\n        peerId: this.peerId\r\n      }\r\n      this.socketService.newPeerIdModel(data);\r\n    });\r\n\r\n    this.peer.on('call', (call) => {\r\n      console.log('On Call');\r\n      call.answer(this.lazyStream);\r\n      console.log('Answer stream');\r\n      call.on('stream', (remoteStream) => {\r\n        console.log('Receive stream');\r\n        this.hasGotStreamClient = true;\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      });\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: true,\r\n      //   audio: true\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   this.video.nativeElement.srcObject = stream;\r\n      //   // const _video = this.video.nativeElement;\r\n      //   // _video.srcObject = stream;\r\n      //   // _video.play();\r\n      //   call.answer(stream);\r\n      //   // console.log('Answer stream');\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     // console.log('Receive stream');\r\n      //     this.streamRemoteVideo(remoteStream);\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to get media');\r\n      // });\r\n    });\r\n  }\r\n\r\n  connectWithPeer(): void {\r\n    this.callPeer(this.peerIdShare);\r\n  }\r\n\r\n  private callPeer(id: string): void {\r\n    console.log('Call peer');\r\n    const call = this.peer.call(id, this.lazyStream);\r\n    call.on('stream', (remoteStream) => {\r\n      console.log('Receive stream');\r\n      if (!this.peerList.includes(call.peer)) {\r\n        this.streamRemoteVideo(remoteStream);\r\n        this.currentPeer = call.peerConnection;\r\n        this.peerList.push(call.peer);\r\n      }\r\n    });\r\n\r\n    // this.onStop();\r\n    // navigator.mediaDevices.getUserMedia({\r\n    //   video: true,\r\n    //   audio: true\r\n    // }).then((stream) => {\r\n    //   this.lazyStream = stream;\r\n    //   this.video.nativeElement.srcObject = stream;\r\n    //   const call = this.peer.call(id, stream);\r\n    //   call.on('stream', (remoteStream) => {\r\n    //     // console.log('Receive stream');\r\n    //     this.streamRemoteVideo(remoteStream);\r\n    //     if (!this.peerList.includes(call.peer)) {\r\n    //       this.currentPeer = call.peerConnection;\r\n    //       this.peerList.push(call.peer);\r\n    //     }\r\n    //   });\r\n    // }).catch(err => {\r\n    //   console.log(err + 'Unable to connect');\r\n    // });\r\n  }\r\n\r\n  private streamRemoteVideo(stream: MediaStream): void {\r\n    console.log('Stream Remote video ', stream)\r\n    // this.remote_video.nativeElement.srcObject = stream;\r\n    const _video = this.remote_video.nativeElement;\r\n    _video.srcObject = stream;\r\n    setTimeout(() => {\r\n      _video.play();\r\n    }, 3000)\r\n\r\n    // const video = document.createElement('video');\r\n    // video.classList.add('video');\r\n    // video.srcObject = stream;\r\n    // video.play();\r\n    // document.getElementById('remote-video').append(video);\r\n  }\r\n\r\n  toggleVideo() {\r\n    this.showVideo = !this.showVideo;\r\n    if (this.showVideo) {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getVideoTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    }\r\n    // if (this.showVideo) {\r\n    //   $(\"#video_live_model\").removeClass( \"hideStream\" ).addClass(\"showStream\");\r\n    // } else {\r\n    //   $(\"#video_live_model\").removeClass(\"showStream\").addClass(\"hideStream\");\r\n    // }\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'V'\r\n    this.socketService.toggleVideo(room, null, this.peerId, this.info.modelId, this.showVideo)\r\n  }\r\n\r\n  toggleAudio() {\r\n    this.showAudio = !this.showAudio;\r\n\r\n    if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n\r\n    // this.onStop();\r\n    // this.onStart();\r\n    const room = this.info.idRoom+'V'\r\n    this.socketService.toggleAudio(room, null, this.peerId, this.info.modelId, this.showAudio)\r\n  }\r\n\r\n  banish() {\r\n    if (this.client.id === 0 || !this.client.id || !this.roomId) return null\r\n    this.banishService.banishClient(this.info.modelId, this.client.id).subscribe(\r\n      (data) => {\r\n        this.socketService.banishClient(this.roomId, this.client.id)\r\n        // console.log(data)\r\n      }\r\n    )\r\n  }\r\n\r\n    // -------- EMOJI -----------------\r\n\r\n    toggleEmojiPicker() {\r\n      this.showEmojiPicker = !this.showEmojiPicker;\r\n    }\r\n\r\n    addEmoji(event) {\r\n      const {info} = this;\r\n      // console.log(this.info.message);\r\n      // console.log(`${event.emoji.native}`);\r\n      let text = '';\r\n      if (this.info.message) {\r\n        text = `${info.message}${event.emoji.native}`;\r\n      } else {\r\n        text = `${event.emoji.native}`;\r\n      }\r\n      this.info.message = text;\r\n      // console.log(this.info.message)\r\n      // this.showEmojiPicker = false;\r\n    }\r\n\r\n    focus() {\r\n      this.showEmojiPicker = false;\r\n    }\r\n\r\n\r\n}\r\n","<app-header connected=\"true\" model=\"true\"></app-header>\r\n\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <app-topbar-model [context]=\"context\" [actif]=\"info.actif\"\r\n    [hour]=\"this.timer.hour\"\r\n    [minute]=\"this.timer.minute\"\r\n    [second]=\"this.timer.second\"\r\n    [reinit]=\"this.timer.reinit\"\r\n    ></app-topbar-model>\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"show_live_left show_live_left_model\">\r\n\r\n        <div class=\"videoContainer\" id=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls autoplay class=\"model_flow\" id=\"video_live_model\" #video_live_model muted=\"muted\"></video>\r\n        </div>\r\n\r\n        <div class=\"contain_info_room\">\r\n          <div class=\"contain_welcome\" (click)=\"toggleShowInfoRoom()\">\r\n            <i class=\"fa fa-chevron-right\" *ngIf=\"showInfoRoom\"></i>\r\n            <i class=\"fa fa-chevron-down\" *ngIf=\"!showInfoRoom\"></i>\r\n            <span *ngIf=\"showInfoRoom\">Bienvenue <span>{{info.pseudo}}</span></span>\r\n            <span *ngIf=\"!showInfoRoom\" class=\"label_room\">Live CHOICE US</span>\r\n          </div>\r\n          <div class=\"contain_detail\" *ngIf=\"showInfoRoom\">\r\n            Vous êtes actuellement en <br>\r\n            <span class=\"label_room\">LIVE CHOICE US</span> <br>\r\n          </div>\r\n          <div class=\"contain_gain\" *ngIf=\"showInfoRoom\">\r\n            {{stat.tarif_show}} crédits / mn\r\n          </div>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n      <div class=\"client_live\" [ngClass]=\"{'dry_up': leaved}\">\r\n        <video controls [poster]=\"client.img\" muted=\"true\" class=\"client_flow\" id=\"video_live_client\" #video_live_client></video>\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Paramètre live\">\r\n            <app-live-vip-stat type_show=\"live choice us\"\r\n            [tarif_show]=\"stat.tarif_show\" liveFree=1\r\n            [time_show]=\"stat.time_show\" [client]=\"stat.client\"\r\n            [time_passed]=\"stat.time_passed\" [hour_passed]=\"stat.hour_passed\"\r\n            [minute_passed]=\"stat.minute_passed\" [second_passed]=\"stat.second_passed\"\r\n            [actualCredit]=\"stat.actualCredit\" [roomId]=\"info.idRoom\"\r\n            [winCredit]=\"stat.winCredit\" [totalCredit]=\"stat.totalCredit\"\r\n            [filledChoiceUs]=\"stat.filledChoiceUs\"\r\n            [tarif]=\"choiceUs.tarif\" [title]=\"choiceUs.title\"\r\n            [description]=\"choiceUs.description\"\r\n            ></app-live-vip-stat>\r\n          </mat-tab>\r\n\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"info.modelId\" [messages]=\"messages\"\r\n            [profil]=\"info.bg\" showMenu=\"true\"\r\n            isModel=\"true\" [clientId]=\"0\"\r\n            live=\"free\" [pseudoModel]=\"info.pseudo\"></app-live-free-chat>\r\n\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n\r\n      <div class=\"leave\" *ngIf=\"leaved\">\r\n        Le client : {{this.client.pseudo}} a quitté le room.\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_banish lighter\" (click)=\"banish()\">Bannir le client</button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\">\r\n\r\n        <div class=\"btn_credit\">\r\n          <button class=\"btn lighter\">\r\n            {{info.creditModel}} crédits\r\n          </button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_banish lighter\" (click)=\"banish()\">Bannir le client</button>\r\n          <p></p>\r\n        </div>\r\n\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p></p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"info.message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","<app-infobar-admin title=\"Administration\" subTitle=\"Administration\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    PAYEMENT\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"filter_client\">\r\n            <p class=\"txt\">Afficher par :</p>\r\n            <select name=\"filter\" id=\"filter\" (change)=\"select($event)\">\r\n              <option value=\"tous\">Tous</option>\r\n              <option value=\"in\">Entrant</option>\r\n              <option value=\"out\">Sortant</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" *ngIf=\"page > 0\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" *ngIf=\"page < topPage\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 col-9\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-2 col-3\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <button class=\"btn_add_pay\" (click)=\"newPay()\"\r\n            matTooltip=\"Ajouter un Paiement\" matTooltipClass=\"tooltip_class\">\r\n              +\r\n            </button>\r\n            <!-- <img [src]=\"other\" alt=\"\" class=\"other_icon_2\" > -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        PAYEMENT EFFECTUE\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Adresse email</td>\r\n          <td>Date</td>\r\n          <td>Crédit</td>\r\n          <td>Montant</td>\r\n          <td>Flux</td>\r\n        </tr>\r\n        <tr *ngFor=\"let pay of paiements\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{pay.pseudo}}</td>\r\n          <td>{{pay.email}}</td>\r\n          <td>{{pay.createdAt}}</td>\r\n          <td>{{pay.credit}}</td>\r\n          <td>{{pay.montant}}</td>\r\n          <td>\r\n            <span *ngIf=\"pay.flux === 'in'\">Entrant</span>\r\n            <span *ngIf=\"pay.flux === 'out'\">Sortant</span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/services/admin/admin.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-list-paiement-admin',\r\n  templateUrl: './list-paiement-admin.component.html',\r\n  styleUrls: ['./list-paiement-admin.component.scss']\r\n})\r\nexport class ListPaiementAdminComponent implements OnInit {\r\n  icon = './../../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  paiements = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countPay()\r\n    this.listPay()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countPay() {\r\n    this.adminService.countPay().subscribe(\r\n      (data: any) => {\r\n        this.count = data ? data : 0\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n  listPay() {\r\n    this.adminService.getListPaiement(this.selected, this.range, this.page, this.filter).subscribe(\r\n      (data: any) => {\r\n        // console.log('Paiement ', data)\r\n        this.paiements = data\r\n        this.paiements.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n          client.montant = client.montant ? client.montant + ' €' : ''\r\n        })\r\n        this.count = this.paiements.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  select(event) {\r\n    const value = event.target.value;\r\n    this.selected = value\r\n    this.listPay()\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listPay()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listPay()\r\n  }\r\n\r\n  nextPage() {\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listPay()\r\n  }\r\n\r\n  prevPage() {\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listPay()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listPay()\r\n  }\r\n\r\n  deletePay(idPay: number) {\r\n    this.adminService.deletePaiement(idPay).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listPay()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  newPay() {\r\n    this.router.navigate(['/admin/paiement'])\r\n  }\r\n\r\n}\r\n","<app-header actif=\"3\"></app-header>\r\n\r\n\r\n<div class=\"contain_signup_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>INSCRIPTION</h2>\r\n    <p>CLIENT</p>\r\n    <div class=\"blank\"></div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signup_two inside_sign\">\r\n  <h2 class=\"title\">\r\n    Créer un compte <br>\r\n    Inscription gratuite\r\n  </h2>\r\n\r\n  <div class=\"descr\">\r\n      ENTRER DANS L'AVENTURE <span class=\"under\"> BETWEEN<span class=\"under_bold\">US</span>.LIVE</span> <br>\r\n      Un site français, moderne et innovant. <br>\r\n      Une plateforme unique et 100% live. <br>\r\n      Nos valeurs: respect et écoute des modèles et des abonnés. <br>\r\n      Votre fidelité recompensée.\r\n  </div>\r\n\r\n  <form class=\"form\" [formGroup]=\"signForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Pseudo *</label>\r\n      <input type=\"text\" formControlName=\"pseudo\" name=\"pseudo\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.pseudo.errors\">\r\n        <small *ngIf=\"form.pseudo.errors.required\" class=\"form-text error-text\">Pseudo requis</small>\r\n      </div>\r\n      <div *ngIf=\"pseudoExist\">\r\n        <small class=\"form-text error-text\">Pseudo existe déjà</small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email *</label>\r\n      <input type=\"text\" formControlName=\"email\" name=\"email\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.email.errors\">\r\n        <small *ngIf=\"form.email.errors.required\" class=\"form-text error-text \">\r\n          Adresse email requis\r\n        </small>\r\n        <small *ngIf=\"form.email.errors.email\" class=\"form-text error-text \">\r\n          Format invalide\r\n        </small>\r\n      </div>\r\n      <div *ngIf=\"emailExist\">\r\n        <small class=\"form-text error-text \">\r\n          Email déjà utilisé\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe *</label>\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.password.errors\">\r\n        <small *ngIf=\"form.password.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n        <small *ngIf=\"form.password.errors.pattern\" class=\"form-text error-text\">\r\n          Au moins 8 caractères, lettre majuscule et  minuscule,\r\n          un chiffre et/ou un caractère spécial.\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"passwordConfirm\">Confirmer mot de passe *</label>\r\n      <input type=\"password\" formControlName=\"passwordConfirm\" name=\"passwordConfirm\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.passwordConfirm.errors\">\r\n        <small *ngIf=\"form.passwordConfirm.errors.required\" class=\"form-text error-text \">\r\n          Confirmation mot de passe requis\r\n        </small>\r\n        <small *ngIf=\"form.passwordConfirm.errors.mustMatch\" class=\"form-text error-text \">\r\n          Mot de passe ne correspond pas\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div>\r\n      <small *ngIf=\"error !== null\" class=\"form-text error-text\">\r\n        {{error}}\r\n      </small>\r\n    </div> -->\r\n\r\n\r\n    <div class=\"notif\">\r\n      * Champ obligatoire\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signup lighter\" (click)=\"register($event)\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\"> S'INSCRIRE</span>\r\n      </button>\r\n    </div>\r\n  </form>\r\n\r\n\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { AuthService } from './../../../services/auth/auth.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { registerClient } from 'src/app/interfaces/register.interface';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\n\r\n@Component({\r\n  selector: 'app-signup',\r\n  templateUrl: './signup.component.html',\r\n  styleUrls: ['./signup.component.scss']\r\n})\r\nexport class SignupComponent implements OnInit {\r\n  signForm : FormGroup;\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n\r\n  error: string = null;\r\n  emailExist: boolean = false;\r\n  pseudoExist: boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder : FormBuilder,\r\n    private authService: AuthService,\r\n    private popupService: PopupService,\r\n    private creditService: CreditService\r\n  ) {\r\n    this.signForm = this.formBuilder.group({\r\n      pseudo : ['', Validators.required],\r\n      email : ['',[Validators.required, Validators.email]],\r\n      // password : ['',[Validators.required, Validators.pattern(/^(?=\\D*\\d)(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z]).{8,}$/)]],\r\n      password : ['', Validators.required],\r\n      passwordConfirm: ['',Validators.required],\r\n    },{\r\n      validators : this.mustMatch('password','passwordConfirm'),\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  get form() {return this.signForm.controls}\r\n\r\n  mustMatch = (controlName : string, matchControlName : string) => {\r\n    return (formGroup: FormGroup) => {\r\n      const control = formGroup.controls[controlName];\r\n      const matchingControl = formGroup.controls[matchControlName];\r\n\r\n      if (matchingControl.errors && !matchingControl.errors.mustMatch) {\r\n          return;\r\n      }\r\n      if (control.value !== matchingControl.value) {\r\n          matchingControl.setErrors({ mustMatch: true });\r\n      } else {\r\n          matchingControl.setErrors(null);\r\n      }\r\n  }\r\n  }\r\n\r\n  async register(event) {\r\n    this.pseudoExist = false;\r\n    this.emailExist = false;\r\n    this.error = null;\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n\r\n    if(this.signForm.invalid){\r\n      return false;\r\n    }\r\n    this.loading = true;\r\n    let user: registerClient = this.signForm.value;\r\n    await this.authService.registerClient(user).subscribe(\r\n      (res: any) => {\r\n          // console.log(res);\r\n          if (res.error) {\r\n            this.error = res.message;\r\n            if (res.pseudo) this.pseudoExist = true;\r\n            if (res.email) this.emailExist = true;\r\n            this.loading = false;\r\n          } else {\r\n            this.creditService.createCreditClient(res.id).subscribe(\r\n              (data) => {\r\n                this.submitted = false;\r\n                this.popupService.info('client','Félicitation',\r\n                `Un email de confirmation est envoyé à\r\n                <span style=\"font-style: italic; color: var(--pink)\">${res.email}</span>. <br>\r\n                <small>Veuillez vérifier dans vos spams</small>`);\r\n                this.signForm.reset();\r\n                this.loading = false;\r\n              }\r\n            )\r\n          }\r\n      },\r\n      (err: any) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n      }\r\n    );\r\n    return true;\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ConfirmLogoutComponent } from 'src/app/modals/confirm-logout/confirm-logout/confirm-logout.component';\r\nimport * as $ from 'jquery';\r\n\r\n@Component({\r\n  selector: 'app-leftbar-admin',\r\n  templateUrl: './leftbar-admin.component.html',\r\n  styleUrls: ['./leftbar-admin.component.scss']\r\n})\r\nexport class LeftbarAdminComponent implements OnInit {\r\n  icon = './../../../../../assets/icons/paper-clip.svg'\r\n  logout = './../../../../../assets/icons/admin-icons/logout.png'\r\n  dashboard = './../../../../../assets/icons/admin-icons/dashboard.png'\r\n  toggledMenu: boolean = false;\r\n  menu = [\r\n    {\r\n      title: 'client',\r\n      under : [\r\n        {\r\n          label : 'Liste des clients',\r\n          icon : './../../../../../assets/icons/admin-icons/list.png',\r\n          route : '/les-clients'\r\n        },\r\n        {\r\n          label : 'Clients bloqués',\r\n          icon : './../../../../../assets/icons/admin-icons/user_block.png',\r\n          route : '/les-clients-bloques'\r\n        },\r\n        // {\r\n        //   label : 'Demandes',\r\n        //   icon : './../../../../../assets/icons/admin-icons/ask2.png',\r\n        //   route : '/les-demandes-clients'\r\n        // },\r\n        {\r\n          label : 'Statistiques',\r\n          icon : './../../../../../assets/icons/admin-icons/statistique.png',\r\n          route : '/clients-statistiques'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'modèles',\r\n      under : [\r\n        {\r\n          label : 'Liste des modèles',\r\n          icon : './../../../../../assets/icons/admin-icons/list.png',\r\n          route : '/les-modeles'\r\n        },\r\n        {\r\n          label : 'Modèles bloqués',\r\n          icon : './../../../../../assets/icons/admin-icons/user_block.png',\r\n          route : '/les-modeles-bloques'\r\n        },\r\n        {\r\n          label : 'Demandes',\r\n          icon : './../../../../../assets/icons/admin-icons/ask2.png',\r\n          route : '/les-demandes-modeles'\r\n        },\r\n        {\r\n          label : 'Suivi',\r\n          icon : './../../../../../assets/icons/admin-icons/payement.png',\r\n          route : '/suivi-modeles'\r\n        },\r\n        {\r\n          label: 'Commissions',\r\n          icon : './../../../../../assets/icons/admin-icons/help-center.png',\r\n          route: '/commissions-model'\r\n        },\r\n        {\r\n          label : 'Statistiques',\r\n          icon : './../../../../../assets/icons/admin-icons/statistique.png',\r\n          route : '/modeles-statistiques'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'administration',\r\n      under : [\r\n        {\r\n          label : 'Paramètres',\r\n          icon : './../../../../../assets/icons/admin-icons/settings.png',\r\n          route : '/setting-admin'\r\n        },\r\n        {\r\n          label : 'Message',\r\n          icon : './../../../../../assets/icons/admin-icons/messenger.png',\r\n          route : '/message-admin'\r\n        },\r\n        {\r\n          label : 'Payements',\r\n          icon : './../../../../../assets/icons/admin-icons/payement.png',\r\n          route : '/list-paiement'\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private dialog: MatDialog\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  navigate(route) {\r\n    this.router.navigate(['/admin' + route]);\r\n  }\r\n\r\n  out() {\r\n    const dialogRef = this.dialog.open(ConfirmLogoutComponent, {\r\n      width: '50vh',\r\n      data: {action: 'admin'}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  toggleMenu() {\r\n    this.toggledMenu = !this.toggledMenu;\r\n    if (this.toggledMenu) $('.main_leftbar').show();\r\n    else $('.main_leftbar').hide();\r\n  }\r\n\r\n}\r\n","<div class=\"float_btn\" (click)=\"toggleMenu()\">\r\n  <img src=\"./../../../../../assets/icons/admin-icons/menu.png\" alt=\"\">\r\n</div>\r\n\r\n<div class=\"main_leftbar\">\r\n  <div class=\"title_leftbar\">\r\n    BETWEEN<span>US</span>\r\n  </div>\r\n\r\n  <div class=\"contain_leftbar top_dashboard\">\r\n    <div class=\"icon_left\">\r\n      <img [src]=\"dashboard\" alt=\"\" class=\"img_icon\">\r\n    </div>\r\n    <div class=\"label_left\" (click)=\"navigate('/dashboard')\">\r\n      Tableau de bord\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"menu_left\" *ngFor=\"let item of menu\">\r\n    <div class=\"title_menu\">\r\n      {{item.title}}\r\n    </div>\r\n    <div class=\"contain_leftbar\" *ngFor=\"let mini of item.under\">\r\n      <div class=\"icon_left\">\r\n        <img [src]=\"mini.icon\" alt=\"\" class=\"img_icon\">\r\n      </div>\r\n      <div class=\"label_left\" (click)=\"navigate(mini.route)\">\r\n        {{mini.label}}\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"bottom_menu\">\r\n    <div class=\"contain_leftbar\">\r\n      <div class=\"icon_left\">\r\n        <img [src]=\"logout\" alt=\"\" class=\"img_icon\">\r\n      </div>\r\n      <div class=\"label_left\" (click)=\"out()\">\r\n        Se déconnecter\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { AdminService } from '../../../../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-statistique-clients-admin',\r\n  templateUrl: './statistique-clients-admin.component.html',\r\n  styleUrls: ['./statistique-clients-admin.component.scss']\r\n})\r\nexport class StatistiqueClientsAdminComponent implements OnInit {\r\n  years : number[] = []\r\n\r\n  options: any;\r\n  updating: boolean = false;\r\n  inscriptions = []\r\n  original = []\r\n  currentYear: number = new Date().getFullYear()\r\n  currentMonth: string = '01'\r\n\r\n  isIntegral: boolean = false\r\n\r\n  constructor(\r\n    private adminService: AdminService\r\n  ) {\r\n    this.options = {\r\n      autoSize: true,\r\n      data: this.getData(),\r\n      series: [\r\n        {\r\n          xKey: 'date',\r\n          yKey: 'count',\r\n          yName: 'Inscriptions',\r\n          stroke: '#FB77FC',\r\n          marker: {\r\n            size: 2,\r\n            fill: '#FB77FC',\r\n            stroke: '#FB77FC',\r\n          },\r\n        }\r\n      ],\r\n      axes: [\r\n        {\r\n          type: 'category',\r\n          position: 'bottom',\r\n          nice: false,\r\n          // tick: { count: agCharts.time.second.every(3), color:  \"rgb(0, 0, 0)\"},\r\n          tick: { count: 0,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: '%m/%d/%Y', color:  \"rgb(0, 0, 0)\" },\r\n        },\r\n        {\r\n          type: 'number',\r\n          position: 'left',\r\n          nice: false,\r\n          tick: { count: 1,color:  \"rgb(0, 0, 0)\"},\r\n          label: { format: '#{.0f}', color:  \"#000\"}\r\n        }\r\n      ],\r\n      background: {\r\n        fill: \"#ffffff5f\",\r\n        visible: true\r\n      },\r\n      tooltip: {\r\n        enabled: true\r\n      },\r\n      navigator: {\r\n        enabled: true\r\n      },\r\n      title: { text: '' },\r\n      legend: {\r\n        position: 'bottom',\r\n        enabled: true,\r\n        item: {\r\n          label: {\r\n            color: 'black'\r\n          }\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initYears();\r\n    this.startUpdates();\r\n    this.useDefaultGridStyle();\r\n    this.getInscriptions()\r\n  }\r\n\r\n  initYears() {\r\n    const initial = 2021;\r\n    for(let i = 0; i < 50; i++ ) {\r\n      this.years.push(initial+i)\r\n    }\r\n  }\r\n\r\n  useDefaultGridStyle = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    var gridStyle = [\r\n      {\r\n        stroke: 'white',\r\n        lineDash: [2, 1],\r\n      },\r\n    ];\r\n    options.axes[0].gridStyle = gridStyle;\r\n    options.axes[1].gridStyle = gridStyle;\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  update = () => {\r\n    const options = cloneDeep(this.options);\r\n\r\n    options.data = this.getData();\r\n\r\n    this.options = options;\r\n  };\r\n\r\n  startUpdates = () => {\r\n    if (this.updating) {\r\n      return;\r\n    }\r\n    this.updating = true;\r\n    this.update();\r\n    setInterval(this.update, 1000);\r\n  };\r\n\r\n  getData() {\r\n    this.updating = false;\r\n    return this.inscriptions;\r\n  }\r\n\r\n  getInscriptions() {\r\n    this.adminService.getStatInscriptionClient().subscribe(\r\n      (data: any) => {\r\n        let tmp = data\r\n        tmp.forEach(inscrit => {\r\n          inscrit.date = this.adminService.formatDate(inscrit.date)\r\n          inscrit.count = parseInt(inscrit.count)\r\n        })\r\n        this.inscriptions = tmp\r\n        this.original = tmp\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  selectMonth(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentMonth = value\r\n    const search = this.currentMonth+'/'+this.currentYear\r\n    this.inscriptions =  this.original.filter(element => {\r\n      const year = element.date.substring(3, 10)\r\n      if (year === search) return true\r\n      return false\r\n    })\r\n  }\r\n\r\n  selectYear(event) {\r\n    this.isIntegral = false\r\n    const value = event.target.value;\r\n    this.currentYear = value\r\n    this.inscriptions =  this.original.filter(element => {\r\n      const year = element.date.substring(6, 10)\r\n      if (year === this.currentYear) return true\r\n      return false\r\n    })\r\n  }\r\n\r\n  integral() {\r\n    this.isIntegral = !this.isIntegral\r\n    if (this.isIntegral) {\r\n        this.inscriptions = this.original\r\n    } else {\r\n        const search = this.currentMonth+'/'+this.currentYear\r\n        this.inscriptions =  this.original.filter(element => {\r\n          const year = element.date.substring(3, 10)\r\n          if (year === search) return true\r\n          return false\r\n      })\r\n    }\r\n  }\r\n}\r\n","<app-infobar-admin title=\"Clients\" subTitle=\"Clients\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    STATISTIQUES\r\n  </div>\r\n\r\n  <div class=\"block_right\">\r\n    <div class=\"title_right\">\r\n      <select name=\"month\" id=\"month\" (change)=\"selectMonth($event)\">\r\n        <option value=\"01\">Janvier</option>\r\n        <option value=\"02\">Février</option>\r\n        <option value=\"03\">Mars</option>\r\n        <option value=\"04\">Avril</option>\r\n        <option value=\"05\">Mai</option>\r\n        <option value=\"06\">Juin</option>\r\n        <option value=\"07\">Juillet</option>\r\n        <option value=\"08\">Août</option>\r\n        <option value=\"09\">Septembre</option>\r\n        <option value=\"10\">Octobre</option>\r\n        <option value=\"11\">Novembre</option>\r\n        <option value=\"12\">Decembre</option>\r\n      </select>\r\n\r\n      <select name=\"year\" id=\"year\" (change)=\"selectYear($event)\">\r\n        <option [value]=\"year\" *ngFor=\"let year of years\">{{year}}</option>\r\n      </select>\r\n\r\n      <button class=\"btn btn_integrale\" (click)=\"integral()\"\r\n      [ngClass]=\"{'integral' : isIntegral}\">\r\n        Afficher l'intégrale\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"under_right\">\r\n      <div class=\"list_action_right\">\r\n        <button class=\"btn btn_list\" >\r\n          Nombres d'inscription\r\n        </button>\r\n        <!-- <button class=\"btn btn_list\">\r\n          Nombre d'abonnés\r\n        </button> -->\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"graph_right\">\r\n    <div class=\"wrapper\">\r\n      <ag-charts-angular\r\n        style=\"height: 70vh; width: 100%; overflow: hidden\"\r\n        [options]=\"options\"\r\n      ></ag-charts-angular>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n","<app-header actif=\"4\" connected=\"true\" model=\"true\"></app-header>\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <app-topbar-model context=\"Live Chat\"\r\n      visible=\"false\" minuteur=\"false\"\r\n      [actif]=\"info.actif\"></app-topbar-model>\r\n      <div class=\"show_live_left show_live_left_model\" [ngStyle]=\"{'background-image': 'url(' + info.bg + ')'}\">\r\n\r\n        <div class=\"contain_list_info\">\r\n          <div class=\"message_list_info\" id=\"message_list_info\" *ngFor=\"let msg of infos; let i=index\">\r\n            <div [ngClass]=\"{'info_chat': msg.label==='info',\r\n            'join_chat': msg.label==='join',\r\n            'leave_chat': msg.label==='leave'}\">\r\n              {{msg.message}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"show_live_right\">\r\n\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"info.modelId\"\r\n            [messages]=\"messages\" [profil]=\"info.bg\"\r\n            showMenu=\"true\" [roomId]=\"roomId\"\r\n            isModel=\"true\" [clientId]=\"0\"></app-live-free-chat>\r\n          </mat-tab>\r\n\r\n          <mat-tab label=\"Tester votre caméra\">\r\n            <app-try-webcam></app-try-webcam>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n\r\n        <!-- <div class=\"header_chat\">\r\n          <p>&gt;</p>\r\n          <div>\r\n            Live Chat\r\n          </div>\r\n        </div>\r\n        <app-live-free-chat [modelId]=\"info.modelId\"\r\n        [messages]=\"messages\" [profil]=\"info.bg\"\r\n        showMenu=\"true\" [roomId]=\"roomId\"\r\n        isModel=\"true\" [clientId]=\"0\"></app-live-free-chat> -->\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left contain_left_model\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n\r\n        <div class=\"launch\">\r\n          <button class=\"btn_credit\">\r\n            {{info.credit}} Crédits\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"contain_salon_libre\">\r\n          <select name=\"salon_libre\" id=\"salon_libre\"\r\n          (change)=\"changeSalonLibre($event)\"\r\n          [(ngModel)]=\"live_selected\"\r\n          >\r\n            <option [value]=\"selected_orig\">Votre live : </option>\r\n            <option value=\"live_private\">Live PRIVATE</option>\r\n            <option value=\"live_vip\">Live VIP</option>\r\n            <option value=\"live_tips\">Live TIPS</option>\r\n            <option value=\"choice_us\">Choice US</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"launch\">\r\n          <button class=\"btn_launch\" (click)=\"launchLive()\">\r\n            Lancer le live\r\n          </button>\r\n        </div>\r\n\r\n        <!--\r\n        <div class=\"show_private btn_show\">\r\n          <button class=\"btn btn_private lighter\">Show Privé</button>\r\n          <p *ngIf=\"statPrivate.tarif_show > 0\"\r\n          >{{statPrivate.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n          >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div> -->\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <div class=\"launch\">\r\n          <button class=\"btn_credit\">\r\n            {{info.credit}} Crédits\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"contain_salon_libre\">\r\n          <select name=\"salon_libre\" id=\"salon_libre\"\r\n          (change)=\"changeSalonLibre($event)\"\r\n          [(ngModel)]=\"live_selected\"\r\n          >\r\n          <option value=\"live_private\">Live PRIVATE</option>\r\n          <option value=\"live_vip\">Live VIP</option>\r\n          <option value=\"live_tips\">Live TIPS</option>\r\n          <option value=\"choice_us\">Choice US</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"launch\">\r\n          <button class=\"btn_launch\" (click)=\"launchLive()\">\r\n            Lancer le Live\r\n          </button>\r\n        </div>\r\n\r\n        <!-- <div class=\"show_private btn_show\">\r\n          <button class=\"btn btn_private lighter\">Show Privé</button>\r\n          <p *ngIf=\"statPrivate.tarif_show > 0\"\r\n          >{{statPrivate.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n          >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div> -->\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"contain_right contain_right_model\">\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"info.message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n\r\n<div class=\"contain_invitation\">\r\n  <div class=\"list_invitation\">\r\n    <div class=\"invitation\" *ngFor=\"let item of listInvitation\" data-aos=\"fade-left\" data-aos-duration=\"1000\">\r\n      <div class=\"close_invitation\"\r\n      (click)=\"closeInvitation(item.clientId, item.clientPseudo, item.roomId)\">x</div>\r\n      <p class=\"message_invitation\">\r\n        <span *ngIf=\"!item.special\">Invitation VIP</span>\r\n        <span *ngIf=\"item.special && item.special === 'live choice'\">Invitation <i>CHOICE US</i></span>\r\n        <br>\r\n        by <span class=\"pseudo_invitation\">{{item.clientPseudo}}</span>\r\n      </p>\r\n      <div class=\"action_invitation\">\r\n        <button class=\"btn_invitation btn_accept lighter\"\r\n        (click)=\"acceptInvitationToVIP(item.clientId, item.clientPseudo, item.roomId, item.special)\">\r\n          Accepter\r\n        </button>\r\n        <button class=\"btn_invitation btn_deny lighter\"\r\n        (click)=\"denyInvitationToVIP(item.clientId, item.clientPseudo, item.roomId, item.special)\">\r\n          Refuser\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef,\r\n  IterableDiffers} from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { NavigationExtras, Router, RouterStateSnapshot, ActivatedRoute } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { ChatService } from '../../../services/chat/chat.service';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { RoomService } from '../../../services/room/room.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { Subscription } from 'rxjs';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { InfoChat, TypeInfoChat } from 'src/app/interfaces/info-chat.interface';\r\nimport * as $ from 'jquery';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport * as AOS from 'aos';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { isBoolean } from 'util';\r\nimport { SettingTipsComponent } from '../setting-tips/setting-tips.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\n\r\ninterface Invitation {\r\n  clientId: number,\r\n  clientPseudo: string,\r\n  roomId: any,\r\n  special?: string\r\n}\r\n\r\n@Component({\r\n  selector: 'app-live-chat-model',\r\n  templateUrl: './live-chat-model.component.html',\r\n  styleUrls: ['./live-chat-model.component.scss', './../../live/live.scss']\r\n})\r\nexport class LiveChatModelComponent implements OnInit, OnDestroy {\r\n  context: string = \"CHOICE US\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  info = {\r\n    bg : \"assets/logos/dark-light.jpg\",\r\n    message : '',\r\n    idRoom: 0,\r\n    pseudo: '',\r\n    chatColor:'#FB77FC',\r\n    modelId: 0,\r\n    actif: 0,\r\n    credit: 0\r\n  }\r\n\r\n  roomId = null\r\n\r\n  messages: Chat[] = [];\r\n\r\n  toggleDot: boolean = false;\r\n\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  invitePrivateSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  inviteVIPSub = new Subscription();\r\n\r\n  loading: boolean = false;\r\n\r\n  listInvitation: Invitation[] = [];\r\n  // @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n  //   this.socketService.leave(this.info.idRoom, '');\r\n  // }\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  statPrivate = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n\r\n  infos: InfoChat[] = []\r\n  iterableDiffer: any;\r\n\r\n  sound_notification: boolean = false;\r\n  sound_message: boolean = false;\r\n\r\n  // Salon libre\r\n  live_selected = null;\r\n  selected_orig = null;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private modelService: ModelService,\r\n    private chatService: ChatService,\r\n    private roomService: RoomService,\r\n    private roomPrivateService: RoomPrivateService,\r\n    private socketService: SocketService,\r\n    private notificationService: NotificationService,\r\n    private roomVipService: RoomVipService,\r\n    private creditService: CreditService,\r\n    private iterableDiffers: IterableDiffers,\r\n    private profileService: ProfilService,\r\n    private timerService: TimerService,\r\n    private popupService: PopupService,\r\n    private dialog: MatDialog,\r\n    private roomTipsService: RoomTipsService) {\r\n      this.iterableDiffer = iterableDiffers.find([]).create(null);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    this.verifySound();\r\n    this.getInfo();\r\n    this.getCredit();\r\n    // this.initLiveVideo();\r\n    this.getLastSaloonFree();\r\n  }\r\n\r\n  getLastSaloonFree() {\r\n    const lastTypeSaloon = this.store.get('live_selected');\r\n    if(lastTypeSaloon) {\r\n      this.live_selected = lastTypeSaloon;\r\n    } else {\r\n      this.live_selected = null;\r\n    }\r\n  }\r\n\r\n  ngDoCheck() {\r\n    let changes = this.iterableDiffer.diff(this.infos);\r\n    if (changes) {\r\n      $(\"#message_list_info\").animate({ scrollTop: $('#message_list_info').prop(\"scrollHeight\")}, 10);\r\n    }\r\n  }\r\n\r\n  initInfoChat(pseudoModel: string) {\r\n    const info: InfoChat = {\r\n      label: TypeInfoChat.info,\r\n      message: `> Bienvenue ${pseudoModel}`\r\n    }\r\n    this.infos.push(info)\r\n    this.infos.push({\r\n      label: TypeInfoChat.info,\r\n      message: '_   vous êtes actuellement en free chat avec vos clients favoris, '\r\n    })\r\n    this.infos.push({\r\n      label: TypeInfoChat.info,\r\n      message: '_   dans ce salon de discussion, votre caméra ne sera pas activé , '\r\n    })\r\n    this.infos.push({\r\n      label: TypeInfoChat.info,\r\n      message: '_   discutez avec eux et incitez les à passer en live avec vous.'\r\n    })\r\n    this.infos.push({\r\n      label: TypeInfoChat.info,\r\n      message: '_  Choisissez votre type de salon libre.'\r\n    })\r\n    this.showMessage(this.live_selected);\r\n  }\r\n\r\n  joinChat(pseudoClient) {\r\n    if(!pseudoClient) return null\r\n    const info: InfoChat = {\r\n      label: TypeInfoChat.join,\r\n      message: `> ${pseudoClient} vient de rejoindre le chat`\r\n    }\r\n    this.infos.push(info)\r\n  }\r\n\r\n  leaveChat(pseudoClient) {\r\n    if(!pseudoClient) return null\r\n    const info: InfoChat = {\r\n      label: TypeInfoChat.leave,\r\n      message: `> ${pseudoClient} a quitté le chat`\r\n    }\r\n    this.infos.push(info)\r\n  }\r\n\r\n  getCredit() {\r\n    this.creditService.getCredit().subscribe(\r\n      (data: any) => {\r\n        // console.log(data)\r\n        this.info.credit = data.credit;\r\n        this.getCostPrivateShow()\r\n        this.getCostVIPShow()\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostPrivateShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.PRIVATE).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.statPrivate.tarif_show = data.credit? data.credit : 0;\r\n        this.statPrivate.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostVIPShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.statVIP.tarif_show = data.credit? data.credit : 0;\r\n        this.statVIP.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    //Called once, before the instance is destroyed.\r\n    //Add 'implements OnDestroy' to the class.\r\n    // this.joinSub.unsubscribe();\r\n    // this.leaveSub.unsubscribe();\r\n    // this.messageSub.unsubscribe();\r\n    this.invitePrivateSub.unsubscribe();\r\n    this.inviteVIPSub.unsubscribe();\r\n  }\r\n\r\n  verifySound() {\r\n    this.profileService.getInfo().subscribe(\r\n      (data: any) => {\r\n        // console.log(data.setting);\r\n        this.sound_notification = data.setting.sound_notification === 1 ? true : false;\r\n        this.sound_message = data.setting.sound_message === 1 ? true : false;\r\n        // console.log(this.sound_notification);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  initSocket() {\r\n    if (!this.roomService.joinedRoom()) {\r\n      this.roomService.joinRoom();\r\n      this.socketService.join(this.info.idRoom, this.info.modelId);\r\n    }\r\n\r\n    this.socketService.listen(`ask currentSaloon ${this.info.idRoom} ${this.info.modelId}`).subscribe(\r\n      (data: any) => {\r\n        this.socketService.sendCurrentSaloon(this.info.idRoom, this.live_selected);\r\n      }\r\n    );\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.info.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        // console.log('joined ', data);\r\n        this.info.actif = data.count < 1 ? 1 : data.count;\r\n        this.joinChat(data.clientPseudo);\r\n        if (this.sound_notification) {\r\n          this.socketService.soundIncome();\r\n        }\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.info.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        this.info.actif = data.count < 1 ? 1 : data.count;\r\n        this.leaveChat(data.clientPseudo)\r\n        if (this.sound_notification) {\r\n          this.socketService.soundOutcome();\r\n        }\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.info.idRoom}`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Message from client ', data);\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.invitePrivateSub = this.socketService.listen(`invite model to private ${this.info.idRoom} ${this.info.modelId}`).subscribe(\r\n      (data: {roomId: number, clientId: number, clientPseudo: string, modelId: number}) => {\r\n      // console.log('Invitation to private ', data)\r\n      this.notificationService.invitationPrivate('LIVE PRIVE', 'Un client y participe !');\r\n      this.loading = true;\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n        this.socketService.responseInvitationModelToPrivate(this.info.idRoom, data.clientId,\r\n          this.info.modelId, this.info.pseudo)\r\n        this.launchLive(true);\r\n      }, 3000);\r\n      }\r\n    );\r\n\r\n    this.inviteVIPSub = this.socketService.listen(`invite model to vip ${this.info.idRoom} ${this.info.modelId}`).subscribe(\r\n      (data: {roomId: any, clientId: number, clientPseudo: string, modelId: number, special?: string}) => {\r\n        // console.log('Invitation to vip ', data)\r\n        this.addInvitationToVIP(data.clientId, data.clientPseudo, data.roomId, data.special);\r\n      }\r\n    );\r\n  }\r\n\r\n  getInfo() {\r\n    this.modelService.getInfo().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        if (data.profile.status === 'En vip') {\r\n          this.router.navigate(['/modele/live-vip']);\r\n        }\r\n        if (data.profile.status === 'En live') {\r\n          this.router.navigate(['/modele/live-private']);\r\n        }\r\n        this.info.bg = data.path_soft;\r\n        this.info.modelId = data.id;\r\n        this.info.pseudo = data.pseudo;\r\n        this.getInfoRoom();\r\n        this.initInfoChat(this.info.pseudo)\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomService.getRoomModel(this.info.modelId).subscribe(\r\n      (data) => {\r\n        // console.log('Model room ', data);\r\n        this.info.idRoom = data.idRoom;\r\n        this.roomId = data.idRoom;\r\n        this.info.actif = data.actif < 1 ? 1 : data.actif;\r\n        this.getMessages();\r\n        this.initSocket();\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    const data: Chat = {\r\n      idRoom: this.info.idRoom,\r\n      message: this.info.message,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.info.idRoom + '',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      message: this.info.message,\r\n      idRoom: this.info.idRoom,\r\n      type_source: 'model',\r\n      id_source: this.info.modelId,\r\n      code_couleur: this.info.chatColor,\r\n      pseudo: this.info.pseudo,\r\n      createdAt: new Date().toISOString()\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.info.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.info.idRoom).subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async launchLive(invitedPrivate: boolean = false) {\r\n    if (this.live_selected === 'live_private' || invitedPrivate) {\r\n      this.loading = true;\r\n      return this.roomPrivateService.createRoom().subscribe(\r\n        async (data) => {\r\n          await this.askLeave().then(\r\n            (data) => {\r\n              this.store.set(\"privateRoomId\", data.room);\r\n              this.router.navigate(['/modele/live-private']);\r\n              this.loading = false;\r\n            }\r\n          )\r\n        }\r\n      );\r\n    }\r\n\r\n    if (!this.live_selected || this.live_selected === \"null\") {\r\n      this.popupService.info(null, 'CHOIX DU LIVE',\r\n      `Veuillez choisir le live`);\r\n      return null;\r\n    }\r\n\r\n    if (this.live_selected === 'live_vip') {\r\n      this.popupService.info(null, 'LIVE VIP',\r\n      `Live disponible sur invitation abonné`);\r\n      return null;\r\n    }\r\n\r\n    if (this.live_selected === 'choice_us') {\r\n      this.popupService.info(null, 'CHOICE US',\r\n      `Live disponible sur invitation abonné`);\r\n      return null;\r\n    }\r\n\r\n    if (this.live_selected === 'live_tips') {\r\n      // create popup to complete informations\r\n      const dialogRef = this.dialog.open(SettingTipsComponent, {\r\n        width: '100vh',\r\n        height: '90vh',\r\n        data: {}\r\n      });\r\n\r\n      dialogRef.afterClosed().subscribe((result: any) => {\r\n        this.loading = true;\r\n        if (result && result.success === true){\r\n          this.roomTipsService.createRoom(result.tips, result.description).subscribe(\r\n            (data) => {\r\n              // console.log(data);\r\n              this.askLeaveTips();\r\n              this.store.set(\"tipsRoomId\", data.room);\r\n              this.router.navigate(['/modele/live-tips-model']);\r\n              this.loading = false;\r\n            }, (error) => {\r\n              console.log(error);\r\n            }\r\n          )\r\n        } else {\r\n          this.loading = false;\r\n        }\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  async askLeave() {\r\n    const data = {\r\n      room: this.info.idRoom + '',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      pseudo: this.info.pseudo,\r\n      message: 'I pass to private live'\r\n    }\r\n    return await this.socketService.emit('Pass to private', data);\r\n  }\r\n\r\n  async askLeaveTips() {\r\n    const data = {\r\n      room: this.info.idRoom + '',\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      pseudo: this.info.pseudo,\r\n      message: 'I pass to live tips'\r\n    }\r\n    return await this.socketService.emit('Pass to tips', data);\r\n  }\r\n\r\n\r\n  async askLeaveVIP() {\r\n    const data = {\r\n      room: this.info.idRoom,\r\n      role: 'model',\r\n      id: this.info.modelId,\r\n      pseudo: this.info.pseudo,\r\n      message: 'I pass to live VIP'\r\n    }\r\n    return await this.socketService.emit('Pass to VIP', data);\r\n  }\r\n\r\n  addInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    const data: Invitation = {\r\n      clientId, clientPseudo, roomId, special\r\n    }\r\n    let exist = false;\r\n    this.listInvitation.forEach(item => {\r\n      if (item.clientId === clientId) {\r\n        exist = true\r\n      }\r\n    })\r\n    if (!exist) this.listInvitation.push(data)\r\n    // console.log(data)\r\n  }\r\n\r\n  closeInvitation(clientId: number, clientPseudo, roomId) {\r\n    const index = this.listInvitation.indexOf({clientId, clientPseudo, roomId});\r\n    this.listInvitation.splice(index, 1);\r\n  }\r\n\r\n  acceptInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    this.closeInvitation(clientId, clientPseudo, roomId);\r\n    this.liveVIP(clientId, roomId, special);\r\n  }\r\n\r\n  denyInvitationToVIP(clientId: number, clientPseudo: string, roomId: any, special?: string) {\r\n    this.socketService.responseNegativeInvitationModelToVIP(roomId, clientId, this.info.modelId, this.info.pseudo, special)\r\n    this.closeInvitation(clientId, clientPseudo, roomId)\r\n  }\r\n\r\n  async liveVIP(clientId: number, roomId: any, special?: string) {\r\n      this.loading = true;\r\n      this.roomVipService.createRoom(clientId, special).subscribe(\r\n        (data) => {\r\n          this.store.set(\"vipRoomId\", data.room);\r\n          const msg = {\r\n            roomId: roomId,\r\n            role: 'model',\r\n            clientId: clientId,\r\n            message: 'Let\\'s go to VIP',\r\n            roomVIP: data.room + 'V'\r\n          }\r\n          this.askLeaveVIP().then(\r\n            (data) => {\r\n              this.loading = false;\r\n              this.socketService.responsePositiveInvitationModelToVIP(roomId, clientId, this.info.modelId, this.info.pseudo, special);\r\n              if (!special) {\r\n                this.router.navigate(['/modele/live-vip']);\r\n              } else if(special && special === 'live choice') {\r\n                this.router.navigate(['/modele/live-choice-us']);\r\n              }\r\n            }\r\n          )\r\n        }\r\n      )\r\n  }\r\n\r\n      // WEB RTC - LIVE VIDEO\r\n      initLiveVideo() {\r\n        this.onStart();\r\n      }\r\n\r\n      onStart(){\r\n        if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n          navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n            const _video = this.video.nativeElement;\r\n            _video.srcObject = ms;\r\n            _video.play();\r\n          });\r\n        }\r\n      }\r\n\r\n      onStop() {\r\n        if (this.video && this.video.nativeElement.srcObject) {\r\n          this.video.nativeElement.pause();\r\n          if ((this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0]) {\r\n            (this.video.nativeElement.srcObject as MediaStream).getVideoTracks()[0].stop();\r\n          }\r\n          this.video.nativeElement.srcObject = null;\r\n        }\r\n      }\r\n\r\n\r\n  // -------- EMOJI -----------------\r\n\r\n  toggleEmojiPicker() {\r\n    this.showEmojiPicker = !this.showEmojiPicker;\r\n  }\r\n\r\n  addEmoji(event) {\r\n    const {info} = this;\r\n    console.log(this.info.message);\r\n    console.log(`${event.emoji.native}`);\r\n    let text = '';\r\n    if (this.info.message) {\r\n      text = `${info.message}${event.emoji.native}`;\r\n    } else {\r\n      text = `${event.emoji.native}`;\r\n    }\r\n    this.info.message = text;\r\n    console.log(this.info.message)\r\n    // this.showEmojiPicker = false;\r\n  }\r\n\r\n  focus() {\r\n    this.showEmojiPicker = false;\r\n  }\r\n\r\n  changeSalonLibre(event) {\r\n    const choice = event.target.value;\r\n    this.store.set('live_selected', choice);\r\n    this.showMessage(choice);\r\n    this.socketService.sendCurrentSaloon(this.info.idRoom, this.live_selected);\r\n  }\r\n\r\n  showMessage(choice: string) {\r\n    if (choice == 'live_tips') {\r\n      this.infos.push({\r\n        label: TypeInfoChat.info,\r\n        message: '_   Vous êtes passé en Salon libre - LIVE TIPS : paiement par tips.'\r\n      })\r\n    } else if (choice == 'choice_us') {\r\n      this.infos.push({\r\n        label: TypeInfoChat.info,\r\n        message: '_   Vous êtes passé en Salon libre - CHOICE US : changement de taux de crédit.'\r\n      })\r\n      this.infos.push({\r\n        label: TypeInfoChat.leave,\r\n        message: '_   Live CHOICE US : Disponible sur invitation des abonnés.'\r\n      })\r\n    } else if (choice == 'live_private') {\r\n      this.infos.push({\r\n        label: TypeInfoChat.info,\r\n        message: '_   Vous êtes passé en Live Privé avec 5 crédits / mn.'\r\n      })\r\n    } else if (choice == 'live_vip') {\r\n      this.infos.push({\r\n        label: TypeInfoChat.info,\r\n        message: '_   Vous êtes passé en Live VIP avec un taux de 15 crédits / mn'\r\n      })\r\n      this.infos.push({\r\n        label: TypeInfoChat.leave,\r\n        message: '_   Live VIP : Disponible sur invitation des abonnés.'\r\n      })\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pack-argent',\r\n  templateUrl: './pack-argent.component.html',\r\n  styleUrls: ['./pack-argent.component.scss']\r\n})\r\nexport class PackArgentComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>pack-argent works!</p>\r\n","import { Injectable } from '@angular/core';\r\nimport { addAlbum } from '../../interfaces/add-album.interface';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { SpecificAlbum } from '../../interfaces/specific-album.interface';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AlbumService {\r\n  endpoint = environment.endpoint\r\n\r\n\r\n  public albumPrivate = [\r\n    'assets/images/image.png', 'assets/images/bg.jpg',\r\n    'assets/images/image.png', 'assets/images/image.png',\r\n    'assets/images/image.png', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/image.png',\r\n    'assets/images/image.png', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg'\r\n  ];\r\n\r\n  public albumVIP = [\r\n    'assets/images/image2.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/image2.jpg', 'assets/images/image.png',\r\n    'assets/images/image2.jpg', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/image.png',\r\n    'assets/images/image2.jpg', 'assets/images/image2.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/image2.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/image2.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',,\r\n    'assets/images/image2.jpg', 'assets/images/bg.jpg'\r\n  ];\r\n\r\n  public albumFree = [\r\n    'assets/images/image3.jpg', 'assets/images/image3.jpg',\r\n    'assets/images/image.png', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/image3.jpg',\r\n    'assets/images/image3.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/bg.jpg', 'assets/images/image.png',\r\n    'assets/images/image3.jpg', 'assets/images/image.png',\r\n    'assets/images/bg.jpg', 'assets/images/bg.jpg',\r\n    'assets/images/image3.jpg', 'assets/images/bg.jpg'\r\n  ];\r\n\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  totalVip() {\r\n    return this.albumVIP.length;\r\n  }\r\n\r\n  totalFree() {\r\n    return this.albumFree.length;\r\n  }\r\n\r\n  totalPrivate() {\r\n    return this.albumPrivate.length;\r\n  }\r\n\r\n  async addPhoto(url: string, file: any, context: string) {\r\n    console.log(url);\r\n    console.log(context);\r\n    var tmp = [];\r\n    var tab: any;\r\n    tmp.push(url);\r\n    switch (context) {\r\n      case 'private':\r\n      for (let index = 0; index < this.albumPrivate.length; index++) {\r\n        tmp.push(this.albumPrivate[index]);\r\n      }\r\n      this.albumPrivate = tmp;\r\n      break;\r\n\r\n      case 'vip':\r\n        for (let index = 0; index < this.albumVIP.length; index++) {\r\n          tmp.push(this.albumVIP[index]);\r\n        }\r\n        this.albumVIP = tmp;\r\n        break;\r\n\r\n      case 'free':\r\n        for (let index = 0; index < this.albumFree.length; index++) {\r\n          tmp.push(this.albumFree[index]);\r\n        }\r\n        this.albumFree = tmp;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  async getAlbums(context: string, debut: number, marge: number): Promise<Observable<any>> {\r\n    const album: SpecificAlbum = {\r\n      type_album: context,\r\n      begin: debut,\r\n      end: debut + marge\r\n    }\r\n    return this.http.post(`${this.endpoint}/album/specific`, album, httpOptions)\r\n  }\r\n\r\n  uploadAlbumModel(formData: FormData): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/upload/album`,formData,{\r\n        reportProgress: true,\r\n        observe: 'events'\r\n    });\r\n  }\r\n\r\n  addAlbums(albums: addAlbum[]): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/album`, albums, httpOptions)\r\n  }\r\n\r\n  getCount(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/album/model/count`, httpOptions)\r\n  }\r\n\r\n  // Get model albums by client\r\n  getModelAlbums(data: {modelId: number, type_album: string}) {\r\n    return this.http.post(`${this.endpoint}/album/getAlbums`, data, httpOptions)\r\n  }\r\n\r\n  deleteAlbum(id: number) {\r\n    return this.http.delete(`${this.endpoint}/album/${id}`, httpOptions)\r\n  }\r\n\r\n}\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef,\r\n  HostListener} from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket, ClientCam } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PackModalComponent } from '../../../modals/pack-modal/pack-modal.component';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { CreditTimer } from '../../../interfaces/timer.interface';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\n\r\n// Peer\r\nimport './../../modele/shim';\r\nimport Peer from \"peerjs\"\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { AlbumService } from 'src/app/services/album/album.service';\r\nimport * as $ from 'jquery';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport * as AOS from 'aos';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n\r\ninterface Stream {\r\n  clientId: number,\r\n  stream: MediaStream,\r\n  peerId: any,\r\n  isAudio: boolean,\r\n  isVideo: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'app-live-tips-clients',\r\n  templateUrl: './live-tips-clients.component.html',\r\n  styleUrls: ['./live-tips-clients.component.scss', './../live.scss']\r\n})\r\nexport class LiveTipsClientsComponent implements OnInit {\r\n  context: string = \"LIVE TIPS\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n\r\n  bg = \"assets/logos/dark-light.jpg\";\r\n  modelPseudo = '';\r\n  modelId: number;\r\n  idRoom: number;\r\n  message: string = '';\r\n  chatColor = \"black\";\r\n  clientId: number;\r\n  clientPseudo: string = null;\r\n  clientCredit: number  = 0;\r\n\r\n  info = {\r\n    gain: 0,\r\n    tips: [],\r\n    descriptions: [],\r\n    pseudo: '',\r\n    actif: 0\r\n  }\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  invitedVIP = false;\r\n  passedVIP = false;\r\n  roomVIP: string = null;\r\n\r\n  clients: ClientCam[] = [];\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  show = {\r\n    id: 0,\r\n    credit: null,\r\n    second: null,\r\n    type: null\r\n  };\r\n\r\n  clientStream: Stream[] = [];\r\n  clearStreamId: number;\r\n\r\n  actifSub = new Subscription();\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  modelLeaveSub = new Subscription();\r\n  modelPassedVipSub = new Subscription();\r\n  invitationVipSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  newPeerSub = new Subscription();\r\n  responsePositiveInvitationVIPSub = new Subscription();\r\n  responseNegativeInvitationVIPSub = new Subscription();\r\n  answerModelStreamSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  banishSub = new Subscription();\r\n  newTipsSub = new Subscription();\r\n\r\n  albums = [];\r\n  loading: boolean = false;\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n  // @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n  //   this.socketService.leavePrivate(this.idRoom, 'client');\r\n  // }\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  isAudioModel: boolean = true\r\n  isVideoModel: boolean = true\r\n\r\n  // Salon libre\r\n  live_selected = null;\r\n\r\n  // Tips\r\n  showTips: boolean = false;\r\n\r\n    // WEB RTC VIDEO\r\n    @ViewChild('video_live_model', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n    // @ViewChild('video_live_client', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n\r\n    private peer: Peer;\r\n    peerIdShare: string;\r\n    peerId: string = null;\r\n    private lazyStream: MediaStream;\r\n    currentPeer: any;\r\n    private peerList: Array<any> = [];\r\n    roomIdString: string;\r\n\r\n    hasGotStreamModel: boolean = false;\r\n\r\n    constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modelService: ModelService,\r\n    private store: LocalStorageService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private popupService: PopupService,\r\n    private profilService: ProfilService,\r\n    private dialog: MatDialog,\r\n    private timerService: TimerService,\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService,\r\n    private albumService: AlbumService,\r\n    private banishService: BanishService,\r\n    private creditService: CreditService,\r\n    private roomTipsService: RoomTipsService,\r\n    private roomPrivateService: RoomPrivateService\r\n    ) {\r\n      this.peer = new Peer();\r\n      const id = this.route.snapshot.paramMap.get('model');\r\n      this.modelId = parseInt(id);\r\n    }\r\n\r\n  ngOnInit(): void {\r\n      AOS.init();\r\n      if (!this.modelId) return null;\r\n      this.initLiveVideo();\r\n      this.getModel();\r\n      this.initColor();\r\n      this.clientService.lastRoom(this.router.url); // save last room for chat\r\n      $(document).ready(\r\n        function() {initSettingVideoModel();}\r\n      );\r\n      this.VerifyHasGotStreamModel();\r\n  }\r\n\r\n\r\n  async ngOnDestroy() {\r\n    this.onStop();\r\n    this.socketService.leaveTips(this.idRoom, 'client', this.clientId);\r\n    this.roomTipsService.updateActif(this.idRoom, false, 'tips');\r\n    clearInterval(this.timer.timer);\r\n    this.actifSub.unsubscribe();\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.modelLeaveSub.unsubscribe();\r\n    this.modelPassedVipSub.unsubscribe();\r\n    this.invitationVipSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.newPeerSub.unsubscribe();\r\n    this.responseNegativeInvitationVIPSub.unsubscribe();\r\n    this.responsePositiveInvitationVIPSub.unsubscribe();\r\n    this.answerModelStreamSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n    this.banishSub.unsubscribe();\r\n    this.newTipsSub.unsubscribe();\r\n  }\r\n\r\n  VerifyHasGotStreamModel() {\r\n    setTimeout(() => {\r\n      console.log('verify stream model after 10 sec');\r\n      if (!this.hasGotStreamModel) {\r\n        // verify my peerId\r\n        if (this.peerId) {\r\n          this.socketService.askModelPeerId({peerId: this.peerId,\r\n            room: this.idRoom+'P', clientId: this.clientId});\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            this.socketService.askModelPeerId({peerId: this.peerId,\r\n              room: this.idRoom+'P', clientId: this.clientId});\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  getModel() {\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n      (data) => {\r\n        this.bg = data.path_soft;\r\n        this.modelPseudo = data.pseudo;\r\n        this.info.pseudo = data.pseudo;\r\n        if (data.profile.status === \"En vip\") {\r\n          this.passedVIP = true;\r\n          this.clearTimer();\r\n        } else if ((data.profile.status === \"En ligne\") || (data.profile.status === \"En live choice\")) {\r\n          this.obsolete();\r\n          this.clearTimer();\r\n        }\r\n        this.getInfo();\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfo() {\r\n    this.clientService.getMyInfos().subscribe( // My info\r\n      (data) => {\r\n        this.clientId = data.id;\r\n        this.clientPseudo = data.pseudo;\r\n        this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n        this.isBanished()\r\n      }\r\n    )\r\n  }\r\n\r\n  isBanished() {\r\n    this.banishService.isBanished(this.modelId, this.clientId).subscribe(\r\n      (data: any) => {\r\n        const ok: boolean = data.authorized\r\n        if (!ok) {\r\n          this.popupService.info(null, 'Accès refusé',\r\n          `Vous n\\' êtes pas autorisé à entrer dans ce room.`);\r\n          this.router.navigateByUrl('/client/accueil/registered')\r\n        } else {\r\n          this.getInfoRoom();\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCredit() {\r\n    return await this.clientService.getCredit().subscribe(\r\n      (data) => {\r\n        this.clientCredit = data.credit;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getInfoRoom() {\r\n    await this.roomTipsService.getRoomModel(this.modelId).subscribe(\r\n      async (data) => {\r\n        // console.log('ModelRoom' , data);\r\n\r\n        this.idRoom = data.id;\r\n        this.roomIdString = this.idRoom + 'T';\r\n        this.clientService.storeLastChat(this.roomIdString);\r\n\r\n        this.info.tips = data.tips.split(\"~\").map(Number);\r\n        this.info.descriptions = data.descriptions.split(\"~\");\r\n        this.info.gain = data.gain;\r\n        if (data.id === null) {\r\n          this.obsolete();\r\n          this.idRoom = 0;\r\n          this.clearTimer();\r\n          return null;\r\n        }\r\n        if (data.status !== 'open') {\r\n          this.popupService.info(null, 'LIVE FERME', 'Ce room est fermé');\r\n          return null;\r\n        }\r\n        this.getMessages();\r\n        this.initSocket();\r\n        this.getActifRoom();\r\n      }\r\n    )\r\n  }\r\n\r\n  async getStatRoom(idRoom: number) {\r\n    if (!idRoom || idRoom === 0) return null;\r\n    this.roomTipsService.getStatRoom(this.idRoom).subscribe(\r\n      (data: {actif: number, gain: number}) => {\r\n        if (!data) return null;\r\n        this.info.gain = data.gain;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getActifRoom() {\r\n    this.roomTipsService.getActifs(this.idRoom).subscribe(\r\n      (data: any[]) => {\r\n        // console.log('Actifs ', data);\r\n        this.info.actif = data ? data.length : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.idRoom, 'tips').subscribe(\r\n      (data) => {\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async initSocket() {\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.idRoom}T`).subscribe(\r\n      (data: any) => {\r\n        this.getStatRoom(this.idRoom);\r\n        this.getActifRoom();\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.idRoom}T`).subscribe(\r\n      (data: any) => {\r\n        this.getStatRoom(this.idRoom);\r\n        this.getActifRoom();\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.idRoom}T`).subscribe(\r\n      (data: Chat) => {\r\n        this.socketService.soundOutcome();\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.newTipsSub = this.socketService.listen(`new tips ${this.idRoom}T`).subscribe(\r\n      (data: {symbole: string, credit: number, designation: string, vip: boolean}) => {\r\n        // console.log('new tips ', data);\r\n        this.getStatRoom(this.idRoom);\r\n    });\r\n\r\n    this.banishSub = this.socketService.listen(`Banish client ${this.idRoom}T ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.isBanished()\r\n      }\r\n    );\r\n\r\n    // Model leaved the room\r\n    this.modelLeaveSub = this.socketService.listen(`model leaved ${this.idRoom}T`).subscribe(\r\n      (data) => {\r\n        this.leaved = true;\r\n        this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n        `${this.modelPseudo} a fermé le live de ce room`);\r\n        // this.lazyStream.getTracks().forEach(\r\n        //   (track) => {\r\n        //     track.stop();\r\n        //   }\r\n        // );\r\n      }\r\n    );\r\n\r\n    // Invitation to pass in VIP\r\n    this.peerSub = this.socketService.listen(`ans peerId ${this.clientId} ${this.idRoom}T`).subscribe(\r\n        (data: {peerId: any, room: string, clientId: number}) => {\r\n            console.log(\"ans peerId \", data);\r\n            this.peerIdShare = data.peerId;\r\n            this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.newPeerSub = this.socketService.listen(`new model peerId ${this.idRoom}T`).subscribe(\r\n      (data: {role: string, modelId: number, room: string, peerId: string}) => {\r\n          console.log(\"new model peerId\");\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.answerModelStreamSub = this.socketService.listen(`Answer current model stream ${this.idRoom}T ${this.clientId}`).subscribe(\r\n      (data: {roomId: any, clientId: number, modelId: number, stream: MediaStream}) => {\r\n        console.log('Answer for stream ', data)\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.idRoom}T`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n        console.log('Toggle audio ', data);\r\n          if (data.clientId) {\r\n            console.log('Toggle audio client ', data.clientId);\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio);\r\n          } else if (data.modelId) {\r\n            console.log('Toggle audio model');\r\n            this.toggleAudioModelStream(data.isAudio);\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.idRoom}T`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo);\r\n          } else if (data.modelId) {\r\n            this.toggleVideoModelStream(data.isVideo);\r\n          }\r\n      }\r\n    );\r\n\r\n    this.initTimer();\r\n\r\n    await this.socketService.joinTips(this.idRoom, this.modelId,\r\n      this.clientId, this.clientPseudo, this.peerId);\r\n\r\n    if (this.peerId) {\r\n      this.socketService.askModelPeerId({peerId: this.peerId,\r\n        room: this.idRoom+'T', clientId: this.clientId});\r\n\r\n      await this.roomTipsService.joinRoom(this.idRoom, true, 'tips', this.peerId).subscribe(\r\n          async (data) => {\r\n            await this.socketService.joinTips(this.idRoom, this.modelId,\r\n              this.clientId, this.clientPseudo, this.peerId);\r\n          }\r\n      );\r\n    } else {\r\n        this.relaunchPeerId();\r\n    }\r\n\r\n    this.getAlbums();\r\n    // this.askModelStream()\r\n  }\r\n\r\n  obsolete() {\r\n    this.clientStream = [];\r\n    this.clients = [];\r\n    this.leaved = true;\r\n    this.popupService.info(null,'LIVE INDISPONIBLE',\r\n    `Aucun live n\\'est lancé dans ce room`);\r\n    this.router.navigate(['/client/accueil/registered']);\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 100)\r\n  }\r\n\r\n  initColor() {\r\n    if (this.store.get(\"ticket_chat\")) {\r\n      this.chatColor = this.store.get(\"ticket_chat\");\r\n      return true;\r\n    };\r\n    this.roomPrivateService.getColor().subscribe(\r\n      (data) => {\r\n        this.chatColor = data.color;\r\n        this.store.set(\"ticket_chat\", data.color);\r\n      }\r\n    );\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.idRoom,\r\n      message: this.message,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'tips',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.idRoom + 'T',\r\n      role: 'client',\r\n      id: this.clientId,\r\n      message: this.message,\r\n      idRoom: this.idRoom,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'tips',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n  }\r\n\r\n  async liveOut() {\r\n    // this.creditTimer();\r\n    this.onStop();\r\n    await (await this.leaveTimer()).subscribe(\r\n      async (data) => {\r\n        this.timer.reinit = true;\r\n        await this.roomTipsService.joinRoom(this.idRoom, false, 'tips').subscribe(\r\n          (data) => {\r\n            this.socketService.leaveTips(this.idRoom, 'client', this.clientId).then(\r\n              (data) => {\r\n                // this.roomTipsService.leaveRoom();\r\n                this.clientService.deleteLastChat();\r\n                window.location.href = '/client/accueil/registered';\r\n                // this.router.navigate(['/client/accueil/registered']);\r\n                // setTimeout(\r\n                //   () => {\r\n                //     window.location.reload();\r\n                //   }, 200\r\n                // );\r\n              }, (error) => {\r\n              }\r\n            );\r\n          }, (error) => {\r\n\r\n          }\r\n        );\r\n      })\r\n  }\r\n\r\n  buy() {\r\n    const dialogRef = this.dialog.open(PackModalComponent, {\r\n      width: '80vh',\r\n      data: {}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n\r\n  // Timer\r\n  async initTimer() {\r\n    this.timerService.getTimer(this.modelId, TypeTimer.TIPS).subscribe(\r\n      async (data) => {\r\n        const created: Date = data.createdAt;\r\n        const updated: Date = data.updatedAt;\r\n        this.timer.id = data.id;\r\n        const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n        this.timer.hour = hour;\r\n        this.timer.minute = minute;\r\n        this.timer.second = second;\r\n        await this.getCostShow();\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.TIPS).subscribe(\r\n      (data: any) => {\r\n        this.show.id = data.id;\r\n        this.show.credit = data.credit;\r\n        this.show.second = data.second;\r\n        this.show.type = data.type;\r\n        if (this.clientCredit == 0) {\r\n          this.aucunCredit();\r\n          return null;\r\n        }\r\n        this.beginTimer();\r\n      }\r\n    )\r\n  }\r\n\r\n  creditInsuffisant() {\r\n    this.popupService.info(null,'CREDIT INSUFFISANT',\r\n    `Vous n\\'avez presque plus de crédit. Veuillez vous recharger.`);\r\n    setTimeout(\r\n      () => {\r\n        this.getCredit();\r\n      }, 20000\r\n    )\r\n  }\r\n\r\n  aucunCredit() {\r\n    this.timer.fail = true;\r\n    this.popupService.info(null,'ACHAT DE CREDIT',\r\n    `Veuillez vous recharger.`);\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.TIPS,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n  async beginTimer() {\r\n    const delay = this.show.second * 1000;\r\n    this.timer.timer = setInterval(\r\n      async () => {\r\n        // Timer boucle\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  async creditTimer(): Promise<Observable<any>> {\r\n    if ((this.clientId === undefined) || (this.show.credit == null)) return null;\r\n    const data: CreditTimer = {\r\n      clientId: this.clientId,\r\n      modelId: this.modelId,\r\n      timerId: this.timer.id,\r\n      showCredit: this.show.credit,\r\n      showSecond: this.show.second,\r\n      showType: this.show.type,\r\n      roomId: this.idRoom\r\n    }\r\n    // return await this.timerService.creditTimer(data);\r\n  }\r\n\r\n    // WEB RTC - LIVE VIDEO\r\n    askModelStream() {\r\n      this.socketService.askModelPeerId({peerId: this.peerId,\r\n        room: this.idRoom+'T', clientId: this.clientId});\r\n    }\r\n\r\n    initLiveVideo() {\r\n      this.onStart();\r\n      this.getPeerId();\r\n    }\r\n\r\n    onStart(){\r\n      if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n        navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n          // const _video = this.video.nativeElement;\r\n          // _video.srcObject = ms;\r\n          // _video.play();\r\n          // console.log('my stream ', ms)\r\n          this.lazyStream = ms;\r\n          // this.lazyStream.getAudioTracks().forEach(\r\n          //   (track) => {\r\n          //     track.stop();\r\n          //   }\r\n          // );\r\n          // this.clientStream.push({\r\n          //   clientId: this.clientId,\r\n          //   stream: this.lazyStream,\r\n          //   peerId: this.peerId,\r\n          //   isAudio: false,\r\n          //   isVideo: true\r\n          // });\r\n        });\r\n      }\r\n    }\r\n\r\n    onStop() {\r\n      // navigator.mediaDevices.getUserMedia({video: true, audio: false}).then(mediaStream => {\r\n      // const stream = mediaStream;\r\n      // const tracks = stream.getTracks();\r\n      // let index = 0;\r\n      // tracks.forEach(track => {\r\n      //   tracks[index].stop;\r\n      //   index++;\r\n      // })\r\n      // })\r\n      // console.log('leave');\r\n      if (this.lazyStream && this.lazyStream !== undefined) {\r\n        this.lazyStream.getTracks().forEach(\r\n          (track) => {\r\n            track.stop();\r\n          }\r\n        );\r\n      }\r\n      this.lazyStream = null;\r\n      this.remote_video.nativeElement.srcObject = null;\r\n    }\r\n\r\n    relaunchPeerId() {\r\n      this.peer.on('open', (id) => {\r\n        console.log('Relaunch peer id ', id)\r\n        this.peerId = id;\r\n        // Send peer client\r\n        this.socketService.askModelPeerId({peerId: this.peerId,\r\n          room: this.idRoom+'T', clientId: this.clientId});\r\n        this.roomTipsService.joinRoom(this.idRoom, true, 'tips', this.peerId).subscribe(\r\n            (data) => {\r\n                this.socketService.joinTips(this.idRoom, this.modelId,\r\n                this.clientId, this.clientPseudo, this.peerId\r\n                );\r\n            }\r\n        );\r\n      });\r\n    }\r\n\r\n    private getPeerId = () => {\r\n      console.log('Get peer waiting...')\r\n      this.peer.on('open', (id) => {\r\n        console.log(\"Peer Id \", id);\r\n        this.peerId = id;\r\n        // Send peer client\r\n      });\r\n\r\n      this.peer.on('call', (call) => {\r\n        console.log('on call')\r\n        call.answer(this.lazyStream);\r\n        // call.on('stream', (remoteStream) => {\r\n        //   console.log('On stream from call')\r\n        //   if (!this.peerList.includes(call.peer)) {\r\n        //     this.addOtherClientstreamRemoteVideo(this.clientStream.length,remoteStream, call.peer);\r\n        //     this.currentPeer = call.peerConnection;\r\n        //     this.peerList.push(call.peer);\r\n        //   }\r\n        // });\r\n\r\n        // this.onStop();\r\n        // navigator.mediaDevices.getUserMedia({\r\n        //   video: this.showVideo,\r\n        //   audio: this.showAudio\r\n        // }).then((stream) => {\r\n        //   this.lazyStream = stream;\r\n        //   // this.clientStream.push({\r\n        //   //   clientId: this.clientStream.length,\r\n        //   //   stream: stream\r\n        //   // });\r\n        //   // const _video = this.video.nativeElement;\r\n        //   // _video.srcObject = stream;\r\n        //   // _video.play();\r\n\r\n        //   call.answer(stream);\r\n        //   // call.on('stream', (remoteStream) => {\r\n        //   //   if (!this.peerList.includes(call.peer)) {\r\n        //   //     this.addOtherClientstreamRemoteVideo(this.clientStream.length,remoteStream, call.peer);\r\n        //   //     this.currentPeer = call.peerConnection;\r\n        //   //     this.peerList.push(call.peer);\r\n        //   //   }\r\n        //   // });\r\n        // }).catch(err => {\r\n        //   console.log(err + ' - Unable to get media');\r\n        // });\r\n      });\r\n    }\r\n\r\n    connectWithPeer(): void {\r\n      this.callPeer(this.peerIdShare);\r\n    }\r\n\r\n    private callPeer(id: string) {\r\n      console.log('CallPeer  id : ', id)\r\n      if (!id) return null;\r\n      if (id === undefined) return null;\r\n      console.log(\"Client call someone\");\r\n      const call = this.peer.call(id, this.lazyStream);\r\n      console.log(\"After call model \", call);\r\n      if (call) {\r\n        call.on('stream', (remoteStream) => {\r\n          console.log(\"On stream after call in client\");\r\n          this.hasGotStreamModel = true;\r\n          this.streamRemoteVideo(remoteStream);\r\n          this.currentPeer = call.peerConnection;\r\n          this.peerList.push(call.peer);\r\n        });\r\n      }\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: this.showAudio,\r\n      //   audio: this.showVideo\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   // this.clientStream.push({\r\n      //   //   clientId: this.clientStream.length,\r\n      //   //   stream: stream,\r\n      //   //   isAudio: true,\r\n      //   //   isVideo: true,\r\n      //   //   peerId: this.peerId\r\n      //   // });\r\n      //   // console.log(\"Get client stream \", stream);\r\n      //   const call = this.peer.call(id, stream);\r\n      //   console.log(\"After call model\");\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     console.log(\"On receive stream from model\");\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.streamRemoteVideo(remoteStream);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to connect');\r\n      // });\r\n    }\r\n\r\n    private streamRemoteVideo(stream: MediaStream): void {\r\n      console.log('Stream Remote video ', stream)\r\n      // this.remote_video.nativeElement.srcObject = stream;\r\n      const _video = this.remote_video.nativeElement;\r\n      _video.srcObject = stream;\r\n      setTimeout(() => {\r\n        _video.play();\r\n      }, 3000)\r\n    }\r\n\r\n    callPeerClient(clientId: number, clientPeer: string) {\r\n      console.log('CallPeerClient id ', clientId, 'My ID ', this.clientId ,' Peer ',  clientPeer)\r\n      if (!clientPeer) return null\r\n      if (clientPeer === undefined) return null\r\n      if (clientPeer === this.peerIdShare) return null\r\n      const call = this.peer.call(clientPeer, this.lazyStream);\r\n      if (call) {\r\n        call.on('stream', (remoteStream) => {\r\n          console.log(\"On stream in call other client\");\r\n          if (!this.peerList.includes(call.peer)) {\r\n            this.addOtherClientstreamRemoteVideo(clientId, remoteStream, call.peer);\r\n            this.currentPeer = call.peerConnection;\r\n            this.peerList.push(call.peer);\r\n          }\r\n        });\r\n      }\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: this.showVideo,\r\n      //   audio: this.showAudio\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   // console.log(\"Get client stream \", stream);\r\n      //   const call = this.peer.call(clientPeer, stream);\r\n      //   // console.log(\"After call model\");\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     console.log(\"On received stream other client\");\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.addOtherClientstreamRemoteVideo(clientId, remoteStream, call.peer);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to connect');\r\n      // });\r\n    }\r\n\r\n    private addOtherClientstreamRemoteVideo(clientId: number, stream: any, peerId: any): void {\r\n      // console.log('add other stream ', stream)\r\n      // this.clientStream.push({\r\n      //   clientId,\r\n      //   stream: stream,\r\n      //   peerId,\r\n      //   isAudio: true,\r\n      //   isVideo: true\r\n      // });\r\n    }\r\n\r\n\r\n    getAlbums() {\r\n      // this.getActifRoom();\r\n      const data = {\r\n        modelId : this.modelId,\r\n        type_album: 'private'\r\n      }\r\n      this.albumService.getModelAlbums(data).subscribe(\r\n        (data: any) => {\r\n          for (let i = 0; i < data.length; i++) {\r\n            this.albums.push({\r\n              url: data[i].path_album\r\n            })\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    // getActifRoom() {\r\n    //   console.log('Id room ', this.idRoom);\r\n    //   this.roomPrivateService.getActifRoom(this.idRoom).subscribe(\r\n    //     (data: any) => {\r\n    //       console.log(data);\r\n    //       const actifs: any[] = data;\r\n    //       actifs.forEach(actif => {\r\n    //         if (actif.id && actif.peerId) {\r\n    //           this.callPeerClient(actif.id, actif.peerId);\r\n    //         }\r\n    //       });\r\n    //     }, (error) => {\r\n    //       console.log(error);\r\n    //     }\r\n    //   )\r\n    // }\r\n\r\n    toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.peerId === peerId) {\r\n            stream.isAudio = isAudio\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.peerId === peerId) {\r\n            stream.isVideo = isVideo\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    toggleAudioModelStream(isAudio: boolean) {\r\n      if (isAudio) {\r\n        $('#video_live_model').prop('volume', 1)\r\n      } else {\r\n        $('#video_live_model').prop('volume', 0)\r\n      }\r\n    }\r\n\r\n    toggleVideoModelStream(isVideo: boolean) {\r\n      var filterVal = 'blur(0px)';\r\n      var filterFull = 'blur(200px)';\r\n      if (isVideo) {\r\n        $('#video_live_model')\r\n        .css('filter',filterVal)\r\n        .css('webkitFilter',filterVal)\r\n        .css('mozFilter',filterVal)\r\n        .css('oFilter',filterVal)\r\n        .css('msFilter',filterVal);\r\n      } else {\r\n        $('#video_live_model')\r\n        .css('filter',filterFull)\r\n        .css('webkitFilter',filterFull)\r\n        .css('mozFilter',filterFull)\r\n        .css('oFilter',filterFull)\r\n        .css('msFilter',filterFull);\r\n      }\r\n    }\r\n\r\n    toggleVideo() {\r\n      this.showVideo = !this.showVideo;\r\n      if (this.showVideo) {\r\n        this.lazyStream.getVideoTracks().forEach(\r\n          (track) => {\r\n            track.enabled = true;\r\n          }\r\n        );\r\n      } else {\r\n        this.lazyStream.getVideoTracks().forEach(\r\n          (track) => {\r\n            track.enabled = false;\r\n          }\r\n        );\r\n      }\r\n      // var filterVal = 'blur(0px)';\r\n      // var filterFull = 'blur(200px)';\r\n      // if (this.showVideo) {\r\n      //   $('#video_live_model')\r\n      //   .css('filter',filterVal)\r\n      //   .css('webkitFilter',filterVal)\r\n      //   .css('mozFilter',filterVal)\r\n      //   .css('oFilter',filterVal)\r\n      //   .css('msFilter',filterVal);\r\n      // } else {\r\n      //   $('#video_live_model')\r\n      //   .css('filter',filterFull)\r\n      //   .css('webkitFilter',filterFull)\r\n      //   .css('mozFilter',filterFull)\r\n      //   .css('oFilter',filterFull)\r\n      //   .css('msFilter',filterFull);\r\n      // }\r\n    }\r\n\r\n    toggleAudio() {\r\n      this.showAudio = !this.showAudio;\r\n      if (this.showAudio) {\r\n        $('#video_live_model').prop('volume', 1)\r\n      } else {\r\n        $('#video_live_model').prop('volume', 0)\r\n      }\r\n    }\r\n\r\n        // -------- EMOJI -----------------\r\n\r\n        toggleEmojiPicker() {\r\n          this.showEmojiPicker = !this.showEmojiPicker;\r\n        }\r\n\r\n        addEmoji(event) {\r\n          const {message} = this;\r\n          let text = '';\r\n          if (message) {\r\n            text = `${message}${event.emoji.native}`;\r\n          } else {\r\n            text = `${event.emoji.native}`;\r\n          }\r\n          this.message = text;\r\n        }\r\n\r\n        focus() {\r\n          this.showEmojiPicker = false;\r\n        }\r\n\r\n              // Tips\r\n\r\n      selectTips(value: TIP) {\r\n        // console.log('Tips ', value);\r\n        this.loading = true;\r\n        if (value.credit > this.clientCredit) {\r\n          this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n          this.loading = false;\r\n          return null;\r\n        }\r\n        this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n        subscribe(\r\n          (data: any) => {\r\n            // console.log(data);\r\n            this.clientCredit = data.creditClient;\r\n            this.sendTips(value.symbole, value.credit, value.designation, value.vip);\r\n          }, (error) => {\r\n            console.log(error);\r\n          }\r\n        )\r\n\r\n      }\r\n\r\n      toggleTips() {\r\n        this.showTips = !this.showTips;\r\n      }\r\n\r\n      sendTips(symbole: string, credit: number, designation, vip: boolean = false) {\r\n        const data: Chat = {\r\n          idRoom: this.idRoom,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          type_source: 'client',\r\n          id_source: this.clientId,\r\n          code_couleur: this.chatColor,\r\n          type_chat: 'tips',\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo,\r\n          pseudo: this.clientPseudo\r\n        }\r\n        const msg: ChatSocket = {\r\n          room: this.idRoom + 'T',\r\n          role: 'client',\r\n          id: this.clientId,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          pseudo: this.clientPseudo,\r\n          idRoom: this.idRoom,\r\n          type_source: 'client',\r\n          id_source: this.clientId,\r\n          code_couleur: this.chatColor,\r\n          type_chat: 'tips',\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo\r\n        }\r\n        this.socketService.sendMessage(msg);\r\n        this.chatService.postMessage(data).subscribe(\r\n          (data) => {\r\n            // this.getMessages();\r\n            this.loading = false;\r\n            this.showTips = false;\r\n          }\r\n        )\r\n      }\r\n\r\n      buyTips(value: TIP) {\r\n        this.loading = true;\r\n        if (value.credit > this.clientCredit) {\r\n          this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n          this.loading = false;\r\n          return null;\r\n        }\r\n        this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n        subscribe(\r\n        (data: any) => {\r\n            this.clientCredit = data.creditClient;\r\n            this.roomTipsService.updateGain(this.idRoom, value.credit).subscribe(\r\n              (data) => {\r\n                // notify send and animation\r\n                this.socketService.newTips(this.idRoom+'T', value.symbole, value.credit, value.designation, value.vip);\r\n                this.sendTips(value.symbole, value.credit, value.designation, value.vip);\r\n                this.notificationService.successMsg(`Votre ${value.symbole} est envoyé(e)`);\r\n              }\r\n            )\r\n        }, (error) => {\r\n            console.log(error);\r\n        }\r\n      )\r\n    }\r\n\r\n}\r\n","<app-header connected=\"true\"></app-header>\r\n\r\n<div class=\"main_live\" [ngClass]=\"{'dry_up': timer.fail}\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left\">\r\n      <app-topbar [context]=\"context\" [actif]=\"info.actif\"\r\n      [hour]=\"this.timer.hour\"\r\n      [minute]=\"this.timer.minute\"\r\n      [second]=\"this.timer.second\"\r\n      [reinit]=\"this.timer.reinit\"\r\n      [leaved]=\"leaved\"\r\n      ></app-topbar>\r\n\r\n      <app-gauge-bar [tips]=\"info.tips\" [descriptions]=\"info.descriptions\" [gain]=\"info.gain\"\r\n      [pseudoModel]=\"info.pseudo\"></app-gauge-bar>\r\n\r\n      <div class=\"show_live_left\" id=\"show_live_left\" [ngClass]=\"{'dry_up': leaved}\">\r\n\r\n        <div id=\"videoContainer\" class=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls class=\"model_flow\" id=\"video_live_model\" #video_live_model></video>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"come_on\" *ngIf=\"passedVIP\">\r\n          {{modelPseudo}} est passée en VIP\r\n        </div>\r\n\r\n        <!-- <app-album-live [albums]=\"albums\"></app-album-live> -->\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Informations\">\r\n            <app-stat-tips-model\r\n            [tips]=\"info.tips\" [descriptions]=\"info.descriptions\" [gain]=\"info.gain\"\r\n            [pseudoModel]=\"info.pseudo\">\r\n            </app-stat-tips-model>\r\n          </mat-tab>\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n            [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"\r\n            showMenu=\"false\" [roomId]=\"roomIdString\"\r\n            isModel=\"false\" [clientId]=\"clientId\"></app-live-free-chat>\r\n          </mat-tab>\r\n          <mat-tab label=\"Vos tips\">\r\n            <app-stat-tips (newItemEvent)=\"buyTips($event)\">\r\n            </app-stat-tips>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy btn_credit lighter\">{{info.gain}} TIPS</button>\r\n          <p>0 tips</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" style=\"border: none;\">{{clientCredit}} crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy btn_credit lighter\">{{info.gain}} TIPS</button>\r\n          <p>{{info.gain}} tips</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" style=\"border: none;\">{{clientCredit}} crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <!-- <div class=\"contain_close\">\r\n          <img [src]=\"close\" alt=\"\" id=\"close\" (click)=\"toggleDots()\">\r\n        </div> -->\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div *ngIf=\"showTips\">\r\n        <app-tips (newItemEvent)=\"selectTips($event)\"></app-tips>\r\n      </div>\r\n\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <img src=\"./../../../../assets/icons/gift.png\" alt=\"\" class=\"img_gift\"\r\n              (click)=\"toggleTips()\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Pack } from 'src/app/interfaces/pack-credit.interface';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CreditService {\r\n  endpoint = environment.endpoint;\r\n\r\n  public listPack = ['De Bienvenue', 'Bronze', 'Argent', 'Or'];\r\n\r\n  public packBienvenue: Pack[] = [\r\n    {credit: 30, cout: 0.18, montant: 5.25, affaire: false}\r\n  ];\r\n\r\n  public packBronze: Pack[] = [\r\n    {credit: 40, cout: 0.26, montant: 10.5, affaire: false},\r\n    {credit: 82, cout: 0.26, montant: 21, affaire: false},\r\n    {credit: 123, cout: 0.26, montant: 31.5, affaire: false},\r\n    {credit: 164, cout: 0.26, montant: 42, affaire: false},\r\n    {credit: 225, cout: 0.23, montant: 52.5, affaire: true},\r\n    {credit: 360, cout: 0.23, montant: 84 , affaire: false}\r\n  ];\r\n\r\n  public packArgent: Pack[] = [\r\n    {credit: 470, cout: 0.22, montant: 105, affaire: false},\r\n    {credit: 564, cout: 0.22, montant: 126, affaire: false},\r\n    {credit: 720, cout: 0.22, montant: 157.5, affaire: false},\r\n    {credit: 864, cout: 0.22, montant: 189, affaire: false},\r\n  ];\r\n\r\n  public packOr: Pack[] = [\r\n    {credit: 1000, cout: 0.21, montant: 210, affaire: false},\r\n    {credit: 1500, cout: 0.21, montant: 315, affaire: false},\r\n    {credit: 2000, cout: 0.21, montant: 420, affaire: false},\r\n    {credit: 2500, cout: 0.21, montant: 525, affaire: false},\r\n  ];\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  getCredit(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/credit`, httpOptions)\r\n  }\r\n\r\n  createCredit(id: number): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/credit/create/${id}`,{id}, httpOptions)\r\n  }\r\n\r\n  createCreditClient(id: number): Observable<any> {\r\n    return this.http.post(`${this.endpoint}/credit/create/client/${id}`,{id}, httpOptions)\r\n  }\r\n\r\n  updateCredit(id: number, credit: number) {\r\n    const data = {\r\n      credit\r\n    }\r\n    return this.http.patch(`${this.endpoint}/credit/${id}`, data, httpOptions)\r\n  }\r\n\r\n  buyCreditClient(montant: number, credit: number, creditId: number, clientId: number) {\r\n    const data = {\r\n      montant,\r\n      credit,\r\n      creditId,\r\n      clientId\r\n    }\r\n    return this.http.post(`${this.endpoint}/credit/client`, data, httpOptions)\r\n  }\r\n\r\n  buyGift(clientId: number, modelId: number, credit: number) {\r\n    const data = {\r\n      clientId,\r\n      modelId,\r\n      credit\r\n    }\r\n    return this.http.post(`${this.endpoint}/credit/buyGift`, data, httpOptions)\r\n  }\r\n\r\n  buyCreditInShop(creditId: number, montantVIP: number, creditGain: number) {\r\n    const data = {\r\n      creditId,\r\n      montantVIP,\r\n      creditGain\r\n    }\r\n    return this.http.post(`${this.endpoint}/credit/buyCreditShopVIP`, data, httpOptions)\r\n  }\r\n}\r\n","<div class=\"contain_commission\">\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-2\"></div>\n      <div class=\"col-5 header1 borderRight\">COMMISSIONS</div>\n      <div class=\"col-5 header1\">PRIMES</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-2 header2\">Paliers</div>\n      <div class=\"col-3 header2 borderLeft\">Crédits</div>\n      <div class=\"col-2 header2 borderRight\">Euros (€)</div>\n      <div class=\"col-3 header2\">Crédits</div>\n      <div class=\"col-2 header2\">Euros (€)</div>\n    </div>\n    <div class=\"row\" *ngFor=\"let item of commissionsPrimes; let i=index\"\n    [ngClass]=\"{'evenRow' : i % 2 === 0, 'oddRow' : i % 2 !== 0 }\">\n      <div class=\"col-2\">\n        {{item.palier}}\n        <img [src]=\"star\" alt=\"\" class=\"start\" *ngIf=\"hadGet(item.palier)\">\n      </div>\n      <div class=\"col-3\">{{item.commissionCredit}}</div>\n      <div class=\"col-2\">{{item.commissionEuro}}</div>\n      <div class=\"col-3\">{{item.primeCredit}}</div>\n      <div class=\"col-2\">{{item.primeEuro}}</div>\n    </div>\n  </div>\n\n  <div class=\"instruction\">\n    <img [src]=\"star\" alt=\"\" class=\"startBottom\">\n    <p> &nbsp;Commission obtenue </p>\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CommissionService } from '../../../../services/commission/commission.service';\n\n@Component({\n  selector: 'app-commission',\n  templateUrl: './commission.component.html',\n  styleUrls: ['./commission.component.scss']\n})\nexport class CommissionComponent implements OnInit {\n  commissionsPrimes = [\n    { palier: 1, commissionCredit: 3401, commissionEuro: 500, primeCredit: 68, primeEuro: 10 },\n    { palier: 2, commissionCredit: 6803, commissionEuro: 1000, primeCredit: 340, primeEuro: 50 },\n    { palier: 3, commissionCredit: 10204, commissionEuro: 1500, primeCredit: 510, primeEuro: 75 },\n    { palier: 4, commissionCredit: 13605, commissionEuro: 2000, primeCredit: 680, primeEuro: 100 },\n    { palier: 5, commissionCredit: 19048, commissionEuro: 2800, primeCredit: 816, primeEuro: 120 },\n    { palier: 6, commissionCredit: 23810, commissionEuro: 3500, primeCredit: 1020, primeEuro: 150 },\n    { palier: 7, commissionCredit: 28571, commissionEuro: 4200, primeCredit: 1224, primeEuro: 180 },\n    { palier: 8, commissionCredit: 33333, commissionEuro: 4900, primeCredit: 1429, primeEuro: 210 },\n    { palier: 9, commissionCredit: 38095, commissionEuro: 5600, primeCredit: 1633, primeEuro: 240 },\n    { palier: 10, commissionCredit: 42857, commissionEuro: 6300, primeCredit: 1837, primeEuro: 270 },\n    { palier: 11, commissionCredit: 47619, commissionEuro: 7000, primeCredit: 2041, primeEuro: 300 },\n    { palier: 12, commissionCredit: 52381, commissionEuro: 7700, primeCredit: 2245, primeEuro: 330 },\n  ]\n\n  star = \"./../../../../../assets/icons/star.png\";\n  commissions = [];\n\n  constructor(\n    public commissionService: CommissionService\n  ) { }\n\n  ngOnInit(): void {\n    this.getCommissions();\n  }\n\n  getCommissions() {\n    this.commissionService.getCommissions().subscribe(\n      (data) => {\n        console.log('Commissions ', data);\n        this.commissions = data;\n      }, (error) => {\n        console.log(error);\n      }\n    )\n  }\n\n  isCommission(credit: number) {\n    this.commissionService.verifyCommission(credit).subscribe(\n      (data) => {\n        // console.log('verifyCommission - credit ', credit, ' - ', data);\n      }, (error) => {\n        console.log(error);\n      }\n    )\n  }\n\n  hadGet(palier: number) {\n    let result = false;\n    this.commissions.forEach(item => {\n      if (item.palierCredit === palier && item.used) result = true;\n    })\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport {NgxNotificationDirection, NgxNotificationMsgService, NgxNotificationStatusMsg} from 'ngx-notification-msg'\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NotificationService {\r\n\r\n  constructor(\r\n    private _snackbar: MatSnackBar,\r\n    private readonly ngxNotificationMsgService: NgxNotificationMsgService) {\r\n    }\r\n\r\n  success (title: string, message: string) {\r\n    this.ngxNotificationMsgService.open({\r\n      status: NgxNotificationStatusMsg.SUCCESS,\r\n      header: title,\r\n      messages: [message],\r\n      displayIcon: true,\r\n      closeable: true,\r\n      direction: NgxNotificationDirection.TOP_RIGHT,\r\n      displayProgressBar: false,\r\n      delay: 2000\r\n    });\r\n  }\r\n\r\n  info (title: string, message: string) {\r\n    this.ngxNotificationMsgService.open({\r\n      status: NgxNotificationStatusMsg.INFO,\r\n      header: title,\r\n      messages: [message],\r\n      displayIcon: true,\r\n      closeable: true,\r\n      direction: NgxNotificationDirection.TOP_RIGHT,\r\n      displayProgressBar: false,\r\n      delay: 2000\r\n    });\r\n  }\r\n\r\n  failure (title: string, message: string) {\r\n    this.ngxNotificationMsgService.open({\r\n      status: NgxNotificationStatusMsg.FAILURE,\r\n      header: title,\r\n      messages: [message],\r\n      displayIcon: true,\r\n      closeable: true,\r\n      direction: NgxNotificationDirection.TOP_RIGHT,\r\n      displayProgressBar: false,\r\n      delay: 2000\r\n    });\r\n  }\r\n\r\n  simple (title: string, message: string) {\r\n    this.ngxNotificationMsgService.open({\r\n      status: NgxNotificationStatusMsg.NONE,\r\n      header: title,\r\n      messages: [message],\r\n      displayIcon: true,\r\n      closeable: true,\r\n      direction: NgxNotificationDirection.TOP_RIGHT,\r\n      displayProgressBar: false,\r\n      delay: 2000\r\n    });\r\n  }\r\n\r\n  errorMsg(message: string) {\r\n    this._snackbar.open(message, \"\", {\r\n      duration: 2000,\r\n      horizontalPosition: \"right\",\r\n      verticalPosition: \"bottom\",\r\n      panelClass: [\"erreur_snackar\"]\r\n  })\r\n  }\r\n\r\n  successMsg(message: string) {\r\n    this._snackbar.open(message, \"\", {\r\n      duration: 2000,\r\n      horizontalPosition: \"right\",\r\n      verticalPosition: \"bottom\",\r\n      panelClass: [\"success_snackar\"]\r\n  })\r\n  }\r\n\r\n  infoMsg(message: string) {\r\n    this._snackbar.open(message, \"\", {\r\n      duration: 2000,\r\n      horizontalPosition: \"right\",\r\n      verticalPosition: \"bottom\",\r\n      panelClass: [\"info_snackar\"]\r\n  })\r\n  }\r\n\r\n  invitationPrivate (title: string, message: string) {\r\n    this.ngxNotificationMsgService.open({\r\n      status: NgxNotificationStatusMsg.INFO,\r\n      header: title,\r\n      messages: [message],\r\n      displayIcon: true,\r\n      closeable: true,\r\n      direction: NgxNotificationDirection.BOTTOM_RIGHT,\r\n      displayProgressBar: true,\r\n      delay: 4000\r\n    });\r\n  }\r\n\r\n}\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signin_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>Bienvenue sur <span class=\"word_one\">BETWEEN</span><span class=\"word_two\">US</span></h2>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signin_two inside_sign\">\r\n  <h2 class=\"title\">\r\n    Se connecter en tant que Modèle\r\n  </h2>\r\n\r\n  <div class=\"descr\">\r\n      Nous utilisons des cookies pour améliorer votre expérience\r\n      d'utilisateur. En poursuivant votre navigation, vous acceptez\r\n      l'utilisation de cookies, notamment de tiers. Politique relative aux cookies.\r\n  </div>\r\n\r\n  <form class=\"form\" [formGroup]=\"loginForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"pseudo\">Adresse email</label>\r\n      <input type=\"text\" formControlName=\"pseudo\" name=\"pseudo\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.pseudo.errors\">\r\n        <small *ngIf=\"form.pseudo.errors.required\" class=\"form-text error-text\">Email requis</small>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe</label>\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.password.errors\">\r\n        <small *ngIf=\"form.password.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n      <small *ngIf=\"errorAuth\" class=\"form-text error-text\">\r\n        {{errorAuth}}\r\n      </small>\r\n\r\n    <div class=\"options\">\r\n      <div class=\"stay_connected\">\r\n        <input (change)=\"remember($event)\" type=\"checkbox\" id=\"checker\" class=\"regular-checkbox\">\r\n        <label for=\"checker\" class=\"label_check\">Se souvenir de moi</label>\r\n      </div>\r\n      <div class=\"forgot\" routerLink=\"/modele/motdepasseoublie\">\r\n        Mot de passe oublié ?\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signin lighter\" (click)=\"login($event)\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">CONNEXION</span>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"register\">\r\n      Pas encore membre ? <span routerLink=\"/modele/inscription\">Inscrivez-vous</span>\r\n    </div>\r\n  </form>\r\n\r\n  <br><br><br>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { EncryptionService } from './../../../services/encryption/encryption.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport * as $ from 'jquery';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { loginUser } from 'src/app/interfaces/login.interface';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LogService } from '../../../services/log/log.service';\r\nimport { Log } from '../../../interfaces/log.interface';\r\nimport { RoomService } from '../../../services/room/room.service';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\n\r\n@Component({\r\n  selector: 'app-connexion-model',\r\n  templateUrl: './connexion-model.component.html',\r\n  styleUrls: ['./connexion-model.component.scss']\r\n})\r\nexport class ConnexionModelComponent implements OnInit {\r\n  loginForm : FormGroup;\r\n\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n\r\n  checked :boolean =  false;\r\n\r\n  pseudoStorage : string = null;\r\n  passStorage : string = null;\r\n  errorAuth  :boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private encryptionService: EncryptionService,\r\n    private authService: AuthService,\r\n    private router: Router,\r\n    private logService: LogService,\r\n    private roomService: RoomService,\r\n    private store: LocalStorageService\r\n  ) {\r\n    this.loginForm = this.formBuilder.group({\r\n      pseudo: ['', Validators.required],\r\n      password: ['', Validators.required]\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifyToken();\r\n    this.isRemembered();\r\n  }\r\n\r\n  verifyToken() {\r\n    let token = this.store.get(\"token\");\r\n    console.log(token)\r\n    this.authService.verifyToken(token).subscribe(\r\n      (data: any) => {\r\n        if (data.role === 'client') {\r\n          this.router.navigateByUrl(\"client/accueil/registered\");\r\n        } else if (data.role === 'model') {\r\n          this.router.navigateByUrl(\"modele/profile\");\r\n        }\r\n      }, (error) => {\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  get form() { return this.loginForm.controls }\r\n\r\n  remember(value) {\r\n    if (value.target.checked) {\r\n        this.checked = true;\r\n        localStorage.setItem(\"checklogmod\", \"true\");\r\n    } else {\r\n        this.checked = false;\r\n        localStorage.setItem(\"checklogmod\", \"false\");\r\n    }\r\n  }\r\n\r\n  async isRemember(user: loginUser) {\r\n    if (localStorage.getItem(\"checklogmod\") === \"true\") {\r\n        const pseudoCrypted = this.encryptionService.encryptUsingAES256(user.pseudo);\r\n        const passCrypted = this.encryptionService.encryptUsingAES256(user.password);\r\n        localStorage.setItem(environment.CRYPT_PSEUDO_MODEL, pseudoCrypted);\r\n        localStorage.setItem(environment.CRYPT_PASS_MODEL, passCrypted);\r\n    } else {\r\n        localStorage.setItem(environment.CRYPT_PSEUDO_MODEL, null);\r\n        localStorage.setItem(environment.CRYPT_PASS_MODEL, null);\r\n    }\r\n  }\r\n\r\n  isRemembered() {\r\n    const pseudoStorage = localStorage.getItem(environment.CRYPT_PSEUDO_MODEL) ? localStorage.getItem(environment.CRYPT_PSEUDO_MODEL) : null;\r\n    const passStorage = localStorage.getItem(environment.CRYPT_PASS_MODEL) ? localStorage.getItem(environment.CRYPT_PASS_MODEL) : null;\r\n\r\n    if (pseudoStorage && passStorage) {\r\n      this.pseudoStorage = this.encryptionService.decryptUsingAES256(pseudoStorage);\r\n      this.passStorage = this.encryptionService.decryptUsingAES256(passStorage);\r\n\r\n      this.pseudoStorage = this.pseudoStorage.replace(/['\"]+/g, '');\r\n      this.passStorage = this.passStorage.replace(/['\"]+/g, '');\r\n\r\n      this.loginForm.setValue({\r\n            pseudo: this.pseudoStorage,\r\n            password: this.passStorage\r\n      })\r\n    }\r\n\r\n    if (localStorage.getItem(\"checklogmod\") === \"true\")\r\n      $('#checker').prop('checked', true);\r\n    else\r\n      $('#checker').prop('checked', false);\r\n  }\r\n\r\n  async login(event) {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n    if (this.loginForm.invalid) {return false;}\r\n    this.loading = true;\r\n    let user: loginUser = this.loginForm.value;\r\n    await this.authService.loginModel(user).subscribe(\r\n      (res: any) => {\r\n          // console.log(res);\r\n          if (res.error) {\r\n            this.errorAuth = res.message;\r\n            this.loading = false;\r\n          } else {\r\n            this.errorAuth = null;\r\n            if (res.access_token)\r\n              this.authService.saveToken(res.access_token).then(\r\n                () => {\r\n                  this.logService.createLog(\"connection\").subscribe(\r\n                    (data) => {\r\n                      this.isRemember(user).then(\r\n                        () => {\r\n                          this.roomService.createRoom().subscribe(\r\n                            (data) => {\r\n                              this.store.set(\"room\", data.room);\r\n                              this.loading = false;\r\n                              this.router.navigate(['/modele/profile']);\r\n                            }\r\n                          )\r\n                        }\r\n                      );\r\n                    }, (error) => {\r\n                      this.loading = false;\r\n                      console.log(error);\r\n                    }\r\n                  );\r\n\r\n                }\r\n              );\r\n          }\r\n      },\r\n      (err: any) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n      }\r\n    );\r\n\r\n    return true;\r\n  }\r\n\r\n  saveLog() {\r\n    this.logService.createLog(\"connection\").subscribe(\r\n      (data) => {\r\n        // console.log('Log ', data)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-infobar-admin title=\"Tableau de bord\" subTitle=\"Tableau de bord\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    tableau de bord\r\n  </div>\r\n\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-4\">\r\n        <app-main-left-dashboard-admin></app-main-left-dashboard-admin>\r\n      </div>\r\n      <div class=\"col-lg-8\">\r\n        <app-main-right-dashboard-admin></app-main-right-dashboard-admin>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"block_right second\">\r\n          <div class=\"title_right\">\r\n            Show\r\n          </div>\r\n\r\n          <div class=\"under_right\">\r\n            <div class=\"list_action_right\">\r\n              <button class=\"btn btn_list\" (click)=\"changeSelectionShow('private')\"\r\n              [ngClass]=\"{'selected': currentShowLabel === 'private'}\">\r\n                Récents Show PRIVATE\r\n              </button>\r\n              <button class=\"btn btn_list\" (click)=\"changeSelectionShow('vip')\"\r\n              [ngClass]=\"{'selected': currentShowLabel === 'vip'}\">\r\n                Récents Show VIP\r\n              </button>\r\n              <button class=\"btn btn_list\" (click)=\"changeSelectionShow('choice-us')\"\r\n              [ngClass]=\"{'selected': currentShowLabel === 'choice-us'}\">\r\n                Récents Show Choice Us\r\n              </button>\r\n              <button class=\"btn btn_list\" (click)=\"changeSelectionShow('tips')\"\r\n              [ngClass]=\"{'selected': currentShowLabel === 'tips'}\">\r\n                Récents Show TIPS\r\n              </button>\r\n              <button class=\"btn btn_list\" (click)=\"changeSelectionShow('top')\"\r\n              [ngClass]=\"{'selected': currentShowLabel === 'top'}\">\r\n                Rang des modèles\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"show_right table-responsive\">\r\n              <div class=\"title_show\">\r\n                {{labelShow.title}}\r\n              </div>\r\n              <table class=\"table table_contain table-responsive\">\r\n                <tr class=\"table_row\">\r\n                  <td *ngFor=\"let item of labelShow.label\">\r\n                    {{item}}\r\n                  </td>\r\n                </tr>\r\n                <tr *ngFor=\"let item of valueShow\" class=\"table_row\">\r\n                  <td class=\"name_modele\">{{item.pseudo}}</td>\r\n                  <td *ngIf=\"currentShowLabel !== 'top'\">{{item.date}}</td>\r\n                  <td *ngIf=\"currentShowLabel !== 'top'\">{{item.duree}}</td>\r\n                  <td *ngIf=\"currentShowLabel === 'top'\">{{item.showCreated}}</td>\r\n                  <td>{{item.gain}}</td>\r\n                  <td *ngIf=\"currentShowLabel === 'top'\">{{item.lastShow}}</td>\r\n                  <td *ngIf=\"currentShowLabel === 'top'\">{{item.rang}}</td>\r\n                  <td *ngIf=\"currentShowLabel !== 'top'\">{{item.type}}</td>\r\n                </tr>\r\n              </table>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../services/admin/admin.service';\r\nimport { TimerService } from '../../../../../services/timer/timer.service';\r\n\r\n@Component({\r\n  selector: 'app-main-dashboard-admin',\r\n  templateUrl: './main-dashboard-admin.component.html',\r\n  styleUrls: ['./main-dashboard-admin.component.scss']\r\n})\r\nexport class MainDashboardAdminComponent implements OnInit {\r\n  labelsShow = [\r\n    {\r\n      title: '10 DERNIERS SHOW',\r\n      label : [\r\n        'Modèle', 'Date', 'Durée',\r\n        'Gains', 'Type'\r\n      ]\r\n    },\r\n    {\r\n      title: 'TOP 10 MODELES',\r\n      label : [\r\n        'Modèle', 'Show crée', 'Gains',\r\n        'Dernier show', 'Rang'\r\n      ]\r\n    },\r\n    {\r\n      title: 'TOP 3 DES CLIENTS LES PLUS ACTIFS',\r\n      label : [\r\n        'Pseudo', 'Show regardé', 'Durée moyenne',\r\n        'Rang'\r\n      ]\r\n    }\r\n  ]\r\n\r\n  lastShowPrivate = []\r\n  lastShowVIP = []\r\n  lastShowTIPS = []\r\n  lastShowChoiceUS = []\r\n  valueShow = []\r\n\r\n  topModels = []\r\n\r\n  currentShowLabel = 'private'\r\n  labelShow = this.labelsShow[0]\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    private timerService: TimerService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getLastShowPrivate()\r\n    this.getLastShowVIP()\r\n    this.getLastShowTips()\r\n    this.getLastShowChoiceUS()\r\n    this.getTopModels()\r\n  }\r\n\r\n  getLastShowPrivate() {\r\n    this.adminService.get10LastShowPrivate().subscribe(\r\n      (data: any[]) => {\r\n        // console.log(data)\r\n        let tmp = data\r\n        tmp.forEach(value => {\r\n            value.pseudo = value.model.pseudo\r\n            value.date = this.adminService.formatDate(value.createdAt)\r\n            value.duree = this.getDuree(value.createdAt, value.updatedAt)\r\n            value.gain = value.gain\r\n            value.type = 'Private'\r\n        })\r\n        this.lastShowPrivate = tmp\r\n        this.valueShow = this.lastShowPrivate\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getLastShowTips() {\r\n    this.adminService.get10LastShowTips().subscribe(\r\n      (data: any[]) => {\r\n        // console.log('Show tips ', data)\r\n        let tmp = data\r\n        tmp.forEach(value => {\r\n            value.pseudo = value.model.pseudo\r\n            value.date = this.adminService.formatDate(value.createdAt)\r\n            value.duree = this.getDuree(value.createdAt, value.updatedAt)\r\n            value.gain = value.gain\r\n            value.type = 'TIPS'\r\n        })\r\n        this.lastShowTIPS = tmp\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getLastShowVIP() {\r\n    this.adminService.get10LastShowVIP().subscribe(\r\n      (data: any[]) => {\r\n        let tmp = data\r\n        tmp.forEach(value => {\r\n            value.pseudo = value.model.pseudo\r\n            value.date = this.adminService.formatDate(value.createdAt)\r\n            value.duree = this.getDuree(value.createdAt, value.updatedAt)\r\n            value.gain = value.gain\r\n            value.type = 'VIP'\r\n        })\r\n        this.lastShowVIP = tmp.filter((data) => data.free === null)\r\n        this.lastShowVIP = this.lastShowVIP.slice(0, 10);\r\n        console.log('Show VIP ', this.lastShowVIP);\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getLastShowChoiceUS() {\r\n    this.adminService.get10LastShowChoiceUS().subscribe(\r\n      (data: any[]) => {\r\n        let tmp = data\r\n        tmp.forEach(value => {\r\n            value.pseudo = value.model.pseudo\r\n            value.date = this.adminService.formatDate(value.createdAt)\r\n            value.duree = this.getDuree(value.createdAt, value.updatedAt)\r\n            value.gain = value.gain\r\n            value.type = 'CHOICE US'\r\n        })\r\n        this.lastShowChoiceUS = tmp.filter((data) => data.free !== null)\r\n        this.lastShowChoiceUS = this.lastShowChoiceUS.slice(0, 10);\r\n        console.log('Show CHOICE US ', this.lastShowChoiceUS);\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getTopModels() {\r\n    this.adminService.getTop10Model().subscribe(\r\n      (data: any[]) => {\r\n        // console.log(data)\r\n        let tmp = data\r\n        let countLoop = 0\r\n        tmp.forEach(value => {\r\n          value.pseudo = value.pseudo\r\n          value.showCreated = value.privateRooms.length + value.vipRooms.length\r\n          value.gain = value.credit.credit\r\n          value.lastShow = this.adminService.formatDate(value.credit.updatedAt)\r\n          value.rang = countLoop + 1\r\n          countLoop++\r\n        })\r\n        // console.log(tmp)\r\n        this.topModels = tmp\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  changeSelectionShow(text) {\r\n    this.currentShowLabel = text\r\n    if (text === 'private') {\r\n      this.labelShow = this.labelsShow[0]\r\n      this.valueShow = this.lastShowPrivate\r\n    } else if (text === 'vip') {\r\n      this.labelShow = this.labelsShow[0]\r\n      this.valueShow = this.lastShowVIP\r\n    } else if (text === 'choice-us') {\r\n      this.labelShow = this.labelsShow[0]\r\n      this.valueShow = this.lastShowChoiceUS\r\n    } else if (text === 'tips') {\r\n      this.labelShow = this.labelsShow[0]\r\n      this.valueShow = this.lastShowTIPS\r\n    } else if (text === 'top') {\r\n      this.labelShow = this.labelsShow[1]\r\n      this.valueShow = this.topModels\r\n    }\r\n  }\r\n\r\n  getDuree(created: string, updated: string) {\r\n    const result = this.timerService.convertTime(created, updated)\r\n    const hourStr = result.hour < 10 ? '0'+result.hour : result.hour\r\n    const minStr = result.minute < 10 ? '0'+result.minute : result.minute\r\n    const secStr = result.second < 10 ? '0'+result.second : result.second\r\n\r\n    if (result.hour > 0) {\r\n      return hourStr+':'+minStr+':'+secStr\r\n    }\r\n    return minStr+':'+secStr\r\n  }\r\n}\r\n","<div class=\"main_topbar\">\r\n  <div class=\"contain_notification\">\r\n    <img [src]=\"icon_notification\" alt=\"\" class=\"img_notification rotateimg\">\r\n    <sup *ngIf=\"value_notification > 0\">\r\n      {{value_notification}}\r\n    </sup>\r\n  </div>\r\n\r\n  <div class=\"contain_label\">\r\n    {{info.pseudo}}\r\n  </div>\r\n\r\n  <div class=\"contain_profile\">\r\n    <img [src]=\"info.url\" alt=\"\" class=\"profile\">\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-topbar-admin',\r\n  templateUrl: './topbar-admin.component.html',\r\n  styleUrls: ['./topbar-admin.component.scss']\r\n})\r\nexport class TopbarAdminComponent implements OnInit {\r\n  icon_notification = './../../../../../assets/icons/admin-icons/notification.png'\r\n  value_notification = 0\r\n\r\n  info = {\r\n    pseudo: '',\r\n    url: '',\r\n    email: ''\r\n  }\r\n\r\n  constructor(\r\n    private adminService: AdminService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getInfos()\r\n  }\r\n\r\n  getInfos() {\r\n    this.adminService.getInfosAdmin().subscribe(\r\n      (data: any) => {\r\n        this.info = data\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { AlbumService } from '../../services/album/album.service';\r\nimport { NotificationService } from '../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-popup-image',\r\n  templateUrl: './popup-image.component.html',\r\n  styleUrls: ['./popup-image.component.scss']\r\n})\r\nexport class PopupImageComponent implements OnInit {\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: {id: number, url: string, type: string, client: boolean},\r\n    private albumService: AlbumService,\r\n    private notificationService: NotificationService,\r\n    public dialogRef: MatDialogRef<PopupImageComponent>\r\n    ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  close() {\r\n    this.dialogRef.close('close');\r\n  }\r\n\r\n  delete(id: number) {\r\n    this.albumService.deleteAlbum(id).subscribe(\r\n      (data) => {\r\n        this.notificationService.info(\"Suppression\", \"Photo Supprimée\");\r\n        this.dialogRef.close('success');\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"main_popup\">\r\n  <img [src]=\"data.url\" alt=\"\" class=\"img_popup\" *ngIf=\"data.url\">\r\n\r\n  <div class=\"bottom_action\" *ngIf=\"!data.client\">\r\n    <div class=\"bottom_btn\">\r\n      <button class=\"btn_delete btn\" (click)=\"delete(data.id)\">\r\n        Supprimer\r\n      </button>\r\n      <button class=\"btn btn_close\" (click)=\"close()\">\r\n        Fermer\r\n      </button>\r\n    </div>\r\n    <div class=\"bottom_title\">\r\n      Photo {{data.type}}\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"action\">\r\n    <button class=\"btn_delete btn\" (click)=\"delete(data.id)\">\r\n      Supprimer\r\n    </button>\r\n    <button class=\"btn btn_close\" (click)=\"close()\">\r\n      Fermer\r\n    </button>\r\n  </div> -->\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\n\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Component({\r\n  selector: 'app-confirm-email',\r\n  templateUrl: './confirm-email.component.html',\r\n  styleUrls: ['./confirm-email.component.scss']\r\n})\r\nexport class ConfirmEmailComponent implements OnInit {\r\n  endpoint = environment.endpoint\r\n\r\n  token = null;\r\n  errorToken: boolean = false;\r\n  errorMessageToken: string = null;\r\n  successMessageToken: string = null;\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private store: LocalStorageService,\r\n    private router: Router,\r\n    private notificationService: NotificationService\r\n    ) {\r\n    this.activatedRoute.queryParams.subscribe(params => {\r\n          this.token = params['token'];\r\n      });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.confirmToken();\r\n  }\r\n\r\n  confirmToken() {\r\n    if (!this.token) {\r\n      this.errorToken = true;\r\n      this.errorMessageToken = \"Token introuvable\"\r\n      return false;\r\n    }\r\n    this.store.set(\"token\", this.token);\r\n\r\n    // POST client/confirm\r\n    this.http.post(`${this.endpoint}/client/confirm`,{}, httpOptions).subscribe(\r\n      (data: {success: boolean, message: string}) => {\r\n        // console.log(\"Client token \", data);\r\n        if (!data.success) {\r\n          this.errorMessageToken = data.message;\r\n          this.errorToken = true;\r\n        } else {\r\n          this.errorToken = false;\r\n          this.successMessageToken = data.message;\r\n          this.notificationService.infoMsg(\"Votre compte est confirmé\");\r\n          this.router.navigate(['/client/connexion']);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"main\"></div>\r\n\r\n<div class=\"main_token\">\r\n  <div class=\"main_contain\">\r\n    <h3 class=\"titre\">Confirmation d'inscription</h3>\r\n    <p class=\"success message\" *ngIf=\"!errorToken\">\r\n      {{successMessageToken}}\r\n    </p>\r\n    <p class=\"error message\" *ngIf=\"errorToken\">\r\n      {{errorMessageToken}}\r\n    </p>\r\n  </div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { SubscribeService } from '../../../services/subscribe/subscribe.service';\r\nimport { PaiementService } from '../../../services/paiement/paiement.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { addAlbum } from '../../../interfaces/add-album.interface';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport { PopupImageComponent } from 'src/app/modals/popup-image/popup-image.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-albums-model',\r\n  templateUrl: './albums-model.component.html',\r\n  styleUrls: ['./albums-model.component.scss']\r\n})\r\nexport class AlbumsModelComponent implements OnInit {\r\n  modelId: number = null;\r\n  profilModel: any =  {\r\n    pseudo: '',\r\n    path_soft: null,\r\n    sex_orientation: '',\r\n    like: '',\r\n    dislike: '',\r\n    status: '',\r\n    social_network: '',\r\n    description: '',\r\n    date_last_connection: '',\r\n    actualStatus: ''\r\n  };\r\n  albumsFree: addAlbum[] = [];\r\n  albumsPrivate: addAlbum[] = [];\r\n  albumsVIP: addAlbum[] = [];\r\n  hasPaid: boolean = false;\r\n\r\n  subscription = {\r\n    subscribed: false,\r\n    expired: false,\r\n    subscribe: {},\r\n    rest: 0\r\n  }\r\n\r\n  bannier = \"./../../../../assets/logos/dark-light.jpg\";\r\n  defaultImage = './../../../../assets/images/blured.jpg';\r\n  totalAlbum: number  = 0;\r\n  sectionAlbum: number = 9;\r\n  page: number = 0;\r\n\r\n  contextAlbum = \"free\";\r\n  currentAlbum: addAlbum[] = [];\r\n  textAlbum: any = 'Albums Free';\r\n  count = {\r\n    \"vip\": 0,\r\n    \"private\": 0,\r\n    \"free\": 0\r\n  }\r\n  loading: boolean = false;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private subscribeService: SubscribeService,\r\n    private paiementService: PaiementService,\r\n    private profilService: ProfilService,\r\n    private albumService: AlbumService,\r\n    private modelService: ModelService,\r\n    private dialog: MatDialog\r\n  ) {\r\n    const id = this.route.snapshot.paramMap.get('model');\r\n    this.modelId = parseInt(id);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.verifyPayment();\r\n    this.verifySubscription();\r\n    this.getProfilModel();\r\n  }\r\n\r\n  verifyPayment() {\r\n    this.paiementService.hasPaid().subscribe(\r\n      (data: any) => {\r\n        // console.log(data);\r\n        if (data.success) this.hasPaid = true;\r\n        // console.log('HasPaid ', this.hasPaid);\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  verifySubscription() {\r\n    this.subscribeService.verify().subscribe(\r\n      (data) => {\r\n        // console.log('Sub ', data);\r\n        this.subscription = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  getProfilModel() {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      (data: any) => {\r\n        // console.log('Profil ', data);\r\n        this.profilModel = data;\r\n      }\r\n    )\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n      (data: {pseudo: string, path_soft: string}) => {\r\n        // console.log('Info ',data);\r\n        this.profilModel.pseudo = data.pseudo;\r\n        this.profilModel.path_soft = data.path_soft;\r\n      }\r\n    )\r\n    this.getAlbums('free');\r\n    this.getAlbums('private');\r\n    this.getAlbums('vip');\r\n  }\r\n\r\n  getAlbums(type: string) {\r\n    const data = {\r\n      modelId: this.modelId,\r\n      type_album: type\r\n    }\r\n\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Album \", type, data);\r\n        switch(type) {\r\n          case 'free':\r\n            this.albumsFree = data;\r\n            this.totalAlbum = this.albumsFree.length;\r\n            this.currentAlbum = this.albumsFree;\r\n            break;\r\n          case 'private':\r\n            this.albumsPrivate = data;\r\n            break;\r\n          case 'vip':\r\n            this.albumsVIP = data;\r\n            break;\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  // context : private |vip | free\r\n  initAlbum(context: string) {\r\n    this.contextAlbum = context;\r\n    var verified  = false;\r\n    switch (context) {\r\n      case 'private':\r\n        verified = true;\r\n        this.totalAlbum = this.albumsPrivate.length;\r\n        this.textAlbum = \"Albums Private\";\r\n        this.currentAlbum = this.albumsPrivate;\r\n        break;\r\n      case 'vip':\r\n        verified = true;\r\n        this.totalAlbum = this.albumsVIP.length;\r\n        this.textAlbum = \"Albums VIP\";\r\n        this.currentAlbum = this.albumsVIP;\r\n        break;\r\n      case 'free':\r\n        verified = true;\r\n        this.totalAlbum = this.albumsFree.length\r\n        this.textAlbum = \"Albums Free\";\r\n        this.currentAlbum = this.albumsFree;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  openImage(id: number, url: string) {\r\n    let dialogRef = this.dialog.open(PopupImageComponent, {\r\n      width: '100%',\r\n      data: {\r\n        id,\r\n        url,\r\n        type: this.contextAlbum,\r\n        client: true\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((data) => {\r\n      if (data === 'success') this.ngOnInit();\r\n    });\r\n  }\r\n\r\n}\r\n","<app-header connected=\"true\"></app-header>\r\n\r\n<div class=\"main_album\">\r\n    <div class=\"head_album\"\r\n    [ngStyle]=\"{'background-image': 'linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0)),url(' + bannier + ')'}\">\r\n    <div class=\"profil\">\r\n        <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n        [lazyLoad]=\"profilModel.path_soft\" id=\"profil\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"under_head_album\" id=\"scrolled_point\">\r\n      <div class=\"info_model\">\r\n        <div class=\"name_model\">\r\n          {{profilModel.pseudo}}\r\n        </div>\r\n        <div class=\"status_model\">\r\n          {{profilModel.pseudo}}&nbsp;\r\n          <span *ngIf=\"profilModel.status === 'En ligne'\">\r\n             est actuellement en ligne\r\n          </span>\r\n          <span *ngIf=\"profilModel.status === 'Hors ligne'\">\r\n            est hors ligne\r\n          </span>\r\n          <span *ngIf=\"profilModel.status === 'En live'\">\r\n            est en live privé\r\n          </span>\r\n          <span *ngIf=\"profilModel.status === 'En tips'\">\r\n            est en live tips\r\n          </span>\r\n          <span *ngIf=\"profilModel.status === 'En vip'\">\r\n            est en live VIP\r\n          </span>\r\n          <span *ngIf=\"profilModel.status === 'En live choice'\">\r\n            est en live Choice Us\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"menu_album\">\r\n        <div class=\"text_menu\" (click)=\"initAlbum('free')\"\r\n        [ngClass]=\"{'active': contextAlbum === 'free'}\">\r\n            Albums Free\r\n        </div>\r\n\r\n        <div class=\"text_menu\" (click)=\"initAlbum('private')\"\r\n        [ngClass]=\"{'active': contextAlbum === 'private'}\" *ngIf=\"hasPaid\">\r\n            Photos privées\r\n        </div>\r\n\r\n        <div class=\"text_menu\" (click)=\"initAlbum('vip')\"\r\n        [ngClass]=\"{'active': contextAlbum === 'vip'}\" *ngIf=\"subscription.subscribed && !subscription.expired\">\r\n            Albums VIP\r\n        </div>\r\n\r\n        <!-- <div class=\"text_menu menu_shadow\" style=\"opacity: 0;\">album vide</div> -->\r\n        <!-- <div class=\"text_menu\" (click)=\"nextTime()\">\r\n          Vidéos\r\n        </div> -->\r\n      </div>\r\n      <!-- <div class=\"info_model info_desktop\">\r\n        <div class=\"name_model\">\r\n          {{info.pseudo}}\r\n        </div>\r\n        <div class=\"status_model\">\r\n          Les albums de votre carrière\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n\r\n    <div class=\"title_album\">\r\n      {{textAlbum}}\r\n      <span *ngIf=\"totalAlbum == 0\">( 0 )</span>\r\n      <span *ngIf=\"totalAlbum != 0\">(<span *ngIf=\"totalAlbum < 10\">0</span>{{totalAlbum}} ) </span>\r\n    </div>\r\n\r\n    <div class=\"container-fluid list_album\">\r\n      <div class=\"row\" *ngIf=\"currentAlbum.length === 0\">\r\n        <div class=\"col-lg-12 no_photo\">\r\n          Aucune photo\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-4 col-sm-6\" *ngFor=\"let item of currentAlbum\">\r\n          <!-- [ngStyle]=\"{'background-image': 'url('+ item +')'}\" -->\r\n          <div class=\"album\"\r\n          [ngStyle]=\"{'background-image': 'url('+ item.path_album +')'}\"\r\n          (click)=\"openImage(item.id, item.path_album)\">\r\n            <!-- <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n            [lazyLoad]=\"item.path_album\"\r\n            class=\"album_item img-responsive\"\r\n            /> -->\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","<div class=\"contain_credit\">\r\n  <div class=\"info_credit\">\r\n    <div class=\"txt_credit\">\r\n      Vous avez actuellement : <span> {{solde}} Crédits </span>\r\n    </div>\r\n    <div class=\"recharge_credit\">\r\n      <div class=\"title_credit\">\r\n        Rechargez mes crédits\r\n      </div>\r\n      <div class=\"input_credit\">\r\n        <input type=\"text\" placeholder=\"Entrer ici votre code promo\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_pack\">\r\n    <div class=\"choice_pack\">\r\n      <select id=\"select_choice\" (change)=\"select($event)\">\r\n        <option value=\"bienvenue\">PACK DE BIENVENUE</option>\r\n        <option value=\"bronze\">PACK BRONZE</option>\r\n        <option value=\"argent\">PACK ARGENT</option>\r\n        <option value=\"or\">PACK OR</option>\r\n      </select>\r\n    </div>\r\n\r\n    <div class=\"container-fluid contain_pack\">\r\n\r\n      <div class=\"pack_bienvenue\" *ngIf=\"currentPack === 'bienvenue'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-4 offset-lg-4 column\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{packBienvenue.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{packBienvenue.cout}}$\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{packBienvenue.montant}} $\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_or\" *ngIf=\"currentPack === 'or'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3 column\" *ngFor=\"let item of packOr\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}$\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} $\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_argent\" *ngIf=\"currentPack === 'argent'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-3 column\" *ngFor=\"let item of packArgent\">\r\n            <div class=\"pack\">\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}$\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} $\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"pack_bronze\" *ngIf=\"currentPack === 'bronze'\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-4 column\" *ngFor=\"let item of packBronze\">\r\n            <div class=\"pack\" [ngClass]=\"{'bonAffaire': item.affaire}\">\r\n              <div class=\"txt_bon_affaire\" *ngIf=\"item.affaire\">\r\n                Pack la plus bonne affaire\r\n              </div>\r\n              <div class=\"pack_credit\">\r\n                <div>\r\n                  {{item.credit}}\r\n                </div>\r\n                <p>\r\n                  CREDITS\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_cout\">\r\n                Coût / Crédit\r\n                <p>\r\n                  {{item.cout}}$\r\n                </p>\r\n              </div>\r\n              <div class=\"pack_button\">\r\n                <button class=\"btn btn_buy lighter\">\r\n                  Acheter\r\n                </button>\r\n              </div>\r\n              <div class=\"pack_montant\">\r\n                {{item.montant}} $\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport * as $ from 'jquery';\r\n\r\ninterface Pack {\r\n  credit: number,\r\n  cout: number,\r\n  montant: number,\r\n  affaire: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'app-credit',\r\n  templateUrl: './credit.component.html',\r\n  styleUrls: ['./credit.component.scss']\r\n})\r\nexport class CreditComponent implements OnInit {\r\n  solde = 500;\r\n\r\n  currentPack: string = 'bienvenue';\r\n\r\n  packBienvenue: Pack = {\r\n    credit:30, cout: 0.18, montant: 5.25, affaire: false\r\n  };\r\n\r\n  packBronze: Pack[] = [\r\n    {credit: 40, cout: 0.26, montant: 10.5, affaire: false},\r\n    {credit: 82, cout: 0.26, montant: 21, affaire: false},\r\n    {credit: 123, cout: 0.26, montant: 31.5, affaire: false},\r\n    {credit: 164, cout: 0.23, montant: 42, affaire: false},\r\n    {credit: 225, cout: 0.23, montant: 52.5, affaire: true},\r\n    {credit: 360, cout: 0.26, montant: 84 , affaire: false}\r\n  ];\r\n\r\n  packArgent: Pack[] = [\r\n    {credit: 470, cout: 0.21, montant: 210, affaire: false},\r\n    {credit: 564, cout: 0.21, montant: 315, affaire: false},\r\n    {credit: 720, cout: 0.21, montant: 420, affaire: false},\r\n    {credit: 864, cout: 0.21, montant: 525, affaire: false},\r\n  ];\r\n\r\n  packOr: Pack[] = [\r\n    {credit: 1000, cout: 0.21, montant: 210, affaire: false},\r\n    {credit: 1500, cout: 0.21, montant: 315, affaire: false},\r\n    {credit: 2000, cout: 0.21, montant: 420, affaire: false},\r\n    {credit: 2500, cout: 0.21, montant: 525, affaire: false},\r\n  ];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  select(event) {\r\n    console.log(event.target.value);\r\n    const value = event.target.value;\r\n    this.currentPack = value;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Log } from '../../interfaces/log.interface';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LogService {\r\n  endpoint = environment.endpoint\r\n\r\n  constructor(\r\n    private http: HttpClient\r\n  ) { }\r\n\r\n  createLog(description: string): Observable<any> {\r\n    const log: Log = {\r\n      type: 'model',\r\n      description: description\r\n    }\r\n    return this.http.post(`${this.endpoint}/log`, log, httpOptions)\r\n  }\r\n\r\n  getLogs(): Observable<any> {\r\n    return this.http.get(`${this.endpoint}/log/all`, httpOptions)\r\n  }\r\n}\r\n","import { Component, OnInit,\r\n  OnDestroy, PLATFORM_ID,\r\n  Inject, ViewChild,\r\n  ElementRef,\r\n  HostListener} from '@angular/core';\r\nimport {isPlatformBrowser} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { Chat, ChatSocket, ClientCam } from 'src/app/interfaces/chat.interface';\r\nimport { ChatService } from 'src/app/services/chat/chat.service';\r\nimport { ModelService } from 'src/app/services/model/model.service';\r\nimport { SocketService } from 'src/app/services/socket/socket.service';\r\nimport { RoomPrivateService } from '../../../services/roomPrivate/room-private.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PackModalComponent } from '../../../modals/pack-modal/pack-modal.component';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { CreditTimer } from '../../../interfaces/timer.interface';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\n\r\n// Peer\r\nimport './../../modele/shim';\r\nimport Peer from \"peerjs\"\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { AlbumService } from 'src/app/services/album/album.service';\r\nimport * as $ from 'jquery';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport * as AOS from 'aos';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\n\r\ndeclare var initSettingVideoModel: any;\r\n\r\n\r\ninterface Stream {\r\n  clientId: number,\r\n  stream: MediaStream,\r\n  peerId: any,\r\n  isAudio: boolean,\r\n  isVideo: boolean\r\n}\r\n\r\n@Component({\r\n  selector: 'app-live-private',\r\n  templateUrl: './live-private.component.html',\r\n  styleUrls: ['./live-private.component.scss', './../live.scss']\r\n})\r\nexport class LivePrivateComponent implements OnInit {\r\n  context: string = \"PRIVEE\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  toggleDot: boolean = false;\r\n\r\n  bg = \"assets/logos/dark-light.jpg\";\r\n  modelPseudo = '';\r\n  modelId: number;\r\n  idRoom: number;\r\n  actif: number;\r\n  message: string = '';\r\n  chatColor = \"black\";\r\n  clientId: number;\r\n  clientPseudo: string = null;\r\n  clientCredit: number  = 0;\r\n  clientCreditId: number  = 0;\r\n\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n\r\n  invitedVIP = false;\r\n  passedVIP = false;\r\n  roomVIP: string = null;\r\n\r\n  clients: ClientCam[] = [];\r\n\r\n  timer = {\r\n    id: 0,\r\n    hour: 0,\r\n    minute: 0,\r\n    second: 0,\r\n    fail: false,\r\n    reinit: false,\r\n    timer: null\r\n  };\r\n\r\n  show = {\r\n    id: 0,\r\n    credit: null,\r\n    second: null,\r\n    type: null\r\n  };\r\n\r\n  clientStream: Stream[] = [];\r\n  clearStreamId: number;\r\n\r\n  actifSub = new Subscription();\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  modelLeaveSub = new Subscription();\r\n  modelPassedVipSub = new Subscription();\r\n  invitationVipSub = new Subscription();\r\n  peerSub = new Subscription();\r\n  newPeerSub = new Subscription();\r\n  responsePositiveInvitationVIPSub = new Subscription();\r\n  responseNegativeInvitationVIPSub = new Subscription();\r\n  answerModelStreamSub = new Subscription();\r\n  toggleAudioSub = new Subscription();\r\n  toggleVideoSub = new Subscription();\r\n  banishSub = new Subscription();\r\n\r\n  albums = [];\r\n  loading: boolean = false;\r\n\r\n  showVideo: boolean = true;\r\n  showAudio: boolean = true;\r\n\r\n  // @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n  //   this.socketService.leavePrivate(this.idRoom, 'client');\r\n  // }\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  isAudioModel: boolean = true\r\n  isVideoModel: boolean = true\r\n\r\n  // Salon libre\r\n  live_selected = null;\r\n\r\n  // Tips\r\n  showTips: boolean = false;\r\n\r\n  hasGotStreamModel: boolean = false;\r\n  // WEB RTC VIDEO\r\n  @ViewChild('video_live_model', {static: true}) remote_video: ElementRef<HTMLVideoElement>;\r\n  // @ViewChild('video_live_client', {static: true}) video: ElementRef<HTMLVideoElement>;\r\n\r\n  private peer: Peer;\r\n  peerIdShare: string;\r\n  peerId: string = null;\r\n  private lazyStream: MediaStream;\r\n  currentPeer: any;\r\n  private peerList: Array<any> = [];\r\n  roomIdString: string;\r\n\r\n  constructor(\r\n    @Inject(PLATFORM_ID) private _platform: Object,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modelService: ModelService,\r\n    private roomPrivateService: RoomPrivateService,\r\n    private store: LocalStorageService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private popupService: PopupService,\r\n    private profilService: ProfilService,\r\n    private dialog: MatDialog,\r\n    private timerService: TimerService,\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService,\r\n    private roomVipService: RoomVipService,\r\n    private albumService: AlbumService,\r\n    private banishService: BanishService,\r\n    private creditService: CreditService,\r\n    private roomTipsService: RoomTipsService\r\n    ) {\r\n      this.peer = new Peer();\r\n      const id = this.route.snapshot.paramMap.get('model');\r\n      this.modelId = parseInt(id);\r\n    }\r\n\r\n  ngOnInit(): void {\r\n      AOS.init();\r\n      if (!this.modelId) return null;\r\n      this.initLiveVideo(); // Start Cam and PeerId\r\n      this.getModel();\r\n      this.initColor(); // Color for message\r\n      this.clientService.lastRoom(this.router.url); // save last room for chat\r\n      $(document).ready(\r\n        function() {initSettingVideoModel();}\r\n      );\r\n      this.VerifyHasGotStreamModel();\r\n  }\r\n\r\n\r\n  VerifyHasGotStreamModel() {\r\n    setTimeout(() => {\r\n      console.log('verify stream model after 10 sec');\r\n      if (!this.hasGotStreamModel) {\r\n        // verify my peerId\r\n        if (this.peerId) {\r\n          this.socketService.askModelPeerId({peerId: this.peerId,\r\n            room: this.idRoom+'P', clientId: this.clientId});\r\n        } else {\r\n          this.peer.on('open', (id) => {\r\n            this.peerId = id;\r\n            this.socketService.askModelPeerId({peerId: this.peerId,\r\n              room: this.idRoom+'P', clientId: this.clientId});\r\n          });\r\n        }\r\n      }\r\n    }, 10000);\r\n  }\r\n\r\n  async getCostVIPShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n      (data: any) => {\r\n        this.statVIP.tarif_show = data.credit? data.credit : 0;\r\n        this.statVIP.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  async ngOnDestroy() {\r\n    this.onStop();\r\n    this.socketService.leavePrivate(this.idRoom, 'client', this.clientId);\r\n    this.roomPrivateService.updateActif(this.idRoom, false, 'private');\r\n    (await this.creditTimer()).subscribe(\r\n      (data) => {}\r\n    );\r\n    clearInterval(this.timer.timer);\r\n    this.actifSub.unsubscribe();\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.modelLeaveSub.unsubscribe();\r\n    this.modelPassedVipSub.unsubscribe();\r\n    this.invitationVipSub.unsubscribe();\r\n    this.peerSub.unsubscribe();\r\n    this.newPeerSub.unsubscribe();\r\n    this.responseNegativeInvitationVIPSub.unsubscribe();\r\n    this.responsePositiveInvitationVIPSub.unsubscribe();\r\n    this.answerModelStreamSub.unsubscribe();\r\n    this.toggleAudioSub.unsubscribe();\r\n    this.toggleVideoSub.unsubscribe();\r\n    this.banishSub.unsubscribe();\r\n  }\r\n\r\n  // Model info & status\r\n  getModel() {\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n      (data) => {\r\n        this.bg = data.path_soft;\r\n        this.modelPseudo = data.pseudo;\r\n        if (data.profile.status === \"En vip\") {\r\n          this.passedVIP = true;\r\n          this.clearTimer();\r\n        } else if (data.profile.status === \"En ligne\") {\r\n          this.obsolete();\r\n          this.clearTimer();\r\n        }\r\n        if (data.profile.status !== 'En live') {\r\n          this.popupService.info('/client/accueil/registered', 'Modèle Indisponible',\r\n          'La modèle est indisponible pour ce live');\r\n          this.clearTimer();\r\n        }\r\n        this.getCostVIPShow();\r\n        this.getInfo();\r\n      }\r\n    )\r\n  }\r\n\r\n  // My infos client\r\n  getInfo() {\r\n    this.clientService.getMyInfos().subscribe(\r\n      (data) => {\r\n        this.clientId = data.id;\r\n        this.clientPseudo = data.pseudo;\r\n        this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n        this.clientCreditId = data.credit ? data.credit.id : 0;\r\n        this.isBanished()\r\n      }\r\n    )\r\n  }\r\n\r\n  // Client if isBanished\r\n  isBanished() {\r\n    this.banishService.isBanished(this.modelId, this.clientId).subscribe(\r\n      (data: any) => {\r\n        const ok: boolean = data.authorized\r\n        if (!ok) {\r\n          this.popupService.info(null, 'Accès refusé',\r\n          `Vous n\\' êtes pas autorisé à entrer dans ce room.`);\r\n          this.router.navigateByUrl('/client/accueil/registered')\r\n        } else {\r\n          this.getInfoRoom();\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  // Get credit client and verify\r\n  async getCredit() {\r\n    return await this.clientService.getCredit().subscribe(\r\n      (data) => {\r\n        this.clientCredit = data.credit;\r\n        if (this.show.credit < this.clientCredit) return null;\r\n        this.timer.fail = true;\r\n        // if Not leaved\r\n        if (!this.timer.reinit) {\r\n          this.notificationService.failure(\"CREDIT INSUFFISANT\", \"Veuillez vous recharger.\");\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  async getInfoRoom() {\r\n    await this.roomPrivateService.getRoomModel(this.modelId).subscribe(\r\n      async (data) => {\r\n        this.idRoom = data.idRoom;\r\n        this.roomIdString = this.idRoom + 'P';\r\n        this.clientService.storeLastChat(this.roomIdString);\r\n\r\n        if (data.idRoom === null) {\r\n          this.obsolete();\r\n          this.idRoom = 0;\r\n          this.clearTimer();\r\n        }\r\n        this.getMessages();\r\n        this.initSocket()\r\n      }\r\n    )\r\n  }\r\n\r\n  async getActifs() {\r\n    await this.roomPrivateService.getActif(this.idRoom).subscribe(\r\n      (data) => {\r\n        this.actif = data.clients.length + 1; // +1 for the model\r\n        this.clients = data.clients;\r\n      }\r\n    )\r\n  }\r\n\r\n  getMessages() {\r\n    this.chatService.getMessage(this.idRoom, 'private').subscribe(\r\n      (data) => {\r\n        // console.log(data)\r\n        this.messages = data;\r\n      }\r\n    )\r\n  }\r\n\r\n  async verifyExistClient(id: number, peerId: any) {\r\n    let found: boolean = false;\r\n    await this.clients.forEach(client => {\r\n      if (client.client.id === id) {\r\n        found = true;\r\n      }\r\n    })\r\n    if (!found) {\r\n      this.callPeerClient(id, peerId);\r\n    }\r\n  }\r\n\r\n  async initSocket() {\r\n    // await this.roomPrivateService.updateActif(this.idRoom, true, 'private', this.peerId).subscribe(\r\n    //   async (data) => {\r\n    //     await this.socketService.joinPrivate(this.idRoom, this.modelId,\r\n    //       this.clientId, this.clientPseudo, this.peerId);\r\n    //     this.getActifs();\r\n    //   }\r\n    // );\r\n    this.socketService.listen(`currentSaloon ${this.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        this.live_selected = data.live_selected;\r\n      }\r\n    );\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.idRoom}P`).subscribe(\r\n      (data: any) => {\r\n        this.getActifs();\r\n\r\n        if (data.id === this.modelId) return false;\r\n        if (data.id === this.clientId) return false;\r\n        this.verifyExistClient(data.id, data.peerId);\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.idRoom}P`).subscribe(\r\n      (data: any) => {\r\n        this.removeStream(data.clientId);\r\n        this.getActifs();\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.idRoom}P`).subscribe(\r\n      (data: Chat) => {\r\n        this.socketService.soundOutcome()\r\n        // this.getMessages();\r\n        this.messages.push(data);\r\n      }\r\n    );\r\n\r\n    this.banishSub = this.socketService.listen(`Banish client ${this.idRoom}P ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.isBanished()\r\n      }\r\n    );\r\n\r\n    // Model leaved the room\r\n    this.modelLeaveSub = this.socketService.listen(`model leaved ${this.idRoom}P`).subscribe(\r\n      (data) => {\r\n        this.leaved = true;\r\n        this.actif--;\r\n        this.popupService.info('/client/accueil/registered','LIVE INDISPONIBLE',\r\n        `${this.modelPseudo} a fermé le live de ce room`);\r\n        this.lazyStream.getTracks().forEach(\r\n          (track) => {\r\n            track.stop();\r\n          }\r\n        );\r\n      }\r\n    );\r\n\r\n    // Model passed to VIP\r\n    this.modelPassedVipSub = this.socketService.listen(`Pass to VIP ${this.idRoom}P`).subscribe(\r\n      (data: any) => {\r\n        this.passedVIP = true;\r\n      }\r\n    );\r\n\r\n    // Invitation to pass in VIP\r\n    this.invitationVipSub = this.socketService.listen(`pass VIP ${this.clientId} ${this.idRoom}P`).subscribe(\r\n      (data: any) => {\r\n        this.invitedVIP = true;\r\n        // this.invitationVIP();\r\n        this.liveVIP(data.special);\r\n        this.roomVIP = data.roomVIP;\r\n        this.store.set(\"roomVIP\", this.roomVIP);\r\n      }\r\n    );\r\n\r\n    this.responsePositiveInvitationVIPSub = this.socketService.listen(`response positive invitation model to vip ${this.idRoom}P ${this.clientId}`).subscribe(\r\n      (data: any) => {\r\n          this.loading = false;\r\n          this.liveVIP(data.special);\r\n      }\r\n    );\r\n\r\n    this.responseNegativeInvitationVIPSub = this.socketService.listen(`response negative invitation model to vip ${this.idRoom}P ${this.clientId}`).subscribe(\r\n      (data: any) => {\r\n          this.loading = false;\r\n          if (data && data.special) {\r\n            if (data.special === 'live free') {\r\n              this.popupService.info(null, 'LIVE CHOICE US',\r\n              `${this.modelPseudo} n'est pas disponible pour le moment.`);\r\n            }\r\n          } else {\r\n            this.popupService.info(null, 'LIVE VIP',\r\n            `${this.modelPseudo} n'est pas disponible pour le moment.`);\r\n          }\r\n      }\r\n    );\r\n\r\n    // Invitation to pass in VIP\r\n    this.peerSub = this.socketService.listen(`ans peerId ${this.clientId} ${this.idRoom}P`).subscribe(\r\n        (data: {peerId: any, room: string, clientId: number}) => {\r\n            console.log(\"ans peerId \", data);\r\n            this.peerIdShare = data.peerId;\r\n            this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.newPeerSub = this.socketService.listen(`new model peerId ${this.idRoom}P`).subscribe(\r\n      (data: {role: string, modelId: number, room: string, peerId: string}) => {\r\n          console.log(\"new model peerId\");\r\n          this.peerIdShare = data.peerId;\r\n          this.connectWithPeer();\r\n      }\r\n    );\r\n\r\n    this.answerModelStreamSub = this.socketService.listen(`Answer current model stream ${this.idRoom}P ${this.clientId}`).subscribe(\r\n      (data: {roomId: any, clientId: number, modelId: number, stream: MediaStream}) => {\r\n        console.log('Answer for stream ', data)\r\n      }\r\n    );\r\n\r\n    this.toggleAudioSub = this.socketService.listen(`Toggle audio ${this.idRoom}P`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isAudio: boolean}) => {\r\n        console.log('Toggle audio ', data);\r\n          if (data.clientId) {\r\n            console.log('Toggle audio client ', data.clientId);\r\n            this.toggleAudioClientStream(data.peerId, data.isAudio);\r\n          } else if (data.modelId) {\r\n            console.log('Toggle audio model');\r\n            this.toggleAudioModelStream(data.isAudio);\r\n          }\r\n      }\r\n    );\r\n\r\n    this.toggleVideoSub = this.socketService.listen(`Toggle video ${this.idRoom}P`).subscribe(\r\n      (data: {roomId: any, clientId: number, peerId: any, modelId: number, isVideo: boolean}) => {\r\n          if (data.clientId) {\r\n            this.toggleVideoClientStream(data.peerId, data.isVideo);\r\n          } else if (data.modelId) {\r\n            this.toggleVideoModelStream(data.isVideo);\r\n          }\r\n      }\r\n    );\r\n\r\n    this.socketService.askCurrentSaloon(this.idRoom+ 'P', this.modelId);\r\n\r\n    this.initTimer();\r\n    if (this.peerId) {\r\n      this.socketService.askModelPeerId({peerId: this.peerId,\r\n        room: this.idRoom+'P', clientId: this.clientId});\r\n      await this.roomPrivateService.updateActif(this.idRoom, true, 'private', this.peerId).subscribe(\r\n          async (data) => {\r\n            await this.socketService.joinPrivate(this.idRoom, this.modelId,\r\n              this.clientId, this.clientPseudo, this.peerId);\r\n            this.getActifs();\r\n          }\r\n      );\r\n    } else {\r\n        this.relaunchPeerId();\r\n    }\r\n\r\n    this.getAlbums();\r\n    // this.askModelStream()\r\n  }\r\n\r\n  obsolete() {\r\n    this.clientStream = [];\r\n    this.clients = [];\r\n    this.leaved = true;\r\n    this.popupService.info(null,'LIVE INDISPONIBLE',\r\n    `Aucun live n\\'est lancé dans ce room`);\r\n    this.router.navigate(['/client/accueil/registered']);\r\n    setTimeout(() => {\r\n      window.location.reload();\r\n    }, 100)\r\n  }\r\n\r\n  // Get bgColor for Message\r\n  initColor() {\r\n    if (this.store.get(\"ticket_chat\")) {\r\n      this.chatColor = this.store.get(\"ticket_chat\");\r\n      return true;\r\n    };\r\n    this.roomPrivateService.getColor().subscribe(\r\n      (data) => {\r\n        this.chatColor = data.color;\r\n        this.store.set(\"ticket_chat\", data.color);\r\n      }\r\n    );\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.message) return;\r\n    const data: Chat = {\r\n      idRoom: this.idRoom,\r\n      message: this.message,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'private',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.idRoom + 'P',\r\n      role: 'client',\r\n      id: this.clientId,\r\n      message: this.message,\r\n      idRoom: this.idRoom,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      type_chat: 'private',\r\n      pseudo: this.clientPseudo\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.message = null;\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n  }\r\n\r\n  invitationToVIP() {\r\n    this.loading = true;\r\n    this.socketService.clientInviteModelToVIP(this.idRoom+'P', this.clientId, this.clientPseudo,\r\n      this.modelId);\r\n    setTimeout(() => {\r\n        if (this.loading) this.loading = false;\r\n    }, 10000);\r\n  }\r\n\r\n  async liveVIP(special?: string) {\r\n    return (await this.leaveTimer()).subscribe(\r\n      async (data) => {\r\n        this.timer.reinit = true;\r\n        (await this.creditTimer()).subscribe(\r\n          (data: { credit: number; id: number; updatedAt: Date; }) => {\r\n            this.clientCredit = data.credit ? data.credit : 0;\r\n            if (data.credit <= 0) {\r\n              this.aucunCredit();\r\n              return null;\r\n            } else if (data.credit <= (this.show.credit * 2)) {\r\n              this.creditInsuffisant();\r\n              return null;\r\n            }\r\n            this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n              async (data) => {\r\n                if ((data.status === \"En vip\" || data.status === \"En live choice\") && this.getInfoRoomVIP()) {\r\n                  if (!special) {\r\n                    this.router.navigate(['/client/live/vip', { model: this.modelId }]);\r\n                  } else if (special && special === 'live tips') {\r\n                    this.router.navigate(['/client/live/tips', { model: this.modelId }]);\r\n                  } else if (special && special === 'live free') {\r\n                    this.router.navigate(['/client/live/choice-us', { model: this.modelId }]);\r\n                  }\r\n                } else {\r\n                  this.popupService.info(null, 'LIVE INDISPONIBLE',\r\n                    `${this.modelPseudo} ne vous a pas invité.`);\r\n                }\r\n              }\r\n            );\r\n\r\n          })\r\n      }\r\n    );\r\n  }\r\n\r\n  async getInfoRoomVIP() {\r\n    return await this.roomVipService.getRoomModel(this.modelId).subscribe(\r\n      (data) => {\r\n        if (data.idRoom === null) {return false;}\r\n        if (this.clientId !== data.clientId) {return false;}\r\n        return true;\r\n      })\r\n  }\r\n\r\n    // Special TIPS\r\n    liveTips() {\r\n      this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n        (data) => {\r\n          if (this.clientCredit <= 10) {\r\n            this.popupService.info(null,'CREDIT INSUFFISANT',\r\n            `Votre credit est insuffisant pour passer en live tips.`);\r\n            return false;\r\n          }\r\n\r\n          if (data.status === \"En tips\") {\r\n            // Debiter d'abord\r\n            this.roomTipsService.debiterRoom(this.clientCreditId, 1).subscribe(\r\n              (data) => {\r\n                this.router.navigate(['/client/live/tips-clients', {model: this.modelId}]);\r\n              }, (error) => {\r\n                console.log(error);\r\n              }\r\n            )\r\n          } else {\r\n            this.popupService.info(null,'LIVE TIPS',\r\n            `Votre modèle est n'a pas lancé le live.`);\r\n            return false;\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n      // Special CHOICE US\r\n      liveChoiceUs() {\r\n        this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n          (data) => {\r\n            if (this.clientCredit <= 10) {\r\n              this.popupService.info(null,'CREDIT INSUFFISANT',\r\n              `Votre credit est insuffisant pour passer en live tips.`);\r\n              return false;\r\n            }\r\n\r\n            if (data.status === \"En vip\") {\r\n              this.popupService.info(null,'MODELE INDISPONIBLE',\r\n              `Votre modèle est indisponible pour passer le live.`);\r\n              return false;\r\n            } else {\r\n              this.loading = true;\r\n              this.socketService.clientInviteModelToVIP(this.idRoom + 'P', this.clientId, this.clientPseudo,\r\n                this.modelId, 'live free');\r\n              setTimeout(() => {\r\n                  if (this.loading) this.loading = false;\r\n              }, 10000);\r\n            }\r\n          }\r\n        )\r\n      }\r\n\r\n\r\n  async liveOut() {\r\n    // this.creditTimer();\r\n    this.onStop();\r\n    await (await this.leaveTimer()).subscribe(\r\n      async (data) => {\r\n        this.timer.reinit = true;\r\n        await this.roomPrivateService.updateActif(this.idRoom, false, 'private').subscribe(\r\n          (data) => {\r\n            this.socketService.leavePrivate(this.idRoom, 'client', this.clientId).then(\r\n              (data) => {\r\n                this.roomPrivateService.leaveRoom();\r\n                this.clientService.deleteLastChat();\r\n                window.location.href = '/client/accueil/registered';\r\n                // this.router.navigate(['/client/accueil/registered']);\r\n                // setTimeout(\r\n                //   () => {\r\n                //     window.location.reload();\r\n                //   }, 200\r\n                // );\r\n              }, (error) => {\r\n              }\r\n            );\r\n          }, (error) => {\r\n\r\n          }\r\n        );\r\n      })\r\n  }\r\n\r\n  buy() {\r\n    const dialogRef = this.dialog.open(PackModalComponent, {\r\n      width: '80vh',\r\n      data: {}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n\r\n  invitationVIP() {\r\n    this.popupService.info(null,'LIVE VIP',\r\n    `${this.modelPseudo} vous invite à passer en VIP`);\r\n  }\r\n\r\n\r\n  // Timer\r\n  async initTimer() {\r\n    this.timerService.getTimer(this.modelId, TypeTimer.PRIVATE).subscribe(\r\n      async (data) => {\r\n        const created: Date = data.createdAt;\r\n        const updated: Date = data.updatedAt;\r\n        this.timer.id = data.id;\r\n        const {hour, minute, second} = this.timerService.convertTime(created.toString(), updated.toString());\r\n        this.timer.hour = hour;\r\n        this.timer.minute = minute;\r\n        this.timer.second = second;\r\n        await this.getCostShow();\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.PRIVATE).subscribe(\r\n      (data: any) => {\r\n        this.show.id = data.id;\r\n        this.show.credit = data.credit;\r\n        this.show.second = data.second;\r\n        this.show.type = data.type;\r\n        if (this.clientCredit == 0) {\r\n          this.aucunCredit();\r\n          return null;\r\n        } else if (this.clientCredit <= (this.show.credit * 2)) {\r\n          this.creditInsuffisant();\r\n          return null;\r\n        }\r\n        this.beginTimer();\r\n      }\r\n    )\r\n  }\r\n\r\n  creditInsuffisant() {\r\n    this.popupService.info(null,'CREDIT INSUFFISANT',\r\n    `Vous n\\'avez presque plus de crédit. Veuillez vous recharger.`);\r\n    setTimeout(\r\n      () => {\r\n        this.getCredit();\r\n      }, 20000\r\n    )\r\n  }\r\n\r\n  aucunCredit() {\r\n    this.timer.fail = true;\r\n    this.popupService.info('/client/achat_de_credit','ACHAT DE CREDIT',\r\n    `Veuillez vous recharger.`);\r\n  }\r\n\r\n  // Timer set to 0\r\n  clearTimer() {\r\n    this.timer.reinit = true;\r\n  }\r\n\r\n  async leaveTimer(): Promise<Observable<any>> {\r\n    const data = {\r\n      id: this.timer.id,\r\n      type: TypeTimer.PRIVATE,\r\n      leaved: true,\r\n      push: new Date().toString()\r\n    }\r\n\r\n    return await this.timerService.updateTimer(data);\r\n  }\r\n\r\n  async beginTimer() {\r\n    const delay = this.show.second * 1000;\r\n    await (await this.creditTimer()).subscribe( // launch main creditation\r\n      (data) => {\r\n        this.clientCredit = data.credit ? data.credit : 0;\r\n        if (data.credit <= 0) {\r\n          this.aucunCredit();\r\n          return null;\r\n        } else if (data.credit <= (this.show.credit * 2)) {\r\n          this.creditInsuffisant();\r\n          return null;\r\n        }\r\n      }\r\n    );\r\n    this.timer.timer = setInterval(\r\n      async () => {\r\n        if (!this.timer.reinit) {\r\n          await (await this.creditTimer()).subscribe(\r\n            (data) => {\r\n              this.clientCredit = data.credit ? data.credit : 0;\r\n              if (data.credit <= 0) {\r\n                this.aucunCredit();\r\n                clearInterval(this.timer.timer);\r\n                return null;\r\n              } else if (data.credit <= (this.show.credit * 2)) {\r\n                this.creditInsuffisant();\r\n                return null;\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }, delay\r\n    )\r\n  }\r\n\r\n  async creditTimer(): Promise<Observable<any>> {\r\n    if ((this.clientId === undefined) || (this.show.credit == null)) return null;\r\n    const data: CreditTimer = {\r\n      clientId: this.clientId,\r\n      modelId: this.modelId,\r\n      timerId: this.timer.id,\r\n      showCredit: this.show.credit,\r\n      showSecond: this.show.second,\r\n      showType: this.show.type,\r\n      roomId: this.idRoom\r\n    }\r\n    return await this.timerService.creditTimer(data);\r\n  }\r\n\r\n    // WEB RTC - LIVE VIDEO\r\n    askModelStream() {\r\n      this.socketService.askModelPeerId({peerId: this.peerId,\r\n        room: this.idRoom+'P', clientId: this.clientId});\r\n    }\r\n\r\n    initLiveVideo() {\r\n      this.onStart();\r\n      this.getPeerId();\r\n    }\r\n\r\n    onStart(){\r\n      if(isPlatformBrowser(this._platform) && 'mediaDevices' in navigator) {\r\n        navigator.mediaDevices.getUserMedia({video: true, audio: true}).then((ms: MediaStream) => {\r\n          // const _video = this.video.nativeElement;\r\n          // _video.srcObject = ms;\r\n          // _video.play();\r\n          // console.log('my stream ', ms)\r\n          this.lazyStream = ms;\r\n          // this.lazyStream.getVideoTracks().forEach(\r\n          //   (track) => {\r\n          //     this.showVideo = false;\r\n          //     track.enabled = false;\r\n          //     this.notificationService.infoMsg('Votre caméra est désactivé par defaut');\r\n          //   }\r\n          // );\r\n          this.clientStream.push({\r\n            clientId: this.clientId,\r\n            stream: this.lazyStream,\r\n            peerId: this.peerId,\r\n            isAudio: false,\r\n            isVideo: true\r\n          });\r\n        });\r\n      }\r\n    }\r\n\r\n    onStop() {\r\n      // navigator.mediaDevices.getUserMedia({video: true, audio: false}).then(mediaStream => {\r\n      // const stream = mediaStream;\r\n      // const tracks = stream.getTracks();\r\n      // let index = 0;\r\n      // tracks.forEach(track => {\r\n      //   tracks[index].stop;\r\n      //   index++;\r\n      // })\r\n      // })\r\n      // console.log('leave');\r\n      if (this.lazyStream) {\r\n        this.lazyStream.getTracks().forEach(\r\n          (track) => {\r\n            track.stop();\r\n          }\r\n        );\r\n      }\r\n      // this.lazyStream = null;\r\n    }\r\n\r\n    relaunchPeerId() {\r\n      this.peer.on('open', (id) => {\r\n        console.log('Relaunch peer id ', id)\r\n        this.peerId = id;\r\n        // Send peer client\r\n        this.socketService.askModelPeerId({peerId: this.peerId,\r\n          room: this.idRoom+'P', clientId: this.clientId});\r\n        this.roomPrivateService.updateActif(this.idRoom, true, 'private', this.peerId).subscribe(\r\n            (data) => {\r\n                this.socketService.joinPrivate(this.idRoom, this.modelId,\r\n                this.clientId, this.clientPseudo, this.peerId\r\n                );\r\n              this.getActifs();\r\n            }\r\n        );\r\n      });\r\n    }\r\n\r\n    private getPeerId = () => {\r\n      console.log('Get peer waiting...')\r\n      this.peer.on('open', (id) => {\r\n        console.log(\"Peer Id \", id);\r\n        this.peerId = id;\r\n        // Send peer client\r\n      });\r\n\r\n      this.peer.on('call', (call) => {\r\n        console.log('on call')\r\n        call.answer(this.lazyStream);\r\n        // call.on('stream', (remoteStream) => {\r\n        //   console.log('On stream from call')\r\n        //   if (!this.peerList.includes(call.peer)) {\r\n        //     this.addOtherClientstreamRemoteVideo(this.clientStream.length,remoteStream, call.peer);\r\n        //     this.currentPeer = call.peerConnection;\r\n        //     this.peerList.push(call.peer);\r\n        //   }\r\n        // });\r\n\r\n        // this.onStop();\r\n        // navigator.mediaDevices.getUserMedia({\r\n        //   video: this.showVideo,\r\n        //   audio: this.showAudio\r\n        // }).then((stream) => {\r\n        //   this.lazyStream = stream;\r\n        //   // this.clientStream.push({\r\n        //   //   clientId: this.clientStream.length,\r\n        //   //   stream: stream\r\n        //   // });\r\n        //   // const _video = this.video.nativeElement;\r\n        //   // _video.srcObject = stream;\r\n        //   // _video.play();\r\n\r\n        //   call.answer(stream);\r\n        //   // call.on('stream', (remoteStream) => {\r\n        //   //   if (!this.peerList.includes(call.peer)) {\r\n        //   //     this.addOtherClientstreamRemoteVideo(this.clientStream.length,remoteStream, call.peer);\r\n        //   //     this.currentPeer = call.peerConnection;\r\n        //   //     this.peerList.push(call.peer);\r\n        //   //   }\r\n        //   // });\r\n        // }).catch(err => {\r\n        //   console.log(err + ' - Unable to get media');\r\n        // });\r\n      });\r\n    }\r\n\r\n    connectWithPeer(): void {\r\n      this.callPeer(this.peerIdShare);\r\n    }\r\n\r\n    private callPeer(id: string) {\r\n      console.log('CallPeer  id : ', id)\r\n      if (!id) return null;\r\n      if (id === undefined) return null;\r\n      // console.log(\"Client call someone\");\r\n      const call = this.peer.call(id, this.lazyStream);\r\n      console.log(\"After call model\");\r\n      if (call) {\r\n        call.on('stream', (remoteStream) => {\r\n          console.log(\"On stream after call in client\");\r\n          this.hasGotStreamModel = true;\r\n          this.streamRemoteVideo(remoteStream); // Add stream model\r\n          this.currentPeer = call.peerConnection;\r\n          this.peerList.push(call.peer);\r\n        });\r\n      }\r\n\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: this.showAudio,\r\n      //   audio: this.showVideo\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   // this.clientStream.push({\r\n      //   //   clientId: this.clientStream.length,\r\n      //   //   stream: stream,\r\n      //   //   isAudio: true,\r\n      //   //   isVideo: true,\r\n      //   //   peerId: this.peerId\r\n      //   // });\r\n      //   // console.log(\"Get client stream \", stream);\r\n      //   const call = this.peer.call(id, stream);\r\n      //   console.log(\"After call model\");\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     console.log(\"On receive stream from model\");\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.streamRemoteVideo(remoteStream);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to connect');\r\n      // });\r\n    }\r\n\r\n    private streamRemoteVideo(stream: MediaStream): void {\r\n      console.log('Stream Remote video ', stream)\r\n      // this.remote_video.nativeElement.srcObject = stream;\r\n      const _video = this.remote_video.nativeElement;\r\n      _video.srcObject = stream;\r\n      setTimeout(() => {\r\n        _video.play();\r\n      }, 3000)\r\n    }\r\n\r\n    callPeerClient(clientId: number, clientPeer: string) {\r\n      console.log('CallPeerClient id ', clientId, 'My ID ', this.clientId ,' Peer ',  clientPeer)\r\n      if (!clientPeer) return null\r\n      if (clientPeer === undefined) return null\r\n      if (clientPeer === this.peerIdShare) return null\r\n      const call = this.peer.call(clientPeer, this.lazyStream);\r\n      if (call) {\r\n        call.on('stream', (remoteStream) => {\r\n          console.log(\"On stream in call other client\");\r\n          if (!this.peerList.includes(call.peer)) {\r\n            this.addOtherClientstreamRemoteVideo(clientId, remoteStream, call.peer);\r\n            this.currentPeer = call.peerConnection;\r\n            this.peerList.push(call.peer);\r\n          }\r\n        });\r\n      }\r\n      // this.onStop();\r\n      // navigator.mediaDevices.getUserMedia({\r\n      //   video: this.showVideo,\r\n      //   audio: this.showAudio\r\n      // }).then((stream) => {\r\n      //   this.lazyStream = stream;\r\n      //   // console.log(\"Get client stream \", stream);\r\n      //   const call = this.peer.call(clientPeer, stream);\r\n      //   // console.log(\"After call model\");\r\n      //   call.on('stream', (remoteStream) => {\r\n      //     console.log(\"On received stream other client\");\r\n      //     if (!this.peerList.includes(call.peer)) {\r\n      //       this.addOtherClientstreamRemoteVideo(clientId, remoteStream, call.peer);\r\n      //       this.currentPeer = call.peerConnection;\r\n      //       this.peerList.push(call.peer);\r\n      //     }\r\n      //   });\r\n      // }).catch(err => {\r\n      //   console.log(err + 'Unable to connect');\r\n      // });\r\n    }\r\n\r\n    private addOtherClientstreamRemoteVideo(clientId: number, stream: any, peerId: any): void {\r\n      // console.log('add other stream ', stream)\r\n      // this.clientStream.push({\r\n      //   clientId,\r\n      //   stream: stream,\r\n      //   peerId,\r\n      //   isAudio: true,\r\n      //   isVideo: true\r\n      // });\r\n    }\r\n\r\n\r\n    getAlbums() {\r\n      this.getActifRoom();\r\n      const data = {\r\n        modelId : this.modelId,\r\n        type_album: 'private'\r\n      }\r\n      this.albumService.getModelAlbums(data).subscribe(\r\n        (data: any) => {\r\n          for (let i = 0; i < data.length; i++) {\r\n            this.albums.push({\r\n              url: data[i].path_album\r\n            })\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    getActifRoom() {\r\n      // console.log('Id room ', this.idRoom);\r\n      this.roomPrivateService.getActifRoom(this.idRoom).subscribe(\r\n        (data: any) => {\r\n          // console.log(data);\r\n          const actifs: any[] = data;\r\n          actifs.forEach(actif => {\r\n            if (actif.id && actif.peerId) {\r\n              this.callPeerClient(actif.id, actif.peerId);\r\n            }\r\n          });\r\n        }, (error) => {\r\n          console.log(error);\r\n        }\r\n      )\r\n    }\r\n\r\n    removeStream(clientId: number) {\r\n      console.log('Remove stream ', clientId);\r\n      const index = this.clientStream.findIndex(element => element.clientId === clientId);\r\n      this.clientStream.splice(index, 1);\r\n    }\r\n\r\n    toggleAudioClientStream(peerId: any, isAudio: boolean) {\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.peerId === peerId) {\r\n            stream.isAudio = isAudio\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    toggleVideoClientStream(peerId: any, isVideo: boolean) {\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.peerId === peerId) {\r\n            stream.isVideo = isVideo\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    toggleAudioModelStream(isAudio: boolean) {\r\n      if (isAudio) {\r\n        $('#video_live_model').prop('volume', 1)\r\n      } else {\r\n        $('#video_live_model').prop('volume', 0)\r\n      }\r\n    }\r\n\r\n    toggleVideoModelStream(isVideo: boolean) {\r\n      var filterVal = 'blur(0px)';\r\n      var filterFull = 'blur(200px)';\r\n      if (isVideo) {\r\n        $('#video_live_model')\r\n        .css('filter',filterVal)\r\n        .css('webkitFilter',filterVal)\r\n        .css('mozFilter',filterVal)\r\n        .css('oFilter',filterVal)\r\n        .css('msFilter',filterVal);\r\n      } else {\r\n        $('#video_live_model')\r\n        .css('filter',filterFull)\r\n        .css('webkitFilter',filterFull)\r\n        .css('mozFilter',filterFull)\r\n        .css('oFilter',filterFull)\r\n        .css('msFilter',filterFull);\r\n      }\r\n    }\r\n\r\n    toggleVideo() {\r\n      this.showVideo = !this.showVideo;\r\n      if (this.showVideo) {\r\n        this.lazyStream.getVideoTracks().forEach(\r\n          (track) => {\r\n            track.enabled = true;\r\n          }\r\n        );\r\n      } else {\r\n        this.lazyStream.getVideoTracks().forEach(\r\n          (track) => {\r\n            track.enabled = false;\r\n          }\r\n        );\r\n      }\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.clientId === this.clientId) {\r\n            stream.isVideo = this.showVideo\r\n          }\r\n        }\r\n      )\r\n      // this.onStop();\r\n      // this.onStart();\r\n      const room = this.idRoom+'P';\r\n      this.socketService.toggleVideo(room, this.clientId, this.peerId, null, this.showVideo);\r\n    }\r\n\r\n    toggleAudio() {\r\n      this.showAudio = !this.showAudio;\r\n          if (!this.showAudio) {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = false;\r\n        }\r\n      );\r\n    } else {\r\n      this.lazyStream.getAudioTracks().forEach(\r\n        (track) => {\r\n          track.enabled = true;\r\n        }\r\n      );\r\n    }\r\n      this.clientStream.forEach(\r\n        (stream) => {\r\n          if (stream.clientId === this.clientId) {\r\n            stream.isAudio = this.showAudio\r\n          }\r\n        }\r\n      )\r\n      // this.onStop();\r\n      // this.onStart();\r\n      const room = this.idRoom+'P';\r\n      this.socketService.toggleAudio(room, this.clientId, this.peerId, null, this.showAudio);\r\n    }\r\n\r\n        // -------- EMOJI -----------------\r\n\r\n        toggleEmojiPicker() {\r\n          this.showEmojiPicker = !this.showEmojiPicker;\r\n        }\r\n\r\n        addEmoji(event) {\r\n          const {message} = this;\r\n          let text = '';\r\n          if (message) {\r\n            text = `${message}${event.emoji.native}`;\r\n          } else {\r\n            text = `${event.emoji.native}`;\r\n          }\r\n          this.message = text;\r\n        }\r\n\r\n        focus() {\r\n          this.showEmojiPicker = false;\r\n        }\r\n\r\n              // Tips\r\n\r\n      selectTips(value: TIP) {\r\n        // console.log('Tips ', value);\r\n        this.loading = true;\r\n        if (value.credit > this.clientCredit) {\r\n          this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n          this.loading = false;\r\n          return null;\r\n        }\r\n        this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n        subscribe(\r\n          (data: any) => {\r\n            // console.log(data);\r\n            this.clientCredit = data.creditClient;\r\n            this.sendTips(value.symbole, value.credit, value.designation, value.vip);\r\n          }, (error) => {\r\n            console.log(error);\r\n          }\r\n        )\r\n\r\n      }\r\n\r\n      toggleTips() {\r\n        this.showTips = !this.showTips;\r\n      }\r\n\r\n      sendTips(symbole: string, credit: number, designation, vip: boolean = false) {\r\n        const data: Chat = {\r\n          idRoom: this.idRoom,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          type_source: 'client',\r\n          id_source: this.clientId,\r\n          code_couleur: this.chatColor,\r\n          type_chat: 'private',\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo,\r\n          pseudo: this.clientPseudo\r\n        }\r\n        const msg: ChatSocket = {\r\n          room: this.idRoom + 'P',\r\n          role: 'client',\r\n          id: this.clientId,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          pseudo: this.clientPseudo,\r\n          idRoom: this.idRoom,\r\n          type_source: 'client',\r\n          id_source: this.clientId,\r\n          code_couleur: this.chatColor,\r\n          type_chat: 'private',\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo\r\n        }\r\n        this.socketService.sendMessage(msg);\r\n        this.chatService.postMessage(data).subscribe(\r\n          (data) => {\r\n            // this.getMessages();\r\n            this.loading = false;\r\n            this.showTips = false;\r\n          }\r\n        )\r\n      }\r\n\r\n}\r\n","<app-header connected=\"true\"></app-header>\r\n\r\n<div class=\"main_live\" [ngClass]=\"{'dry_up': timer.fail}\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left\">\r\n      <app-topbar [context]=\"context\" [actif]=\"actif\"\r\n      [hour]=\"this.timer.hour\"\r\n      [minute]=\"this.timer.minute\"\r\n      [second]=\"this.timer.second\"\r\n      [reinit]=\"this.timer.reinit\"\r\n      [leaved]=\"leaved\"\r\n      ></app-topbar>\r\n      <div class=\"show_live_left\" id=\"show_live_left\" [ngClass]=\"{'dry_up': leaved}\">\r\n\r\n        <div id=\"videoContainer\" class=\"videoContainer\" data-fullscreen=\"false\" style=\"margin: 0px;\">\r\n          <!-- [poster]=\"info.bg\" -->\r\n          <video controls class=\"model_flow\" id=\"video_live_model\" #video_live_model></video>\r\n        </div>\r\n\r\n        <div id=\"video-controls\" class=\"controls\">\r\n          <div>\r\n            <button id=\"screen\" type=\"button\" class=\"btn_control\" (click)=\"toggleVideo()\">\r\n              <img src=\"./../../../../assets/icons/video-camera.svg\" alt=\"\" *ngIf=\"showVideo\">\r\n              <img src=\"./../../../../assets/icons/no-video.svg\" alt=\"\" *ngIf=\"!showVideo\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"sound\" type=\"button\" class=\"btn_control\" (click)=\"toggleAudio()\">\r\n              <img src=\"./../../../../assets/icons/volume.svg\" alt=\"\" *ngIf=\"showAudio\">\r\n              <img src=\"./../../../../assets/icons/mute.svg\" alt=\"\" *ngIf=\"!showAudio\">\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button id=\"fs\" type=\"button\" class=\"btn_control\">\r\n              <img src=\"./../../../../assets/icons/full-size.svg\" alt=\"\">\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"come_on\" *ngIf=\"passedVIP\">\r\n          {{modelPseudo}} est passée en VIP\r\n        </div>\r\n\r\n        <!-- <app-album-live [albums]=\"albums\"></app-album-live> -->\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div class=\"show_live_right\">\r\n        <mat-tab-group mat-align-tabs=\"center\">\r\n          <mat-tab label=\"Live Cam\">\r\n            <app-live-private-cam [clients]=\"clients\" [streams]=\"clientStream\"\r\n            [myId]=\"clientId\"></app-live-private-cam>\r\n          </mat-tab>\r\n          <mat-tab label=\"Live Chat\">\r\n            <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n            [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"\r\n            showMenu=\"false\" [roomId]=\"roomIdString\"\r\n            isModel=\"false\" [clientId]=\"clientId\"></app-live-free-chat>\r\n          </mat-tab>\r\n        </mat-tab-group>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n        <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" (click)=\"invitationToVIP()\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n            >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"salon_libre btn_show\">\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Non defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected !== 'live_tips' && live_selected !== 'choice_us'\">\r\n            Non defini\r\n          </button>\r\n\r\n          <button class=\"btn live_tips_salon lighter\"\r\n          matTooltip=\"Paiement via des tips\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'live_tips'\" (click)=\"liveTips()\">\r\n            LIVE TIPS\r\n          </button>\r\n\r\n          <button class=\"btn live_free_salon lighter\"\r\n          matTooltip=\"Crédit defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'choice_us'\" (click)=\"liveChoiceUs()\">\r\n            CHOICE US\r\n          </button>\r\n\r\n          <p>Salon libre</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" (click)=\"invitationToVIP()\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n            >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"salon_libre btn_show\">\r\n\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Non defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected !== 'live_tips' && live_selected !== 'choice_us'\">\r\n            Non defini\r\n          </button>\r\n\r\n          <button class=\"btn live_tips_salon lighter\"\r\n          matTooltip=\"Paiement via des tips\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'live_tips'\" (click)=\"liveTips()\">\r\n            LIVE TIPS\r\n          </button>\r\n\r\n          <button class=\"btn live_free_salon lighter\"\r\n          matTooltip=\"Crédit defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'choice_us'\" (click)=\"liveChoiceUs()\">\r\n            CHOICE US\r\n          </button>\r\n\r\n          <p>Salon libre</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <div class=\"out_show btn_show\">\r\n          <button class=\"btn btn_out_show lighter\" (click)=\"liveOut()\">Sortir du Show</button>\r\n          <!-- <p>15 crédits / mn</p> -->\r\n        </div>\r\n        <!-- <div class=\"contain_close\">\r\n          <img [src]=\"close\" alt=\"\" id=\"close\" (click)=\"toggleDots()\">\r\n        </div> -->\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div *ngIf=\"showTips\">\r\n        <app-tips (newItemEvent)=\"selectTips($event)\"></app-tips>\r\n      </div>\r\n\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <img src=\"./../../../../assets/icons/gift.png\" alt=\"\" class=\"img_gift\"\r\n              (click)=\"toggleTips()\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\n\r\nexport interface TIP {\r\n  designation?: string,\r\n  symbole: string,\r\n  credit: number,\r\n  src: string,\r\n  got?: boolean,\r\n  vip?: boolean\r\n}\r\n\r\nexport interface PALIER {\r\n  design: string,\r\n  value: number\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TipsService {\r\n  public tipsNormaux: TIP[] = [\r\n    { designation: 'une rose', symbole: 'rose', credit: 1, src : './../../../assets/tips/normal/rose.png'},\r\n    { designation: 'un fouet', symbole: 'fouet', credit: 3, src : './../../../assets/tips/normal/fouet.png' },\r\n    { designation: 'des chocolats', symbole: 'chocolats', credit: 5, src : './../../../assets/tips/normal/chocolats.png' },\r\n    { designation: 'une lingerie', symbole: 'lingerie', credit: 7, src : './../../../assets/tips/normal/lingerie.png' },\r\n    { designation: 'un bouquet de roses', symbole: 'bouquet de roses', credit: 10, src : './../../../assets/tips/normal/bouquetRoses.png' },\r\n    { designation: 'un vibro', symbole: 'vibro', credit: 12, src : './../../../assets/tips/normal/vibro.png' },\r\n    { designation: 'des menottes', symbole: 'menottes', credit: 15, src : './../../../assets/tips/normal/menottes.png' },\r\n    { designation: 'une paire de chaussures', symbole: 'chaussures', credit: 20, src : './../../../assets/tips/normal/chaussures.png' },\r\n    { designation: 'un parfum', symbole: 'parfum', credit: 25, src : './../../../assets/tips/normal/parfum.png' },\r\n    { designation: 'sac à main', symbole: 'sac à main', credit: 50, src : './../../../assets/tips/normal/sacAMain.png' },\r\n    { designation: '2 coupes de champagne', symbole: '2 coupes de champagne', credit: 100, src : './../../../assets/tips/normal/champagne.png' },\r\n    { designation: 'un collier', symbole: 'collier', credit: 200, src : './../../../assets/tips/normal/collier.png' },\r\n    { designation: 'une bague', symbole: 'bague', credit: 300, src : './../../../assets/tips/normal/bague.png' },\r\n    { designation: 'une voiture', symbole: 'voiture', credit: 400, src : './../../../assets/tips/normal/voiture.png' },\r\n    { designation: 'un yacht', symbole: 'yacht', credit: 500, src : './../../../assets/tips/normal/yacht.png' }\r\n  ];\r\n\r\n  public tipsVIP: TIP[] = [\r\n    { designation: 'une rose', symbole: 'rose', credit: 1, src : './../../../assets/tips/vip/rose.png', got: false},\r\n    { designation: 'un fouet', symbole: 'fouet', credit: 3, src : './../../../assets/tips/vip/fouet.png', got: false },\r\n    { designation: 'des chocolats', symbole: 'chocolats', credit: 5, src : './../../../assets/tips/vip/chocolats.png', got: false },\r\n    { designation: 'une lingerie', symbole: 'lingerie', credit: 7, src : './../../../assets/tips/vip/lingerie.png', got: false },\r\n    { designation: 'un bouquet de roses', symbole: 'bouquet de roses', credit: 10, src : './../../../assets/tips/vip/bouquetRoses.png', got: false },\r\n    { designation: 'un vibro', symbole: 'vibro', credit: 12, src : './../../../assets/tips/vip/vibro.png', got: false },\r\n    { designation: 'des menottes', symbole: 'menottes', credit: 15, src : './../../../assets/tips/vip/menottes.png', got: false },\r\n    { designation: 'une paire de chaussures', symbole: 'chaussures', credit: 20, src : './../../../assets/tips/vip/chaussures.png', got: false },\r\n    { designation: 'un parfum', symbole: 'parfum', credit: 25, src : './../../../assets/tips/vip/parfum.png', got: false },\r\n    { designation: 'sac à main', symbole: 'sac à main', credit: 50, src : './../../../assets/tips/vip/sacAMain.png', got: false },\r\n    { designation: '2 coupes de champagne', symbole: '2 coupes de champagne', credit: 100, src : './../../../assets/tips/vip/champagne.png', got: false },\r\n    { designation: 'un collier', symbole: 'collier', credit: 200, src : './../../../assets/tips/vip/collier.png', got: false },\r\n    { designation: 'une bague', symbole: 'bague', credit: 300, src : './../../../assets/tips/vip/bague.png', got: false },\r\n    { designation: 'une voiture', symbole: 'voiture', credit: 400, src : './../../../assets/tips/vip/voiture.png', got: false },\r\n    { designation: 'un yacht', symbole: 'yacht', credit: 500, src : './../../../assets/tips/vip/yacht.png', got: false },\r\n  ];\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { CentralPayComponent } from 'src/app/modals/central-pay/central-pay.component';\r\nimport { isBoolean } from 'util';\r\nimport { PaiementService } from '../../../services/paiement/paiement.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport * as AOS from 'aos';\r\nimport { Title, Meta } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-enter',\r\n  templateUrl: './enter.component.html',\r\n  styleUrls: ['./enter.component.scss']\r\n})\r\nexport class EnterComponent implements OnInit, OnDestroy {\r\n  title = 'BetweenUs Live - Sex cam';\r\n  logoDark = \"assets/logos/dark-light.jpg\";\r\n  alert = \"assets/icons/alert.png\";\r\n  constructor(\r\n    private paiementService: PaiementService,\r\n    private dialog: MatDialog,\r\n    private router: Router,\r\n    private store: LocalStorageService,\r\n    private titleService: Title,\r\n    private metaTagService: Meta) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.titleService.setTitle(this.title);\r\n\r\n    this.metaTagService.addTags([\r\n      { name: 'keywords', content: 'betweenUs, Betweenus, betweenus live, bul, BUL, sex live' },\r\n      { name: 'robots', content: 'index, follow' },\r\n      { name: 'author', content: 'Dev BUL' },\r\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\r\n      { name: 'description', content: 'Web Platform betweens models and clients for a live sex in cam'},\r\n      { name: 'date', content: '2021-12-22', scheme: 'YYYY-MM-DD' },\r\n      { charset: 'UTF-8' }\r\n    ]);\r\n\r\n    AOS.init();\r\n    Promise.resolve().then(\r\n      () => {\r\n        const visited = this.store.get('visited');\r\n        // console.log(visited);\r\n        if (!visited) this.store.set('visited', 'nice');\r\n        else if (visited === 'nice') {\r\n          this.router.navigate(['/accueil']);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  ngOnDestroy() {  }\r\n\r\n  // centralPay() {\r\n  //   this.paiementService.openCentralPay().subscribe(\r\n  //     (data: any) => {\r\n  //       console.log('Test ', data);\r\n  //       if (data && data.breakdowns[0] && data.breakdowns[0].endpoint) {\r\n  //         const url = data.breakdowns[0].endpoint;\r\n  //         console.log('Endpoint ', url);\r\n  //         this.openDialog(url);\r\n  //       }\r\n  //     }, (error) => {\r\n  //       console.log(error);\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n  openDialog(url: string) {\r\n    const dialogRef = this.dialog.open(CentralPayComponent, {\r\n      width: '90vh',\r\n      data: {\r\n        designation: 'centralPay',\r\n        url\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (isBoolean(result)) {\r\n\r\n      } else {\r\n        if (result === 'good') {\r\n\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<app-header clickable=\"false\"></app-header>\r\n\r\n<div class=\"main_enter\">\r\n  <div class=\"enter_img\">\r\n    <img [src]=\"logoDark\" alt=\"\">\r\n  </div>\r\n  <div class=\"enter_content\" data-aos='zoom-in'>\r\n    <div>\r\n      <img [src]=\"alert\" alt=\"\" class=\"img_alert\">\r\n    </div>\r\n    <div class=\"content content_one\">\r\n      SITE POUR ADULTE PLUS DE 18 ANS <br>\r\n      <span>VERIFICATION PAR CARTE BANCAIRE</span>\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n        Betweenus contient du contenu reservé aux adultes\r\n        <br>\r\n        En utilisant ce site, vous reconnaissez avoir plus de 18 ans, avoir\r\n        lu notre\r\n        <a href=\"https://betweenus-live.com/cgu_betweenus.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n          Politique de Confidentialité\r\n        </a>\r\n        et accepté nos\r\n        <a href=\"https://betweenus-live.com/cgu_betweenus.pdf\" target=\"_blank\" rel=\"noopener noreferrer\">Conditions Générales</a>.\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n        Si vous êtes mineurs, veuillez quitter ce site en cliquant sur SORTIR ci-dessous.\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n        En cliquant sur ENTRER, vous déclarez être majeur et adhérez au contrat\r\n        d'utilisation de ce site.\r\n    </div>\r\n\r\n    <div class=\"content\">\r\n        Nous utilisons des cookies pour améliorer votre expérience d'utilisateur.\r\n        En poursuivant votre navigation, vous acceptez l'utilisation de cookies, notamment de tiers.\r\n        Politique relative aux cookies.\r\n        <br>\r\n        <a href=\"https://betweenus-live.com/mentions_legales.pdf\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\">\r\n        Mentions légales\r\n      </a>\r\n    </div>\r\n\r\n    <div class=\"enter_action\">\r\n      <button class=\"btn_out btn lighter\" routerLink=\"/bye\">\r\n        SORTIR\r\n      </button>\r\n      <button class=\"btn_in btn lighter\" routerLink=\"/accueil\">\r\n        ENTRER\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"enter_action\">\r\n    <button class=\"btn_out btn lighter\">\r\n      SORTIR\r\n    </button>\r\n    <button class=\"btn_in btn lighter\">\r\n      ENTRER\r\n    </button>\r\n  </div> -->\r\n</div>\r\n\r\n\r\n<div class=\"contain_img_bg\">\r\n  <img src='./../../../../assets/logos/dark-light-removebg.png' alt=\"betweenus\"\r\n  />\r\n</div>\r\n","<div class=\"contain_bar\">\r\n  <img [src]=\"vide\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain < tips[0]\">\r\n  <img [src]=\"bronze1\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[0] && gain < tips[1]\">\r\n  <img [src]=\"bronze2\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[1] && gain < tips[2]\">\r\n  <img [src]=\"bronze3\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[2] && gain < tips[3]\">\r\n  <img [src]=\"bronze4\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[3] && gain < tips[4]\">\r\n  <img [src]=\"bronze5\" alt=\"jauge\" class=\"img_jauge top\" *ngIf=\"gain >= tips[4] && gain < tips[5]\">\r\n\r\n  <img [src]=\"argent1\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[5] && gain < tips[6]\">\r\n  <img [src]=\"argent2\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[6] && gain < tips[7]\">\r\n  <img [src]=\"argent3\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[7] && gain < tips[8]\">\r\n  <img [src]=\"argent4\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[8] && gain < tips[9]\">\r\n  <img [src]=\"argent5\" alt=\"jauge\" class=\"img_jauge top\" *ngIf=\"gain >= tips[9] && gain < tips[10]\">\r\n\r\n  <img [src]=\"or1\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[10] && gain < tips[11]\">\r\n  <img [src]=\"or2\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[11] && gain < tips[12]\">\r\n  <img [src]=\"or3\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[12] && gain < tips[13]\">\r\n  <img [src]=\"or4\" alt=\"jauge\" class=\"img_jauge\" *ngIf=\"gain >= tips[13] && gain < tips[14]\">\r\n  <img [src]=\"or5\" alt=\"jauge\" class=\"img_jauge top\" *ngIf=\"gain >= tips[14]\">\r\n\r\n</div>\r\n\r\n","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-gauge-bar',\r\n  templateUrl: './gauge-bar.component.html',\r\n  styleUrls: ['./gauge-bar.component.scss']\r\n})\r\nexport class GaugeBarComponent implements OnInit {\r\n  @Input()\r\n  pseudoModel: string;\r\n\r\n  @Input()\r\n  gain: number;\r\n\r\n  @Input()\r\n  tips: any[] = [];\r\n\r\n  @Input()\r\n  descriptions: any[] = [];\r\n\r\n  containInterval: any;\r\n\r\n  vide = './../../../../assets/jauge/Vide.png';\r\n  bronze1 = './../../../../assets/jauge/Bronze1sur5.png';\r\n  bronze2 = './../../../../assets/jauge/Bronze2sur5.png';\r\n  bronze3 = './../../../../assets/jauge/Bronze3sur5.png';\r\n  bronze4 = './../../../../assets/jauge/Bronze4sur5.png';\r\n  bronze5 = './../../../../assets/jauge/Bronze5sur5.png';\r\n  argent1 = './../../../../assets/jauge/Argent1sur5.png';\r\n  argent2 = './../../../../assets/jauge/Argent2sur5.png';\r\n  argent3 = './../../../../assets/jauge/Argent3sur5.png';\r\n  argent4 = './../../../../assets/jauge/Argent4sur5.png';\r\n  argent5 = './../../../../assets/jauge/Argent5sur5.png';\r\n  or1 = './../../../../assets/jauge/Or1sur5.png';\r\n  or2 = './../../../../assets/jauge/Or2sur5.png';\r\n  or3 = './../../../../assets/jauge/Or3sur5.png';\r\n  or4 = './../../../../assets/jauge/Or4sur5.png';\r\n  or5 = './../../../../assets/jauge/Or5sur5.png';\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    //Called once, before the instance is destroyed.\r\n    //Add 'implements OnDestroy' to the class.\r\n    clearInterval(this.containInterval);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // this.containInterval = setInterval(() => {\r\n    //   this.gain++;\r\n    // }, 1000)\r\n  }\r\n\r\n\r\n\r\n}\r\n","<app-header connected=\"true\" actif=\"3\"></app-header>\r\n\r\n\r\n<div class=\"main_live\">\r\n  <img [src]=\"dot\" alt=\"\" id=\"dots\" (click)=\"toggleDots()\">\r\n  <div class=\"contain_top\">\r\n    <div class=\"contain_left\">\r\n      <app-topbar [context]=\"context\" visible=\"false\" minuteur=\"false\" [actif]=\"actif\"></app-topbar>\r\n      <div class=\"show_live_left\">\r\n\r\n        <div class=\"bg_left\"\r\n        [ngStyle]=\"{'background-image': 'url(' + bg + ')'}\"\r\n        [ngClass]=\"{'pass_private': passedToPrivate ||leaved}\"></div>\r\n\r\n        <div class=\"come_on\" *ngIf=\"passedToPrivate\">\r\n          Venez me joindre en live privé\r\n        </div>\r\n\r\n        <div class=\"come_on\" *ngIf=\"passedToTips\">\r\n          Venez me joindre en live TIPS\r\n        </div>\r\n\r\n        <div class=\"come_on\" *ngIf=\"passedVIP\">\r\n          Indisponible pour le moment. Je suis en VIP\r\n        </div>\r\n\r\n        <!-- <app-album-live [albums]=\"albums\"></app-album-live> -->\r\n\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div class=\"show_live_right\">\r\n        <div class=\"header_chat\">\r\n          <p>&gt;</p>\r\n          <div>\r\n            Live Chat\r\n          </div>\r\n        </div>\r\n        <app-live-free-chat [modelId]=\"modelId\" [messages]=\"messages\"\r\n        [pseudoModel]=\"modelPseudo\" [leaved]=\"leaved\" [profil]=\"bg\"\r\n        [passedToPrivate]=\"passedToPrivate\" showMenu=\"false\"\r\n        isModel=\"false\" [clientId]=\"clientId\" [roomId]=\"idRoom\"></app-live-free-chat>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_bottom\">\r\n    <div class=\"contain_left\">\r\n      <div class=\"contain_action contain_action_desktop\">\r\n        <div class=\"show_private btn_show\">\r\n          <button class=\"btn btn_private lighter\" (click)=\"livePrivate()\">Show Privé</button>\r\n          <p *ngIf=\"statPrivate.tarif_show > 0\"\r\n            >{{statPrivate.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"show_vip btn_show\">\r\n          <button class=\"btn btn_vip lighter\" (click)=\"liveVIP()\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n            >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"salon_libre btn_show\">\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Non defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected !== 'live_tips' && live_selected !== 'choice_us'\">\r\n            Non defini\r\n          </button>\r\n\r\n          <button class=\"btn live_tips_salon lighter\"\r\n          matTooltip=\"Paiement via des tips\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'live_tips' || passedToTips\" (click)=\"liveTips()\">\r\n            LIVE TIPS\r\n          </button>\r\n\r\n          <button class=\"btn live_free_salon lighter\"\r\n          matTooltip=\"Crédit defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected == 'choice_us'\" (click)=\"liveChoiceUs()\">\r\n            CHOICE US\r\n          </button>\r\n          <p>Salon libre</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n\r\n      </div>\r\n\r\n      <!-- // mobile -->\r\n      <div class=\"contain_action contain_action_mobile\" *ngIf=\"toggleDot\" data-aos=\"fade-right\">\r\n        <div class=\"show_private btn_show\">\r\n          <button class=\"btn btn_private lighter\" (click)=\"livePrivate()\">Show Privé</button>\r\n          <p *ngIf=\"statPrivate.tarif_show > 0\"\r\n            >{{statPrivate.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"show_vip btn_show\">\r\n        <button class=\"btn btn_vip lighter\" (click)=\"liveVIP()\">Show VIP</button>\r\n          <p *ngIf=\"statVIP.tarif_show > 0\"\r\n            >{{statVIP.tarif_show}} crédits / mn</p>\r\n        </div>\r\n\r\n        <div class=\"salon_libre btn_show\">\r\n\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Non défini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected !== 'live_tips' && live_selected !== 'choice_us'\">\r\n            Non défini\r\n          </button>\r\n\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Paiement via des tips\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected === 'live_tips'\" (click)=\"liveTips()\">\r\n            LIVE TIPS\r\n          </button>\r\n\r\n          <button class=\"btn live_none_salon lighter\"\r\n          matTooltip=\"Crédit defini par le modèle\" matTooltipClass=\"tooltip_class\"\r\n          *ngIf=\"live_selected === 'choice_us'\" (click)=\"liveChoiceUs()\">\r\n            CHOICE US\r\n          </button>\r\n\r\n          <p>Salon libre</p>\r\n        </div>\r\n\r\n        <div class=\"buy_credit btn_show\">\r\n          <button class=\"btn btn_buy lighter\" (click)=\"buy()\">Acheter des crédits</button>\r\n          <p>15 crédits / mn</p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"contain_right\">\r\n      <div *ngIf=\"showTips\">\r\n        <app-tips (newItemEvent)=\"selectTips($event)\" (closeItemEvent)=\"toggleTips()\"></app-tips>\r\n      </div>\r\n\r\n      <div class=\"contain_message\">\r\n        <emoji-mart class=\"emoji-mart\" set=\"{{set}}\"\r\n        *ngIf=\"showEmojiPicker\" (emojiSelect)=\"addEmoji($event)\"\r\n        searchIcons='./../../../../assets/icons/admin-icons/search.png'\r\n        title=\"\"\r\n        ></emoji-mart>\r\n        <div class=\"contain_thrombone\">\r\n          <p class=\"txt_live_chat\"> - live chat</p>\r\n          <!-- <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\">\r\n          <img [src]=\"thrombone\" alt=\"\" class=\"thrombone\"> -->\r\n        </div>\r\n        <form (ngSubmit)=\"sendMessage()\">\r\n          <div class=\"input_text\">\r\n              <img src=\"./../../../../assets/icons/gift.png\" alt=\"\" class=\"img_gift\"\r\n              (click)=\"toggleTips()\">\r\n              <input type=\"text\" name=\"message\" autocomplete=\"off\" (focus)=\"focus()\"\r\n              placeholder=\"Entrer votre message ici ...\" [(ngModel)]=\"message\">\r\n              <button type=\"button\" (click) =\"toggleEmojiPicker()\">\r\n                <img src=\"./../../../../assets/icons/in-love.png\" class=\"img_emoji\"/>\r\n              </button><br>\r\n              <button type=\"submit\">\r\n                <div class=\"p\">\r\n                  <img [src]=\"send\" alt=\"\">\r\n                </div>\r\n              </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<div class=\"lds-spinner\" *ngIf=\"loading\">\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n  <div></div><div></div><div></div><div></div>\r\n</div>\r\n","import { Component, Input, OnInit, OnDestroy, HostListener } from '@angular/core';\r\nimport { NavigationExtras, Router, RouterStateSnapshot, ActivatedRoute, NavigationEnd } from '@angular/router';\r\nimport { LocalStorageService } from 'ngx-localstorage';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport { RoomService } from '../../../services/room/room.service';\r\nimport { ChatService } from '../../../services/chat/chat.service';\r\nimport { Chat, ChatSocket } from 'src/app/interfaces/chat.interface';\r\nimport { SocketService } from '../../../services/socket/socket.service';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { filter } from 'rxjs/operators';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { AlbumService } from '../../../services/album/album.service';\r\nimport { TypeTimer } from 'src/app/interfaces/timer.interface';\r\nimport { TimerService } from '../../../services/timer/timer.service';\r\nimport { RoomVipService } from '../../../services/roomVip/room-vip.service';\r\nimport { BanishService } from '../../../services/banish/banish.service';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { CreditService } from '../../../services/credit/credit.service';\r\nimport { TIP } from 'src/app/services/tips/tips.service';\r\nimport * as AOS from 'aos';\r\nimport { RoomTipsService } from '../../../services/roomTips/room-tips.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-live-free',\r\n  templateUrl: './live-free.component.html',\r\n  styleUrls: ['./live-free.component.scss', './../live.scss']\r\n})\r\nexport class LiveFreeComponent implements OnInit, OnDestroy {\r\n  context: string = \"LIVE FREE\";\r\n  imgPoster = \"assets/images/image.png\";\r\n  thrombone = \"assets/icons/paper-clip.svg\";\r\n  send = \"assets/icons/send-button.svg\";\r\n  dot = \"assets/icons/live-detail.png\";\r\n  close = \"assets/icons/close.svg\";\r\n\r\n  bg = \"assets/logos/dark-light.jpg\";\r\n  modelPseudo = '';\r\n  modelId: number;\r\n  idRoom: number;\r\n  actif: number;\r\n  message: string = '';\r\n  chatColor = \"black\";\r\n  id: number;\r\n\r\n  toggleDot: boolean = false;\r\n  messages: Chat[] = [];\r\n  leaved: boolean = false;\r\n  passedToPrivate: boolean = false;\r\n  passedToTips: boolean = false;\r\n  passedVIP: boolean = false;\r\n  actifSub = new Subscription();\r\n  joinSub = new Subscription();\r\n  leaveSub = new Subscription();\r\n  messageSub = new Subscription();\r\n  modelPassedPrivateSub = new Subscription();\r\n  modelLeavedSub = new Subscription();\r\n  responseInvitationPrivateSub = new Subscription();\r\n  responsePositiveInvitationVIPSub = new Subscription();\r\n  responseNegativeInvitationVIPSub = new Subscription();\r\n  banishSub = new Subscription();\r\n  modelPassedVipSub  = new Subscription();\r\n  albums = []\r\n  clientId: number;\r\n  clientPseudo: string;\r\n  clientCredit: number;\r\n  clientCreditId: number;\r\n\r\n  loading: boolean = false;\r\n  acceptedInvitationToPrivate: boolean = false;\r\n\r\n  costShowPrivate: number = null;\r\n  costShowVip: number = null;\r\n  acceptedVIP: boolean = false;\r\n\r\n  showEmojiPicker = false;\r\n  sets = [\r\n    'native',\r\n    'google',\r\n    'twitter',\r\n    'facebook',\r\n    'emojione',\r\n    'apple',\r\n    'messenger'\r\n  ]\r\n  set = 'google';\r\n\r\n  statPrivate = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  statVIP = {\r\n    tarif_show: 0,\r\n    time_show: 0\r\n  }\r\n\r\n  // Salon libre\r\n  live_selected = null;\r\n\r\n  // Tips\r\n  showTips: boolean = false;\r\n\r\n  @HostListener(\"window:beforeunload\", [\"$event\"]) unloadHandler(event: Event) {\r\n    this.socketService.leave(this.idRoom, 'client', this.clientPseudo, this.clientId);\r\n  }\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private modelService: ModelService,\r\n    private roomService: RoomService,\r\n    private store: LocalStorageService,\r\n    private chatService: ChatService,\r\n    private socketService: SocketService,\r\n    private profilService: ProfilService,\r\n    private popupService: PopupService,\r\n    private clientService: ClientService,\r\n    private albumService: AlbumService,\r\n    private timerService: TimerService,\r\n    private roomVipService: RoomVipService,\r\n    private banishService: BanishService,\r\n    private notificationService: NotificationService,\r\n    private creditService: CreditService,\r\n    private roomTipsService: RoomTipsService\r\n    ) {\r\n      const id = this.route.snapshot.paramMap.get('model');\r\n      this.modelId = parseInt(id);\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    AOS.init();\r\n    if (!this.modelId) return null;\r\n    this.getMyInfo();\r\n    this.initColor();\r\n  }\r\n\r\n  async getCostPrivateShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.PRIVATE).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.statPrivate.tarif_show = data.credit? data.credit : 0;\r\n        this.statPrivate.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostVIPShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n      (data: any) => {\r\n        // console.log(\"Show Cost \", data)\r\n        this.statVIP.tarif_show = data.credit? data.credit : 0;\r\n        this.statVIP.time_show = data.second ? data.second : 0;\r\n      }\r\n    )\r\n  }\r\n\r\n  isBanished() {\r\n    this.banishService.isBanished(this.modelId, this.clientId).subscribe(\r\n      (data: any) => {\r\n        const ok: boolean = data.authorized\r\n        if (!ok) {\r\n          this.popupService.info(null, 'Accès refusé',\r\n          `Vous n\\' êtes pas autorisé à entrer dans ce room.`);\r\n          this.router.navigateByUrl('/client/accueil/registered')\r\n        } else {\r\n          this.getModel();\r\n          this.getInfoRoom();\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.roomService.leaveRoom();\r\n    this.socketService.leave(this.idRoom, 'client', this.clientPseudo, this.clientId);\r\n\r\n    this.actifSub.unsubscribe();\r\n    this.joinSub.unsubscribe();\r\n    this.leaveSub.unsubscribe();\r\n    this.messageSub.unsubscribe();\r\n    this.modelPassedPrivateSub.unsubscribe();\r\n    this.modelLeavedSub.unsubscribe();\r\n    this.responseInvitationPrivateSub.unsubscribe();\r\n    this.responsePositiveInvitationVIPSub.unsubscribe();\r\n    this.responseNegativeInvitationVIPSub.unsubscribe();\r\n    this.modelPassedVipSub.unsubscribe();\r\n    this.banishSub.unsubscribe();\r\n  }\r\n\r\n  initSocket() {\r\n    // if (!this.roomService.joinedRoom()) {\r\n    //   this.roomService.joinRoom();\r\n    //   this.socketService.join(this.idRoom, this.modelId);\r\n    // }\r\n    this.socketService.join(this.idRoom, this.modelId, this.clientPseudo, this.clientId);\r\n\r\n    this.socketService.listen(`currentSaloon ${this.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        this.live_selected = data.live_selected;\r\n      }\r\n    );\r\n\r\n    this.joinSub = this.socketService.listen(`joined ${this.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        // console.log('Joined ', data);\r\n        this.actif = data.count < 0 ? 0 : data.count;\r\n        // console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.leaveSub = this.socketService.listen(`leaved ${this.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        // console.log('leaved ', data);\r\n        this.actif = data.count < 0 ? 0 : data.count;\r\n        // console.log('Actif ', this.actif);\r\n      }\r\n    );\r\n\r\n    this.messageSub = this.socketService.listen(`message ${this.idRoom}`).subscribe(\r\n      (data: Chat) => {\r\n        // console.log('Msg to client ', data);\r\n        this.messages.push(data);\r\n        // this.getMessages();\r\n      }\r\n    );\r\n\r\n    this.modelPassedPrivateSub = this.socketService.listen(`Pass to private ${this.idRoom}`).subscribe(\r\n      (data) => {\r\n        // console.log('Pass to private ', data);\r\n        if (this.acceptedInvitationToPrivate) {\r\n          this.livePrivate();\r\n        } else {\r\n          this.passedToPrivate = true;\r\n        }\r\n      }\r\n    );\r\n\r\n    this.modelLeavedSub = this.socketService.listen(`model leaved ${this.idRoom}`).subscribe(\r\n      (data) => {\r\n        this.leaved = true;\r\n      }\r\n    );\r\n\r\n    this.banishSub = this.socketService.listen(`Banish client ${this.idRoom} ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.isBanished()\r\n      }\r\n    );\r\n\r\n    this.responseInvitationPrivateSub = this.socketService.listen(`response invitation private ${this.idRoom} ${this.clientId}`).subscribe(\r\n      (data) => {\r\n        this.loading = false;\r\n        // console.log('Answer')\r\n        this.acceptedInvitationToPrivate = true;\r\n        if (this.passedToPrivate) {\r\n          this.livePrivate();\r\n        }\r\n      }\r\n    );\r\n\r\n    this.responsePositiveInvitationVIPSub = this.socketService.listen(`response positive invitation model to vip ${this.idRoom} ${this.clientId}`).subscribe(\r\n      (data: any) => {\r\n          this.loading = false;\r\n          this.acceptedVIP = true;\r\n          this.acceptedInvitation(data.special);\r\n      }\r\n    );\r\n\r\n    this.responseNegativeInvitationVIPSub = this.socketService.listen(`response negative invitation model to vip ${this.idRoom} ${this.clientId}`).subscribe(\r\n      (data: any) => {\r\n        // console.log(data)\r\n          this.loading = false;\r\n          this.acceptedVIP = false;\r\n          if (data && data.special) {\r\n            if (data.special === 'live choice') {\r\n              this.popupService.info(null, 'LIVE CHOICE US',\r\n              `${this.modelPseudo} n'est pas disponible pour le moment.`);\r\n            } else if (data.special === 'live tips') {\r\n              this.popupService.info(null, 'LIVE TIPS',\r\n              `${this.modelPseudo} n'est pas disponible pour le moment.`);\r\n            }\r\n          } else {\r\n            this.popupService.info(null, 'LIVE VIP',\r\n            `${this.modelPseudo} n'est pas disponible pour le moment.`);\r\n          }\r\n      }\r\n    );\r\n\r\n    // Model passed to VIP\r\n    this.modelPassedVipSub = this.socketService.listen(`Pass to VIP ${this.idRoom}`).subscribe(\r\n      (data: any) => {\r\n        if (this.acceptedVIP) this.acceptedInvitation();\r\n        this.passedVIP = true;\r\n      }\r\n    );\r\n\r\n    this.socketService.listen(`Pass to tips ${this.idRoom}`).subscribe(\r\n      (data) => {\r\n        // console.log('Pass to private ', data);\r\n        this.live_selected = 'live_tips';\r\n        this.passedToTips = true;\r\n      }\r\n    );\r\n\r\n    this.socketService.askCurrentSaloon(this.idRoom, this.modelId);\r\n  }\r\n\r\n  getMyInfo() {\r\n    this.loading = true;\r\n    this.clientService.getMyInfos().subscribe( // My info\r\n      (data) => {\r\n        // console.log(\"My info \", data)\r\n        this.clientId = data.id;\r\n        this.clientPseudo = data.pseudo;\r\n        this.clientCredit = data.credit ? data.credit.credit : 0; // Client Credit\r\n        this.clientCreditId = data.credit ? data.credit.id : 0; // Client Credit Id\r\n        this.isBanished();\r\n        this.getCostVIPShow();\r\n        this.getCostPrivateShow();\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  getModel() {\r\n    this.modelService.getModel(this.modelId).subscribe(\r\n      (data) => {\r\n        if (!data) {\r\n          this.invalideRoom();\r\n          this.clientService.lastRoom(null);\r\n          setTimeout(\r\n            () => {\r\n              this.router.navigateByUrl('/client/accueil/registered');\r\n            }, 2000\r\n          )\r\n          return null;\r\n        }\r\n        // console.log('Model ', data);\r\n        this.bg = data.path_soft;\r\n        this.modelPseudo = data.pseudo;\r\n        if (data.profile.status === \"Hors ligne\") {\r\n          this.popupService.info('/client/accueil/registered','CHAT INDISPONIBLE',\r\n          `${this.modelPseudo} est hors ligne.`);\r\n          this.router.navigateByUrl('/client/accueil/registered');\r\n        } else if (data.profile.status === \"En live\") {\r\n          this.passedToPrivate = true;\r\n        } else if (data.profile.status === \"En tips\") {\r\n          this.popupService.info(null,'CHAT INDISPONIBLE',\r\n          `${this.modelPseudo} est en live tips.`);\r\n          this.passedToTips = true;\r\n          this.live_selected = 'live_tips';\r\n        } else if (data.profile.status === \"En live choice\") {\r\n          this.popupService.info('/client/accueil/registered','CHAT INDISPONIBLE',\r\n          `${this.modelPseudo} est en live CHOICE.`);\r\n          this.live_selected = 'choice_us';\r\n        } else if (data.profile.status === \"En vip\") {\r\n          this.popupService.info('/client/accueil/registered','CHAT INDISPONIBLE',\r\n          `${this.modelPseudo} est en live VIP.`);\r\n        }\r\n        this.getInfo();\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfo() {\r\n    const id: number = parseInt(this.store.get(\"identification//\"));\r\n    this.roomService.getInfo(id).subscribe(\r\n      (data) => {\r\n        this.id = data.id;\r\n        this.getAlbums();\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfoRoom() {\r\n    this.roomService.getRoomModel(this.modelId).subscribe(\r\n      (data) => {\r\n        if (!data) return null;\r\n        // console.log('Model room ', data);\r\n        this.idRoom = data.idRoom;\r\n        this.actif = data.actif;\r\n        this.clientService.storeLastChat(this.idRoom);\r\n        this.clientService.lastRoom(this.router.url);\r\n        this.getMessages();\r\n        this.initSocket();\r\n      }\r\n    )\r\n  }\r\n\r\n  initColor() {\r\n    if (this.store.get(\"ticket_chat\")) {\r\n      this.chatColor = this.store.get(\"ticket_chat\");\r\n      return true;\r\n    };\r\n    this.roomService.getColor().subscribe(\r\n      (data) => {\r\n        this.chatColor = data.color;\r\n        this.store.set(\"ticket_chat\", data.color);\r\n      }\r\n    )\r\n  }\r\n\r\n  toggleDots() {\r\n    this.toggleDot = !this.toggleDot;\r\n    // console.log(this.toggleDot);\r\n  }\r\n\r\n  sendMessage() {\r\n    if (!this.message) return null;\r\n    const data: Chat = {\r\n      idRoom: this.idRoom,\r\n      message: this.message,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      pseudo: this.clientPseudo\r\n    }\r\n    const msg: ChatSocket = {\r\n      room: this.idRoom + '',\r\n      role: 'client',\r\n      id: this.clientId,\r\n      message: this.message,\r\n      idRoom: this.idRoom,\r\n      type_source: 'client',\r\n      id_source: this.clientId,\r\n      code_couleur: this.chatColor,\r\n      pseudo: this.clientPseudo,\r\n      createdAt: new Date().toISOString()\r\n    }\r\n    this.socketService.sendMessage(msg);\r\n    this.chatService.postMessage(data).subscribe(\r\n      (data) => {\r\n        // this.getMessages();\r\n        this.message = null;\r\n      }\r\n    );\r\n  }\r\n\r\n  getMessages() {\r\n      this.chatService.getMessage(this.idRoom).subscribe(\r\n        (data) => {\r\n          this.messages = data;\r\n          this.getCostShow();\r\n          // console.log(this.messages);\r\n        }\r\n      )\r\n  }\r\n\r\n  livePrivate() {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      (data) => {\r\n        if (this.clientCredit <= this.costShowPrivate) {\r\n          this.popupService.info(null,'CREDIT INSUFFISANT',\r\n          `Votre crédit est insuffisant pour lancer le live. Veuillez recharger votre compte.`);\r\n          return false;\r\n        }\r\n        // console.log('To private ', data);\r\n\r\n        if (data.status === 'En tips') {\r\n          this.popupService.info(null,'MODELE EN LIVE TIPS',\r\n          `Veuillez Passer en live TIPS.`);\r\n          return false;\r\n        }\r\n\r\n        if (data.status === 'En vip' || data.status === 'En live choice') {\r\n          this.popupService.info(null,'MODELE INDISPONIBLE',\r\n          `Votre modèle est dans un autre live pour le moment.`);\r\n          return false;\r\n        } else if (data.status === \"En live\") {\r\n          this.router.navigate(['/client/live/private', {model: this.modelId}]);\r\n        } else {\r\n          // Send invitation to pass to private\r\n          this.loading = true;\r\n          this.socketService.clientInviteModelToPrivate(this.idRoom, this.clientId, this.clientPseudo,\r\n            this.modelId);\r\n          setTimeout(() => {\r\n            if (this.loading) this.loading = false;\r\n          }, 10000);\r\n          // this.popupService.info(null,'LIVE INDISPONIBLE',\r\n          // `${this.modelPseudo} n\\'a pas encore lancé le live.`);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  liveVIP() {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      (data) => {\r\n        if (this.clientCredit <= this.costShowVip) {\r\n          this.popupService.info(null,'CREDIT INSUFFISANT',\r\n          `Veuillez recharger votre compte.`);\r\n          return false;\r\n        }\r\n\r\n        if (data.status === 'En live choice') {\r\n          this.popupService.info(null,'MODELE INDISPONIBLE',\r\n          `Votre modèle est dans un autre live pour le moment.`);\r\n          return false;\r\n        }\r\n\r\n        if (data.status === 'En tips') {\r\n          this.popupService.info(null,'MODELE EN LIVE TIPS',\r\n          `Veuillez Passer en live TIPS.`);\r\n          return false;\r\n        }\r\n\r\n        // console.log('To vip ', data);\r\n        if (data.status === \"En vip\") {\r\n          this.router.navigate(['/client/live/vip', {model: this.modelId}]);\r\n        } else {\r\n          // this.popupService.info(null,'LIVE VIP INDISPONIBLE',\r\n          // `${this.modelPseudo} n\\'a pas encore lancé le live en VIP.`);\r\n          this.loading = true;\r\n          this.socketService.clientInviteModelToVIP(this.idRoom, this.clientId, this.clientPseudo,\r\n            this.modelId);\r\n          setTimeout(() => {\r\n              if (this.loading) this.loading = false;\r\n          }, 10000);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  // Special TIPS\r\n  liveTips() {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      (data) => {\r\n        if (this.clientCredit <= 10) {\r\n          this.popupService.info(null,'CREDIT INSUFFISANT',\r\n          `Votre credit est insuffisant pour passer en live tips au moins 10 crédits.`);\r\n          return false;\r\n        }\r\n\r\n        if (data.status !== \"En tips\") {\r\n          this.popupService.info(null,'LIVE TIPS',\r\n          `${this.modelPseudo} n'as pas encore lancé le live TIPS.`);\r\n          return false;\r\n        } else {\r\n          // Debiter d'abord\r\n          this.roomTipsService.debiterRoom(this.clientCreditId, 1).subscribe(\r\n            (data) => {\r\n              this.router.navigate(['/client/live/tips-clients', {model: this.modelId}]);\r\n            }, (error) => {\r\n              console.log(error);\r\n            }\r\n          )\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n    // Special CHOICE US\r\n    liveChoiceUs() {\r\n      this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n        (data) => {\r\n          if (this.clientCredit <= 10) {\r\n            this.popupService.info(null,'CREDIT INSUFFISANT',\r\n            `Votre credit est insuffisant pour passer en live tips.`);\r\n            return false;\r\n          }\r\n\r\n          if (data.status === \"En vip\") {\r\n            this.popupService.info(null,'MODELE INDISPONIBLE',\r\n            `Votre modèle est indisponible pour passer le live.`);\r\n            return false;\r\n          } else {\r\n            this.loading = true;\r\n            this.socketService.clientInviteModelToVIP(this.idRoom, this.clientId, this.clientPseudo,\r\n              this.modelId, 'live choice');\r\n            setTimeout(() => {\r\n                if (this.loading) this.loading = false;\r\n            }, 10000);\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n  liveOut() {\r\n    this.router.navigate(['/client/accueil/registered']);\r\n  }\r\n\r\n  buy() {\r\n    this.router.navigate(['/client/achat_de_credit']);\r\n  }\r\n\r\n  invalideRoom() {\r\n    this.popupService.info('/client/accueil/registered','CHAT INDISPONIBLE',\r\n    `Ce chat est indisponible.`);\r\n  }\r\n\r\n  getAlbums() {\r\n    const data = {\r\n      modelId : this.modelId,\r\n      type_album: 'free'\r\n    }\r\n    this.albumService.getModelAlbums(data).subscribe(\r\n      (data: any) => {\r\n        for (let i = 0; i < data.length; i++) {\r\n          this.albums.push({\r\n            url: data[i].path_album\r\n          })\r\n        }\r\n        this.loading = false;\r\n      }, (error) => {\r\n        this.loading = false;\r\n      }\r\n    )\r\n  }\r\n\r\n  async getCostShow() {\r\n    return await this.timerService.getCostShow(TypeTimer.PRIVATE).subscribe(\r\n      (data: any) => {\r\n        this.costShowPrivate = data.credit;\r\n        this.timerService.getCostShow(TypeTimer.VIP).subscribe(\r\n          (data: any) => {\r\n            this.costShowVip = data.credit;\r\n          }\r\n        )\r\n      }\r\n    )\r\n  }\r\n\r\n  acceptedInvitation(special?: string) {\r\n    this.profilService.getSpecificProfil(this.modelId).subscribe(\r\n      async (data) => {\r\n        if (!special && data.status === \"En vip\" && this.getInfoRoomVIP()) {\r\n          this.router.navigate(['/client/live/vip', { model: this.modelId }]);\r\n        } else if (special && data.status === \"En live choice\" && this.getInfoRoomVIP()) {\r\n          this.router.navigate(['/client/live/choice-us', { model: this.modelId }]);\r\n        } else {\r\n          this.popupService.info(null, 'LIVE VIP INDISPONIBLE',\r\n            `${this.modelPseudo} n\\' a pas encore accepté votre LIVE.`);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  async getInfoRoomVIP() {\r\n    return await this.roomVipService.getRoomModel(this.modelId).subscribe(\r\n      (data) => {\r\n        if (data.idRoom === null) {return false;}\r\n        if (this.clientId !== data.clientId) {return false;}\r\n        return true;\r\n      })\r\n  }\r\n\r\n      // -------- EMOJI -----------------\r\n\r\n      toggleEmojiPicker() {\r\n        this.showEmojiPicker = !this.showEmojiPicker;\r\n      }\r\n\r\n      addEmoji(event) {\r\n        const {message} = this;\r\n        let text = '';\r\n        if (message) {\r\n          text = `${message}${event.emoji.native}`;\r\n        } else {\r\n          text = `${event.emoji.native}`;\r\n        }\r\n        this.message = text;\r\n      }\r\n\r\n      focus() {\r\n        this.showEmojiPicker = false;\r\n      }\r\n\r\n      // Tips\r\n\r\n      selectTips(value: TIP) {\r\n        // console.log('Tips ', value);\r\n        this.loading = true;\r\n        if (value.credit > this.clientCredit) {\r\n          this.notificationService.infoMsg('Votre crédit est insuffisant');\r\n          this.loading = false;\r\n          return null;\r\n        }\r\n        this.creditService.buyGift(this.clientId, this.modelId, value.credit).\r\n        subscribe(\r\n          (data: any) => {\r\n            console.log(data);\r\n            this.clientCredit = data.creditClient;\r\n            this.sendTips(value.symbole, value.credit, value.designation, value.vip);\r\n          }, (error) => {\r\n            console.log(error);\r\n          }\r\n        )\r\n\r\n      }\r\n\r\n      toggleTips() {\r\n        this.showTips = !this.showTips;\r\n      }\r\n\r\n      sendTips(symbole: string, credit: number, designation, vip: boolean = false) {\r\n        const data: Chat = {\r\n          idRoom: this.idRoom,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          type_source: 'client',\r\n          id_source: this.id,\r\n          code_couleur: this.chatColor,\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo,\r\n          pseudo: this.clientPseudo\r\n        }\r\n        const msg: ChatSocket = {\r\n          room: this.idRoom + '',\r\n          role: 'client',\r\n          id: this.id,\r\n          message: vip ? 'vip' : 'This is a gift',\r\n          pseudo: this.clientPseudo,\r\n          idRoom: this.idRoom,\r\n          type_source: 'client',\r\n          id_source: this.id,\r\n          code_couleur: this.chatColor,\r\n          giftSymbol: symbole,\r\n          giftDesign: designation,\r\n          giftSource: this.clientPseudo\r\n        }\r\n        this.socketService.sendMessage(msg);\r\n        this.chatService.postMessage(data).subscribe(\r\n          (data) => {\r\n            // this.getMessages();\r\n            this.loading = false;\r\n            this.showTips = false;\r\n          }\r\n        )\r\n      }\r\n\r\n\r\n}\r\n\r\n","export enum context {\r\n  OFFLINE = 'Hors ligne',\r\n  INLINE = 'En ligne',\r\n  LIVE  = \"En live\",\r\n  TIPS  = \"En tips\",\r\n  CHOICE_US  = \"En live choice\",\r\n  VIP = 'En vip'\r\n}\r\n\r\nexport interface GetModel {\r\n  context: context;\r\n  begin: number;\r\n  end: number;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ConnexionAdminComponent } from './components/admin/connexion-admin/connexion-admin.component';\r\nimport { ContactComponent } from './components/client/contact/contact.component';\r\nimport { EnterComponent } from './components/client/enter/enter.component';\r\nimport { OutComponent } from './components/client/out/out.component';\r\nimport { NewPasswordComponent } from './components/forgot/new-password/new-password.component';\r\nimport { SendForgotComponent } from './components/forgot/send-forgot/send-forgot.component';\r\nimport { HomeLiveComponent } from './components/home/home-disconnected/home-live.component';\r\nimport { PageNotFoundComponent } from './components/page-not-found/page-not-found.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EnterComponent\r\n  },\r\n  {\r\n    path: 'bye',\r\n    component: OutComponent\r\n  },\r\n\r\n  {\r\n    path: 'motdepasseoublie',\r\n    component: SendForgotComponent\r\n  },\r\n  {\r\n    path: 'reinitialisation',\r\n    component: NewPasswordComponent\r\n  },\r\n  {\r\n    path: 'accueil',\r\n    component: HomeLiveComponent\r\n  },\r\n  {\r\n    path: 'authentification-admin',\r\n    component: ConnexionAdminComponent\r\n  },\r\n  {\r\n    path: 'contact',\r\n    component: ContactComponent\r\n  },\r\n  {\r\n    path: 'client',\r\n    loadChildren: () => import('./components/client/client-routing.module').then(m => m.ClientRoutingModule)\r\n  },\r\n  {\r\n    path: 'modele',\r\n    loadChildren: () => import('./components/modele/model-routing.module').then(m => m.ModelRoutingModule)\r\n  },\r\n  {\r\n    path: 'admin',\r\n    loadChildren: () => import('./components/admin/admin-routing.module').then(m => m.AdminRoutingModule)\r\n  },\r\n  {\r\n    path: '**',\r\n    component: PageNotFoundComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { scrollPositionRestoration: 'enabled', relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { DeleteComponent } from './delete/delete.component';\r\nimport { PasswordComponent } from './password/password.component';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ClientService } from '../../../services/client/client.service';\r\nimport { PackModalComponent } from 'src/app/modals/pack-modal/pack-modal.component';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { AuthService } from '../../../services/auth/auth.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\n\r\n@Component({\r\n  selector: 'app-profil',\r\n  templateUrl: './profil.component.html',\r\n  styleUrls: ['./profil.component.scss']\r\n})\r\nexport class ProfilComponent implements OnInit {\r\n  credit: number = 500;\r\n  sound: boolean = false;\r\n  autoRecharge = false;\r\n  coinImg = \"assets/icons/coin-stack.svg\";\r\n  exclamation = \"assets/icons/exclamation-mark.svg\";\r\n  // Switch\r\n  color = \"#FB77FC\";\r\n  disabled = false;\r\n\r\n  // Modification information\r\n  isModifing = false;\r\n  showExclam = false;\r\n\r\n  // Information\r\n  email = \"ohatra@yahoo.fr\";\r\n  pseudo = \"Cactus\";\r\n\r\n  info = {\r\n    clientId: 0,\r\n    clientPseudo: null,\r\n    clientEmail: null,\r\n    clientCredit: 0,\r\n    clientCreditId: 0,\r\n    setting: {\r\n      id: 0,\r\n      sound_notification: 0,\r\n      mail_notification: 0,\r\n      sound_message: 0\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    private dialog: MatDialog,\r\n    private clientService: ClientService,\r\n    private notificationService: NotificationService,\r\n    private authService: AuthService,\r\n    private profilService: ProfilService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getInfo();\r\n    this.getSetting();\r\n  }\r\n\r\n  getInfo() {\r\n    this.clientService.getMyInfos().subscribe(\r\n      (data) => {\r\n        // console.log(\"My info \", data);\r\n        if (!data) return null;\r\n        this.info.clientId = data.id;\r\n        this.info.clientPseudo = data.pseudo;\r\n        this.info.clientEmail = data.email;\r\n        this.info.clientCredit = data.credit.credit;\r\n        this.info.clientCreditId = data.credit.id;\r\n      }\r\n    )\r\n  }\r\n\r\n  getSetting() {\r\n    this.clientService.getSettingClient().subscribe(\r\n      (data: any) => {\r\n        this.info.setting = data;\r\n        this.sound = this.info.setting.sound_notification == 1 ? true : false;\r\n      }\r\n    )\r\n  }\r\n\r\n  recharge() {\r\n    const dialogRef = this.dialog.open(PackModalComponent, {\r\n      width: '100vh',\r\n      data: {}\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.getInfo();\r\n    });\r\n  }\r\n\r\n\r\n  changeSound(event) {\r\n    this.sound = event.checked;\r\n    this.info.setting.sound_notification = this.sound ? 1 : 0;\r\n    this.profilService.updateSetting(this.info.setting).subscribe(\r\n      (data) => {\r\n\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n    // console.log(this.sound);\r\n  }\r\n\r\n  toogleRecharge(event) {\r\n    console.log(event.checked);\r\n    this.autoRecharge = event.checked;\r\n    this.sound = event.checked;\r\n    // this.changeSound();\r\n  }\r\n\r\n  modifing () {\r\n    if (this.isModifing) {\r\n      // console.log(\"New Pseudo \", this.info.clientPseudo);\r\n      const newPseudo = this.info.clientPseudo;\r\n      this.clientService.changePseudo(newPseudo).subscribe(\r\n        (data: any) => {\r\n          // console.log(data);\r\n          if (data.access_token) {\r\n            this.authService.saveToken(data.access_token, data.id).then(\r\n              () => {\r\n                this.notificationService.success(\"Sauvegarde\", \"Informations enregistrées\");\r\n              }\r\n            );\r\n          }\r\n        }\r\n      )\r\n    }\r\n    this.isModifing = !this.isModifing;\r\n  }\r\n\r\n  tryChangeEmail() {\r\n    if (this.isModifing) {\r\n      this.showExclam = true;\r\n      setTimeout(() => {\r\n        this.showExclam = false;\r\n      }, 4000);\r\n    }\r\n  }\r\n\r\n  openDialogPassword() {\r\n    const dialogRef = this.dialog.open(PasswordComponent, {\r\n      width: '50vh'\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      // console.log(`Dialog result: ${result}`);\r\n    });\r\n  }\r\n\r\n  deleteAccount(action: string): void {\r\n    const dialogRef = this.dialog.open(DeleteComponent, {\r\n      width: '50vh',\r\n      data: {action: action}\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      // console.log('The dialog was closed');\r\n    });\r\n  }\r\n}\r\n","<app-header connected=\"true\" actif=\"4\"></app-header>\r\n\r\n<div class=\"main_profil\">\r\n\r\n  <!-- Credit parameter -->\r\n  <div class=\"profil profil_1\">\r\n    <div class=\"profil_header\">\r\n      Crédits et Payement\r\n    </div>\r\n    <div class=\"block_profil\">\r\n      <div class=\"block_credit content_parameter\">\r\n        <img [src]=\"coinImg\" alt=\"\" class=\"coinImg\">\r\n        <div>\r\n          {{info.clientCredit}} crédit<span *ngIf=\"info.clientCredit > 2\">s</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"rechargement marge_paiement\">\r\n        <div class=\"recharge_content\">\r\n          <div class=\"recharge_text\">\r\n            Sons de notification\r\n          </div>\r\n          <!-- (click)=\"changeSound()\" -->\r\n          <div class=\"sound\">\r\n            <i class=\"fa fa-circle\" [ngClass]=\"{'show': sound, 'unshow': !sound}\"></i>\r\n            <span [ngClass]=\"{'span': !sound}\">Activer</span>  /\r\n            <span [ngClass]=\"{'span': sound}\">Désactiver</span> les sons de notification\r\n          </div>\r\n        </div>\r\n        <div class=\"switch\">\r\n          <mat-slide-toggle\r\n          class=\"toogle\"\r\n          id=\"toggle\"\r\n          [color]=\"color\"\r\n          [checked]=\"info.setting.sound_notification === 1\"\r\n          [disabled]=\"disabled\"\r\n          (change)=\"changeSound($event)\">\r\n          </mat-slide-toggle>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"content_btn marge_paiement\">\r\n        <button class=\"btn btn_recharge lighter\" (click)=\"recharge()\">\r\n          Recharger\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Information parameter -->\r\n  <div class=\"profil profil_2\">\r\n    <div class=\"profil_header\">\r\n      Informations personnelles\r\n    </div>\r\n    <div class=\"block_profil\">\r\n      <div class=\"content_parameter\">\r\n        <form action=\"\" class=\"form\">\r\n          <div class=\"form-group\" (click)=\"tryChangeEmail()\">\r\n            <label id=\"email\" for=\"email\">Adresse email\r\n              <img [src]=\"exclamation\" alt=\"\"\r\n              data-toggle=\"tooltip\" *ngIf=\"showExclam\"\r\n              data-placement=\"top\" title=\"Impossible à changer\">\r\n            </label>\r\n            <input autocomplete=\"off\" type=\"email\" [(ngModel)]=\"info.clientEmail\"\r\n            name=\"email\" disabled class=\"form-control input\"\r\n            style=\"opacity: 0.8;\">\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"pseudo\">Pseudo</label>\r\n            <input autocomplete=\"off\" type=\"text\" name=\"pseudo\"\r\n            class=\"form-control input\" [(ngModel)]=\"info.clientPseudo\"\r\n            [ngClass]=\"{'enable': isModifing, 'disable': !isModifing}\"\r\n            [disabled]=\"!isModifing\">\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div class=\"content_btn marge_paiement\">\r\n        <button class=\"btn btn_modif lighter\" (click)=\"modifing()\">\r\n          <span *ngIf=\"!isModifing\">Modifier</span>\r\n          <span *ngIf=\"isModifing\">Sauvegarder</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Password parameter -->\r\n  <div class=\"profil profil_2\">\r\n    <div class=\"profil_header\">\r\n      Mot de passe\r\n    </div>\r\n    <div class=\"block_profil\">\r\n      <div class=\"content_btn marge_paiement\">\r\n        <button class=\"btn btn_password lighter\" (click)=\"openDialogPassword()\">\r\n          Changer\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Account parameter -->\r\n  <div class=\"profil profil_2\">\r\n    <div class=\"block_profil\">\r\n      <div class=\"content_parameter\">\r\n        <div class=\"btn_account btn_delete lighter\" (click)=\"deleteAccount('suppression')\">\r\n          Supprimer compte\r\n        </div>\r\n        <div class=\"btn_account btn_delete lighter\" (click)=\"deleteAccount('désactivation')\">\r\n          Désactiver compte\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<app-footer></app-footer>\r\n","<div class=\"contain_pass\">\r\n  <!-- <h2 mat-dialog-title>Confirmation</h2> -->\r\n  <mat-dialog-content>\r\n    <div class=\"content_text\">\r\n      <div class=\"img\">\r\n        <img [src]=\"exclamation\" alt=\"\" style=\"max-width: 100%;\">\r\n      </div>\r\n      <div class=\"text_warning\">\r\n        Confirmer la <span>{{action}}</span> de votre compte !\r\n      </div>\r\n    </div>\r\n    <form>\r\n      <label for=\"password\">\r\n        Mot de passe\r\n        <img [src]=\"exclamation\" alt=\"\" *ngIf=\"empty\" id=\"imgAlert\">\r\n      </label>\r\n      <input type=\"password\" name=\"password\" class=\"form-control input\" [(ngModel)]=\"password\">\r\n      <p class=\"error\" *ngIf=\"error\">Mot de passe incorrect</p>\r\n    </form>\r\n  </mat-dialog-content>\r\n\r\n  <mat-dialog-actions>\r\n    <button class=\"btn_cancel\" mat-button [mat-dialog-close]=\"true\" cdkFocusInitial>Annuler</button>\r\n    <button class=\"btn_valid\" (click)=\"validate()\">Confirmer</button>\r\n  </mat-dialog-actions>\r\n</div>\r\n\r\n","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {MatDialogRef, MAT_DIALOG_DATA} from '@angular/material/dialog';\r\nimport { ClientService } from '../../../../services/client/client.service';\r\nimport { PopupService } from '../../../../services/popup/popup.service';\r\nimport { AuthService } from '../../../../services/auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-delete',\r\n  templateUrl: './delete.component.html',\r\n  styleUrls: ['./delete.component.scss']\r\n})\r\nexport class DeleteComponent implements OnInit {\r\n  action: any;\r\n  exclamation = \"assets/icons/exclamation-mark.svg\";\r\n  password: string = \"\";\r\n  error: boolean = false;\r\n  empty: boolean = false;\r\n  constructor(\r\n    public dialogRef: MatDialogRef<DeleteComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data,\r\n    private clientService: ClientService,\r\n    private popupService: PopupService,\r\n    private authService: AuthService) {\r\n      this.action = data.action;\r\n    }\r\n\r\n  onNoClick(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // console.log(this.action);\r\n  }\r\n\r\n  async validate(): Promise<void> {\r\n    this.empty = false;\r\n    this.error = false;\r\n    if (this.password == \"\") {\r\n        this.empty = true;\r\n        return null;\r\n    }\r\n    if (this.action === 'suppression') {\r\n      this.clientService.deleteAccount(this.password).subscribe(\r\n        (data: any) => {\r\n          // console.log(data);\r\n          if (data.error) {\r\n            this.error = true;\r\n          } else {\r\n            this.popupService.info('client','Suppression',\r\n            `Un email de confirmation vous est envoyé pour motif :\r\n            <span style=\"font-style: italic; color: var(--pink)\">Suppression de compte</span>`);\r\n            this.onNoClick();\r\n            this.authService.logoutUser('client', '/accueil');\r\n          }\r\n        }\r\n      )\r\n    } else if (this.action === 'désactivation') {\r\n      this.clientService.deactivateAccount(this.password).subscribe(\r\n        (data: any) => {\r\n          // console.log(data);\r\n          if (data.error) {\r\n            this.error = true;\r\n          } else {\r\n            this.popupService.info('client','Désactivation',\r\n            `Un email de confirmation vous est envoyé pour motif :\r\n            <span style=\"font-style: italic; color: var(--pink)\">Désactivation de compte</span>`);\r\n            this.onNoClick();\r\n            this.authService.logoutUser('client', '/accueil');\r\n          }\r\n        }\r\n      )\r\n    }\r\n  }\r\n}\r\n","<app-infobar-admin title=\"Clients\" subTitle=\"Clients\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    CLIENTS BLOQUES <span>({{count}} Clients)</span>\r\n  </div>\r\n\r\n  <div class=\"contain_filter_client\">\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-4\">\r\n          <div class=\"pagination_client\">\r\n            <!-- <div class=\"all\" (click)=\"tout()\">Lister Tout</div> -->\r\n            <div class=\"list_pagination\">\r\n              <div class=\"prev_pagination\" (click)=\"prevPage()\">\r\n                &lt;\r\n              </div>\r\n              <div\r\n              *ngFor=\"let item of list_pagination\"\r\n              (click)=\"selectPage(item)\"\r\n              >\r\n              <span class=\"item_pagination\" [ngClass]=\"{'actif': page === item}\"\r\n              *ngIf=\"item >= thirdlyPage - 3 && item  < thirdlyPage\">{{item + 1}}</span>\r\n              </div>\r\n              <div class=\"next_pagination\" (click)=\"nextPage()\">\r\n                &gt;\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-5 col-9\">\r\n          <div class=\"search_client\">\r\n            <input type=\"text\" class=\"search_input\" placeholder=\"Rechercher ......\"\r\n            (keyup)=\"input_search($event)\" [(ngModel)]=\"filter\">\r\n            <img [src]=\"search\" alt=\"\" class=\"search_icon\">\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-3 col-3\">\r\n          <div class=\"other_action_client\">\r\n            <img [src]=\"four\" alt=\"\" class=\"other_icon_1\">\r\n            <img [src]=\"other\" alt=\"\" class=\"other_icon_2\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"contain_list_client\">\r\n    <div class=\"contain_header_list\">\r\n      <div>\r\n        LES CLIENTS BLOQUES\r\n      </div>\r\n      <div>\r\n        Total : {{count}}\r\n      </div>\r\n    </div>\r\n    <div class=\"table-responsive\">\r\n      <table class=\"table table-responsive\">\r\n        <tr class=\"header_table_client\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>Pseudo</td>\r\n          <td>Adresse email</td>\r\n          <td>Inscrit le</td>\r\n          <td>Bloqué le</td>\r\n          <td>Actions</td>\r\n        </tr>\r\n        <tr *ngFor=\"let client of clients\" class=\"list_table\">\r\n          <td>\r\n            <input type=\"checkbox\">\r\n          </td>\r\n          <td>{{client.pseudo}}</td>\r\n          <td>{{client.email}}</td>\r\n          <td>{{client.createdAt}}</td>\r\n          <td>{{client.updatedAt}}</td>\r\n          <td class=\"list_action\">\r\n            <img [src]=\"debloquer\" alt=\"\" (click)=\"deblockedClient(client.id)\">\r\n            <img [src]=\"delete\" alt=\"\" (click)=\"deleteClient(client.id)\">\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from 'src/app/services/admin/admin.service';\r\nimport { NotificationService } from 'src/app/services/notification/notification.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-bloquer-clients-admin',\r\n  templateUrl: './bloquer-clients-admin.component.html',\r\n  styleUrls: ['./bloquer-clients-admin.component.scss']\r\n})\r\nexport class BloquerClientsAdminComponent implements OnInit {\r\n  icon = './../../../../../../assets/icons/paper-clip.svg'\r\n\r\n  search = './../../../../../../assets/icons/admin-icons/search.png'\r\n  four = './../../../../../../assets/icons/admin-icons/menu_four.png'\r\n  other = './../../../../../../assets/icons/admin-icons/menu.png'\r\n\r\n  deactivate = './../../../../../../assets/icons/admin-icons/deactivate.png'\r\n  activate = './../../../../../../assets/icons/admin-icons/activate.png'\r\n  delete = './../../../../../../assets/icons/admin-icons/delete.png'\r\n  bloqued = './../../../../../../assets/icons/admin-icons/bloquer.png'\r\n  debloquer = './../../../../../../assets/icons/admin-icons/debloquer.png'\r\n\r\n  clients = []\r\n\r\n  count: number  = 0\r\n  range: number = 10\r\n  filter: string = ''\r\n  selected: string = 'tous'\r\n\r\n  page: number  = 0\r\n  topPage: number = 0\r\n  thirdlyPage: number = 3\r\n  list_pagination: number[] = []\r\n\r\n  constructor(\r\n    public adminService: AdminService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.countClient()\r\n    this.listClients()\r\n  }\r\n\r\n  initPagination() {\r\n    this.list_pagination = []\r\n    let res = this.count / this.range\r\n    res = Math.floor(res)\r\n    this.topPage = res\r\n    console.log('TopPage ',this.topPage)\r\n    for (let i = 0; i <= res; i++) {\r\n      this.list_pagination.push(i)\r\n    }\r\n  }\r\n\r\n  countClient() {\r\n    this.adminService.countClientsBlocked().subscribe(\r\n      (data) => {\r\n        this.count = data ? data : 0\r\n        this.initPagination()\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  listClients() {\r\n    this.adminService.getClientsBlocked(this.range, this.page, this.filter).subscribe(\r\n      (data) => {\r\n        console.log(data)\r\n        this.clients = data\r\n        this.clients.forEach( (client) => {\r\n          client.createdAt = this.adminService.formatDate(client.createdAt)\r\n          client.updatedAt = this.adminService.formatDate(client.updatedAt)\r\n        })\r\n        this.count = this.clients.length\r\n        this.initPagination()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  input_search(event) {\r\n    this.listClients()\r\n  }\r\n\r\n  selectPage(page: number) {\r\n    this.page = page\r\n    this.listClients()\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.page + 1 >= this.topPage) return false\r\n    this.page += 1\r\n    this.thirdlyPage += 3\r\n    this.listClients()\r\n  }\r\n\r\n  prevPage() {\r\n    if (this.page - 1 < 0) return false\r\n    this.page -= 1\r\n    this.thirdlyPage -= 3\r\n    if (this.thirdlyPage < 0) this.thirdlyPage = 0\r\n    this.listClients()\r\n  }\r\n\r\n  tout() {\r\n    this.page = 0\r\n    this.range = this.count\r\n    this.listClients()\r\n  }\r\n\r\n  deleteClient(idClient: number) {\r\n    this.adminService.deleteClient(idClient).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  deblockedClient(idClient: number) {\r\n    const data = {\r\n      idClient,\r\n      reverse: true\r\n    }\r\n    this.adminService.blockClient(data).subscribe(\r\n      (data: any) => {\r\n        if (data.success) this.listClients()\r\n        else if (data.error) this.notificationService.errorMsg(data.message)\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AuthService } from '../auth/auth.service';\r\n\r\nexport interface CentralPayDto {\r\n  firstname: string;\r\n  lastname: string;\r\n  number: string;\r\n  holderEmail: string;\r\n  expirationMonth: string;\r\n  expirationYear: string;\r\n  cvc: string;\r\n}\r\n\r\nconst httpOptions = {\r\n  headers: new HttpHeaders({ 'Content-Type': 'application/json'})\r\n};\r\n\r\n\r\n// const user = \"ff71e627-07d2-4a03\";\r\n// const password = \"%Fn9njixhz\";\r\n\r\n// const authorization = 'Basic ZmY3MWU2MjctMDdkMi00YTAzOiVGbjluaml4aHo=';\r\n\r\n// const httpOptionsCentralPay = {\r\n//   headers: new HttpHeaders(\r\n//     {\r\n//       'Content-Type': '*',\r\n//       'Authorization': `${authorization}`\r\n//     },\r\n//   )\r\n// };\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PaiementService {\r\n  endpoint = environment.endpoint;\r\n\r\n  constructor(private http: HttpClient, private authService: AuthService) { }\r\n\r\n  buyPack(credit: number) {\r\n    const data = {\r\n      credit\r\n    }\r\n    return this.http.post(`${this.endpoint}/paiement/buy-pack`, data, httpOptions)\r\n  }\r\n\r\n  saveDetailsBuyPack(designation: string, credit: number, montant: number, card : string,\r\n    mm : string, yyyy : string, cvv : string, firstName : string, lastName : string,\r\n    email : string) {\r\n    const data = {\r\n      designation,\r\n      credit,\r\n      montant,\r\n      card,\r\n      mm,\r\n      yyyy,\r\n      cvv, firstName,\r\n      lastName,\r\n      email\r\n    }\r\n    return this.http.post(`${this.endpoint}/buy-pack`, data, httpOptions)\r\n  }\r\n\r\n  hasPaid() {\r\n    return this.http.post(`${this.endpoint}/buy-pack/hasPaid`, {}, httpOptions)\r\n  }\r\n\r\n  verifyPack() {\r\n    return this.http.post(`${this.endpoint}/buy-pack/verifyPack`, {}, httpOptions)\r\n  }\r\n\r\n  convertCreditToMoney(credit: number) {\r\n    const money = credit * 0.147;\r\n    return money.toFixed(3);\r\n  }\r\n\r\n  getSuiviPay(modelId: number) {\r\n    return this.http.get(`${this.endpoint}/paiement/getSuiviPay/${modelId}`, httpOptions)\r\n  }\r\n\r\n  // Central Pay\r\n\r\n  openCentralPay(price: number) {\r\n    const data = {\r\n      amount: price\r\n    }\r\n    return this.http.post(`${this.endpoint}/paiement/open-centralPay`, data, httpOptions);\r\n  }\r\n\r\n  goToCentralPay(data: CentralPayDto) {\r\n    return this.http.post(`${this.endpoint}/paiement/goToCentralPay`, data, httpOptions);\r\n  }\r\n}\r\n","<div class=\"main_topbar\">\r\n  <div class=\"top_left\">\r\n    <div class=\"context_live\">\r\n      {{context}}\r\n    </div>\r\n    <div class=\"minuteur\" *ngIf=\"!minuteur\">\r\n      <div class=\"minuteur_inside\">\r\n        <span *ngIf=\"hour > 0\"> <span *ngIf=\"hour < 10\">0</span>{{hour}} : </span>\r\n        <span *ngIf=\"minute < 10\">0</span>{{minute}} :\r\n        <span *ngIf=\"second < 10\">0</span>{{second}}\r\n      </div>\r\n    </div>\r\n    <div class=\"user\">\r\n      <img [src]=\"user\" alt=\"\">\r\n      <span>\r\n        <span *ngIf=\"actif < 10 && actif > 0\" class=\"span_zero\">0</span>\r\n        {{actif}}\r\n      </span>\r\n      <span *ngIf=\"actif === undefined\">0</span>\r\n    </div>\r\n  </div>\r\n  <div id=\"img_add\" (click)=\"toggleTools()\" *ngIf=\"!visible\">\r\n    <i class=\"fa fa-ellipsis-h\"></i>\r\n  </div>\r\n\r\n</div>\r\n\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\n\r\n@Component({\r\n  selector: 'app-topbar',\r\n  templateUrl: './topbar.component.html',\r\n  styleUrls: ['./topbar.component.scss']\r\n})\r\nexport class TopbarComponent implements OnInit {\r\n  @Input()\r\n  context: string;\r\n\r\n  @Input()\r\n  visible: boolean;\r\n\r\n  @Input()\r\n  minuteur: boolean;\r\n\r\n  @Input()\r\n  actif: number = 0;\r\n\r\n  @Input()\r\n  hour: number = 0;\r\n\r\n  @Input()\r\n  minute: number = 0;\r\n\r\n  @Input()\r\n  second: number = 0;\r\n\r\n  @Input()\r\n  reinit: boolean; // reinit to 0\r\n\r\n  @Input()\r\n  leaved: boolean; // Model Quitter\r\n\r\n  user = \"assets/icons/friends_soft.svg\";\r\n  strech = \"assets/icons/full-size.svg\";\r\n  microOn = \"assets/icons/microphone.svg\";\r\n  microOff = \"assets/icons/microphone-off.svg\";\r\n  mute = \"assets/icons/mute.svg\";\r\n  video = \"assets/icons/video-camera.svg\";\r\n  noVideo = \"assets/icons/no-video.svg\";\r\n  volume =\"assets/icons/volume.svg\";\r\n  soundOff = \"assets/icons/sound-off.svg\";\r\n  add = \"assets/icons/add.svg\";\r\n\r\n  isSound: boolean = true;\r\n  isVideo: boolean = true;\r\n  isStreched: boolean = true;\r\n  isMicro: boolean = true;\r\n\r\n  currentMinute: number = 0;\r\n  countUser: string = \"01\";\r\n\r\n  showTools = false;\r\n\r\n  constructor(\r\n    private popupService: PopupService\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.startMinuteur();\r\n  }\r\n\r\n  change (material: string) {\r\n    switch (material) {\r\n      case 'son':\r\n        this.isSound = !this.isSound;\r\n        break;\r\n      case 'micro':\r\n        this.isMicro = !this.isMicro;\r\n        break;\r\n      case 'video':\r\n        this.isVideo = !this.isVideo;\r\n        break;\r\n      case 'strech':\r\n        this.isStreched = !this.isStreched;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  toggleTools() {\r\n    this.showTools = !this.showTools;\r\n  }\r\n\r\n  startMinuteur() {\r\n    setInterval(() => {\r\n      if (!this.leaved) {\r\n        if (!this.reinit) {\r\n          this.second++;\r\n          if (this.second > 59) {\r\n            this.second = 0;\r\n            this.minute++;\r\n            if (this.minute > 59) {\r\n              this.minute = 0;\r\n              this.hour++;\r\n            }\r\n          }\r\n        } else {\r\n          this.second = 0;\r\n          this.minute = 0;\r\n          this.hour = 0;\r\n        }\r\n      }\r\n    }, 1000);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pack-or',\r\n  templateUrl: './pack-or.component.html',\r\n  styleUrls: ['./pack-or.component.scss']\r\n})\r\nexport class PackOrComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>pack-or works!</p>\r\n","<app-header connected=\"true\" actif=\"1\"></app-header>\r\n\r\n<div class=\"main_home_client\">\r\n\r\n  <div class=\"section\">\r\n    <div class=\"bar_title\">\r\n      <div class=\"context\">\r\n        En live\r\n        <p class=\"btn_red\"></p>\r\n        <p class=\"count\"> ({{totalInLive}}) </p>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <ul style=\"list-style-type: none;\">\r\n          <li *ngFor=\"let item of paginationLive\"\r\n            (click)=\"initPhoto(LIVE, item)\"\r\n            [ngClass]=\"{'active': indiceLive == item}\">\r\n            {{item}}\r\n          </li>\r\n          <li class=\"dots\" (click)=\"prev(LIVE)\">&lt;&lt;</li>\r\n          <li class=\"next_link\" (click)=\"next(LIVE)\">>></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"profil_model\">\r\n          <div class=\"row_model\">\r\n            <p class=\"empty\" *ngIf=\"photoLive.length == 0\">\r\n              Aucun modèle n'est disponible pour le moment\r\n            </p>\r\n            <div class=\"col_model\" *ngFor=\"let item of photoLive; let i = index\">\r\n              <div class=\"profil\"\r\n              (click)=\"getProfil(item.id, item.pseudo, item.path_soft, item.year_birth)\">\r\n                <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n                [lazyLoad]=\"item.path_soft\" class=\"img_section\"/>\r\n\r\n                <!-- <img [src]=\"item.path_soft\" alt=\"\" class=\"img_section\"> -->\r\n                <div class=\"live_profil\">\r\n                  <span *ngIf=\"item.profile.status === 'En vip'\">VIP</span>\r\n                  <span *ngIf=\"item.profile.status === 'En tips'\">TIPS</span>\r\n                  <span *ngIf=\"item.profile.status === 'En live'\">PRIVATE</span>\r\n                  <span *ngIf=\"item.profile.status === 'En live choice'\">CHOICE US</span>\r\n                </div>\r\n                <div class=\"pseudo_profil\">\r\n                  <p class=\"btn_red\"></p>\r\n                  <p class=\"pseudo\">{{item.pseudo}}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <div class=\"section\">\r\n    <div class=\"bar_title\">\r\n      <div class=\"context\">\r\n        En Chat\r\n        <p class=\"count\"> ({{totalInChat}}) </p>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <ul style=\"list-style-type: none;\">\r\n          <li *ngFor=\"let item of paginationChat\"\r\n            (click)=\"initPhoto(INLINE, item)\"\r\n              [ngClass]=\"{'active': indiceChat == item}\">\r\n              {{item}}\r\n          </li>\r\n          <li class=\"dots\" (click)=\"prev(INLINE)\">&lt;&lt;</li>\r\n          <li class=\"next_link\" (click)=\"next(INLINE)\">>></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"profil_model\">\r\n      <div class=\"row_model\">\r\n        <p class=\"empty\" *ngIf=\"photoChat.length == 0\">\r\n          Aucun modèle n'est disponible pour le moment\r\n        </p>\r\n        <div class=\"col_model\" *ngFor=\"let item of photoChat; let i = index\">\r\n          <div class=\"profil\"\r\n          (click)=\"getProfil(item.id, item.pseudo, item.path_soft, item.year_birth)\">\r\n            <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n            [lazyLoad]=\"item.path_soft\" class=\"img_section\"/>\r\n\r\n            <!-- <img [src]=\"item.path_soft\" alt=\"\" class=\"img_section\"> -->\r\n            <div class=\"pseudo_profil\">\r\n              <p class=\"btn_chat\">\r\n                <i class=\"fa fa-comment\"></i>\r\n              </p>\r\n              <p class=\"pseudo\">{{item.pseudo}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n\r\n  <div class=\"section offline\">\r\n    <div class=\"bar_title\">\r\n      <div class=\"context\">\r\n        Hors ligne\r\n        <p class=\"count\"> ({{totalOffline}}) </p>\r\n      </div>\r\n      <div class=\"pagination\">\r\n        <ul style=\"list-style-type: none;\">\r\n          <li *ngFor=\"let item of paginationChat\"\r\n            (click)=\"initPhoto(OFFLINE, item)\"\r\n            [ngClass]=\"{'active': indiceOffline == item}\">\r\n            {{item}}\r\n          </li>\r\n          <li class=\"dots\" (click)=\"prev(OFFLINE)\">&lt;&lt;</li>\r\n          <li class=\"next_link\" (click)=\"next(OFFLINE)\">>></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"profil_model\">\r\n      <div class=\"row_model\">\r\n        <p class=\"empty\" *ngIf=\"photoOffline.length == 0\">\r\n          Aucun modèle n'est disponible pour le moment\r\n        </p>\r\n        <div class=\"col_model\" *ngFor=\"let item of photoOffline; let i = index\">\r\n          <div class=\"profil\">\r\n            <img [defaultImage]=\"defaultImage\" alt=\"\"\r\n            [lazyLoad]=\"item.path_soft\" class=\"img_section\"\r\n            (click)=\"getProfil(item.id, item.pseudo, item.path_soft, item.year_birth)\"/>\r\n            <!-- <img [src]=\"item.path_soft\" alt=\"\" class=\"img_section\"> -->\r\n            <div class=\"pseudo_profil\">\r\n              <p class=\"btn_white\"></p>\r\n              <p class=\"pseudo\">{{item.pseudo}}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  </div>\r\n\r\n</div>\r\n\r\n<app-footer></app-footer>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModelService } from '../../../services/model/model.service';\r\nimport { Router } from '@angular/router';\r\nimport { context } from 'src/app/interfaces/get-model.interface';\r\nimport { GetModel } from '../../../interfaces/get-model.interface';\r\nimport { NotificationService } from '../../../services/notification/notification.service';\r\nimport { PopupService } from '../../../services/popup/popup.service';\r\nimport { ProfilService } from '../../../services/profil/profil.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ProfilModelDetailComponent } from '../../../modals/profil-model-detail/profil-model-detail.component';\r\n\r\n@Component({\r\n  selector: 'app-home-client',\r\n  templateUrl: './home-client.component.html',\r\n  styleUrls: ['./home-client.component.scss']\r\n})\r\nexport class HomeClientComponent implements OnInit {\r\n  defaultImage = './../../../../assets/images/blured.jpg';\r\n\r\n  image = \"assets/images/image.png\";\r\n  section: number = 8;\r\n\r\n  totalInLive: number = 0;\r\n  paginationLive: number[] = [];\r\n  photoLive: string[] = [];\r\n  indiceLive: number = 1;\r\n\r\n  totalInChat: number = 0;\r\n  paginationChat: number[] = [];\r\n  photoChat: string[] = [];\r\n  indiceChat: number = 1;\r\n\r\n  totalOffline: number = 0;\r\n  paginationOffline: number[] = [];\r\n  photoOffline: string[] = [];\r\n  indiceOffline: number = 1;\r\n\r\n  // count = [0, 1, 2, 3, 4, 5, 6, 7];\r\n\r\n  OFFLINE = 'Hors ligne';\r\n  INLINE = 'En ligne';\r\n  LIVE  = \"En live\";\r\n\r\n  constructor(\r\n    private modelSrv: ModelService,\r\n    private router: Router,\r\n    private notificationService: NotificationService,\r\n    private popupService: PopupService,\r\n    private profilService: ProfilService,\r\n    private dialog: MatDialog\r\n    ) {\r\n    }\r\n\r\n  ngOnInit(): void {\r\n    this.init();\r\n  }\r\n\r\n\r\n  init() {\r\n    this.getTotal().then(\r\n      (data) => {\r\n        this.initPagination();\r\n      }\r\n    );\r\n  }\r\n\r\n  async getTotal() {\r\n    await this.modelSrv.count().subscribe(\r\n      (data) => {\r\n        // console.log(data);\r\n        this.totalOffline = data.offline;\r\n        this.totalInChat = data.chat;\r\n        this.totalInLive = data.live;\r\n      }\r\n    )\r\n  }\r\n\r\n  initPagination() {\r\n    var margeLive = Math.ceil((this.totalInLive / this.section) - 0.1);\r\n    var margeChat = Math.ceil((this.totalInChat / this.section) - 0.1);\r\n    var margeOffline = Math.ceil((this.totalOffline / this.section) - 0.1);\r\n\r\n    margeLive = margeLive < 1 ? 1 : margeLive;\r\n    margeChat = margeChat < 1 ? 1 : margeChat;\r\n    margeOffline = margeOffline < 1 ? 1 : margeOffline;\r\n\r\n    for (let index = 1; index <= margeLive; index++) this.paginationLive.push(index);\r\n    for (let index = 1; index <= margeChat; index++) this.paginationChat.push(index);\r\n    for (let index = 1; index <= margeOffline; index++) this.paginationOffline.push(index);\r\n    this.initPhoto(context.LIVE, 1);\r\n    this.initPhoto(context.INLINE, 1);\r\n    this.initPhoto(context.OFFLINE, 1);\r\n  }\r\n\r\n  async initPhoto(contxt: any, indice: number) {\r\n    var debut = indice - 1;\r\n    debut = debut * this.section;\r\n\r\n    const model: GetModel = {\r\n      context: contxt,\r\n      begin: debut,\r\n      end: debut + this.section\r\n    }\r\n\r\n    switch (contxt) {\r\n      case context.LIVE :\r\n        if (debut > this.totalInLive) {this.indiceLive--; return null;}\r\n        this.indiceLive = indice;\r\n        await this.modelSrv.getList(model).subscribe(\r\n          (data) => {\r\n            // console.log(data);\r\n            this.photoLive = data;\r\n          }\r\n        );\r\n        break;\r\n\r\n      case context.INLINE :\r\n        if (debut > this.totalInChat) {this.indiceChat--; return null;}\r\n        this.indiceChat= indice;\r\n        await this.modelSrv.getList(model).subscribe(\r\n            (data) => {\r\n              // console.log('In chat ', data);\r\n              this.photoChat = data;\r\n            }, (error) => {\r\n              console.log(error)\r\n            }\r\n          );\r\n        break;\r\n\r\n      case context.OFFLINE :\r\n        if (debut > this.totalOffline) {this.indiceOffline--; return null;}\r\n        this.indiceOffline= indice;\r\n        await this.modelSrv.getList(model).subscribe(\r\n          (data) => {\r\n            // console.log(data);\r\n            this.photoOffline = data;\r\n          }\r\n        );\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  prev(contxt: any) {\r\n    switch (contxt) {\r\n      case context.LIVE :\r\n        if (this.indiceLive < 2) return false;\r\n        this.indiceLive--;\r\n        this.initPhoto(contxt, this.indiceLive);\r\n        break;\r\n\r\n      case context.INLINE :\r\n        if (this.indiceChat < 2) return false;\r\n        this.indiceChat--;\r\n        this.initPhoto(contxt, this.indiceChat);\r\n        break;\r\n\r\n      case context.OFFLINE :\r\n        if (this.indiceOffline < 2) return false;\r\n        this.indiceOffline--;\r\n        this.initPhoto(contxt, this.indiceOffline);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  next(contxt: any) {\r\n    switch (contxt) {\r\n      case context.LIVE :\r\n        this.indiceLive++;\r\n        this.initPhoto(contxt, this.indiceLive);\r\n        break;\r\n\r\n      case context.INLINE :\r\n        this.indiceChat++;\r\n        this.initPhoto(contxt, this.indiceChat);\r\n        break;\r\n\r\n      case context.OFFLINE :\r\n        this.indiceOffline++;\r\n        this.initPhoto(contxt, this.indiceOffline);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  async liveFree(id: number) {\r\n    this.profilService.getSpecificProfil(id).subscribe(\r\n      (data) => {\r\n        const status = data ? data.status : null;\r\n        if (status === 'En ligne') {\r\n          this.navigateTo('/client/live/free', id);\r\n        } else {\r\n          this.popupService.info(null, 'LIVE CHAT','MODELE INDISPONIBLE');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  livePrivate(id: number, pseudo: string, status: string) {\r\n    // console.log(status);\r\n    this.profilService.getSpecificProfil(id).subscribe(\r\n      (data) => {\r\n        const newStatus = data ? data.status : null;\r\n        if (status === newStatus) {\r\n          if (status === 'En live') {\r\n            this.navigateTo('/client/live/private', id);\r\n          } else if (status === 'En tips') {\r\n            this.navigateTo('/client/live/tips-clients', id);\r\n          } else if (status === 'En live choice') {\r\n            this.popupService.info(null, 'LIVE OCCUPE', `${pseudo} est en live CHOICE US en ce moment`);\r\n          } else if (status === 'En vip') {\r\n            this.popupService.info(null, 'LIVE OCCUPE', `${pseudo} est en live VIP en ce moment`);\r\n          }\r\n        } else {\r\n          this.popupService.info(null, 'LIVE CHOISI','MODELE INDISPONIBLE POUR CE LIVE');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  navigateTo(url: string, modelId: number) {\r\n    this.router.navigate([`${url}`, {model: modelId}]);\r\n  }\r\n\r\n\r\n  getProfil(id: number, pseudo: string, path_soft: string, year_birth: number) {\r\n    const dialogRef = this.dialog.open(ProfilModelDetailComponent, {\r\n      width: '100%',\r\n      height: '100%',\r\n      data: {\r\n        modelId : id,\r\n        modelPseudo : pseudo,\r\n        modelProfil : path_soft,\r\n        modelAge: year_birth\r\n      }\r\n    });\r\n    dialogRef.afterClosed().subscribe(result => {});\r\n  }\r\n}\r\n","\r\n<app-infobar-admin title=\"Administration\" subTitle=\"Administration\"></app-infobar-admin>\r\n\r\n<div class=\"admin_container\">\r\n  <div class=\"admin_bottom_bar\">\r\n    PARAMETRES\r\n  </div>\r\n\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-7\">\r\n        <div class=\"contain_\">\r\n          <div class=\"title_contain\">\r\n            PROFIL ADMIN\r\n          </div>\r\n          <div class=\"contain_setting\">\r\n            <div class=\"contain_img\">\r\n              <div (click)=\"fileInput.click()\" class=\"blockImg\">\r\n                <img [src]=\"info.url\" alt=\"\">\r\n              </div>\r\n              <input type=\"text\" [(ngModel)]=\"info.pseudo\">\r\n              <input type=\"text\" [(ngModel)]=\"info.email\" disabled style=\"cursor: no-drop;\">\r\n              <button class=\"btn btn_save\" (click)=\"uploadProfil()\">\r\n                Modifier\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"contain_\">\r\n          <div class=\"title_contain\">\r\n            MOT DE PASSE\r\n          </div>\r\n          <div class=\"form\">\r\n            <div class=\"form-group\">\r\n              <label for=\"old\">Ancien mot de passe</label>\r\n              <input type=\"password\" name=\"old\" [(ngModel)]=\"oldPassword\" class=\"form-control\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"new\">Nouveau mot de passe</label>\r\n              <input type=\"password\" name=\"new\" [(ngModel)]=\"newPassword\" class=\"form-control\">\r\n            </div>\r\n            <button class=\"btn btn_save\" (click)=\"changePassword()\">\r\n              Modifier\r\n            </button>\r\n            <div class=\"error\" *ngIf=\"errorPassword\">\r\n              <p>\r\n                {{errorPassword}}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-lg-5\">\r\n        <div class=\"contain_\">\r\n          <div class=\"title_contain\">\r\n            MOTS TABOO\r\n          </div>\r\n          <div class=\"add_contain\">\r\n            <div class=\"form\">\r\n              <div class=\"form-group\">\r\n                <input type=\"text\" name=\"word\" [(ngModel)]=\"text\">\r\n              </div>\r\n              <button class=\"btn btn_add_taboo\" (click)=\"addTaboo()\">\r\n                Ajouter\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"list_contain\">\r\n            <table>\r\n              <tr *ngFor=\"let item of listTaboo\">\r\n                <td>{{item.word}}</td>\r\n                <td><img [src]=\"imgDelete\" alt=\"\" (click)=\"deleteTaboo(item.id)\" class=\"img_delete\"></td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<input type=\"file\" #fileInput style=\"visibility: hidden;\"\r\naccept=\"image/x-png,image/gif,image/jpeg\" (change)=\"profilChoose($event)\">\r\n","import { HttpEventType } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { AdminService } from '../../../../../../services/admin/admin.service';\r\nimport { ProfilService } from '../../../../../../services/profil/profil.service';\r\nimport { NotificationService } from '../../../../../../services/notification/notification.service';\r\n\r\n@Component({\r\n  selector: 'app-setting-admin',\r\n  templateUrl: './setting-admin.component.html',\r\n  styleUrls: ['./setting-admin.component.scss']\r\n})\r\nexport class SettingAdminComponent implements OnInit {\r\n  listTaboo: any\r\n  imgDelete = './../../../../../../../assets/icons/admin-icons/delete.png'\r\n\r\n  default = './../../../../../../../assets/images/user_chat.png'\r\n\r\n  text: string = null\r\n\r\n  info = {\r\n    pseudo: '',\r\n    url: null,\r\n    email: '',\r\n    id: 0\r\n  }\r\n\r\n  file: File;\r\n  formData = new FormData();\r\n  changedProfil: boolean = false\r\n\r\n  oldPassword: string = null\r\n  newPassword: string = null\r\n  errorPassword: any = null;\r\n\r\n  constructor(\r\n    private adminService: AdminService,\r\n    private profilService: ProfilService,\r\n    private notificationService: NotificationService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getTaboos()\r\n    this.getInfosAdmin()\r\n  }\r\n\r\n  getTaboos() {\r\n    this.adminService.getTaboo().subscribe(\r\n      (data) => {\r\n        this.listTaboo = data\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  deleteTaboo(idTaboo) {\r\n    this.adminService.deleteTaboo(idTaboo).subscribe(\r\n      (data) => {\r\n        this.getTaboos()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  addTaboo() {\r\n    if (!this.text || this.text === '') return false\r\n    this.adminService.addTaboo(this.text).subscribe(\r\n      (data) => {\r\n        this.text = null\r\n        this.getTaboos()\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  getInfosAdmin() {\r\n    this.adminService.getInfosAdmin().subscribe(\r\n      (data: any) => {\r\n        console.log(data)\r\n        this.info = data\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  async profilChoose(fileInput) {\r\n    this.file =  fileInput.target.files[0];\r\n    var mimeType: any;\r\n    var reader = new FileReader();\r\n    mimeType = this.file.type;\r\n    if (!(mimeType === \"image/png\" || mimeType === \"image/jpeg\")) return false;\r\n    reader = new FileReader();\r\n    reader.readAsDataURL(this.file);\r\n    reader.onload = (event) => {\r\n      this.info.url = reader.result;\r\n      this.changedProfil = true\r\n      // console.log('New url ', this.info.url)\r\n      // this.nameRecto = this.fileRecto.name;\r\n    };\r\n\r\n    this.formData.delete('file');\r\n    this.formData.append('file', this.file, this.file.name);\r\n  }\r\n\r\n  async uploadProfil() {\r\n\r\n    if (!this.changedProfil) {\r\n      this.saveInfo(this.info.pseudo, this.info.url)\r\n      return false\r\n    }\r\n\r\n    this.profilService.updatePhoto(this.formData).subscribe(\r\n      async (events) => {\r\n        if (events.type === HttpEventType.UploadProgress) {\r\n          // this.fileUploadProgress = Math.round(events.loaded / events.total * 100) + '%';\r\n        }\r\n        else if (events.type === HttpEventType.Response) {\r\n          const path  = events.body.path;\r\n          this.info.url = path;\r\n          this.saveInfo(this.info.pseudo, path)\r\n        }\r\n      }, (error) => {\r\n        console.log(error);\r\n      }\r\n    )\r\n  }\r\n\r\n  async saveInfo(pseudo: string, url: string) {\r\n    this.adminService.updateInfoAdmin(pseudo, url).subscribe(\r\n      (data: any) => {\r\n        if (data.success) {\r\n          this.notificationService.infoMsg(\"Information modifiée\")\r\n        } else if (data.error) {\r\n          this.notificationService.errorMsg(data.message)\r\n        }\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n\r\n  async changePassword() {\r\n    this.errorPassword = null\r\n    if (!this.oldPassword || this.oldPassword === '' || !this.newPassword || this.newPassword === '') {\r\n      this.errorPassword = 'Veuillez compléter les champs'\r\n      return false\r\n    }\r\n    this.adminService.changePasswordAdmin(this.oldPassword, this.newPassword).subscribe(\r\n      (data: any) => {\r\n        if (data.error) {\r\n          this.errorPassword = data.message\r\n        } else if (data.success) {\r\n          this.notificationService.infoMsg('Mot de passe modifié')\r\n        }\r\n      }, (error) => {\r\n        console.log(error)\r\n      }\r\n    )\r\n  }\r\n}\r\n","<app-header></app-header>\r\n\r\n<div class=\"contain_signin_one\">\r\n  <div class=\"inside_sign part_one\">\r\n    <h2>Bienvenue sur <span class=\"word_one\">BETWEEN</span><span class=\"word_two\">US</span>LIVE</h2>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"contain_signin_two inside_sign\">\r\n  <h2 class=\"title\">\r\n    Se connecter en tant qu' ADMIN\r\n  </h2>\r\n\r\n  <div class=\"descr\">\r\n      Veuillez quitter cette page si vous n'êtes pas l'administrateur.\r\n  </div>\r\n\r\n  <form class=\"form\" [formGroup]=\"loginForm\" novalidate autocomplete=\"off\">\r\n    <div class=\"form-group\">\r\n      <label for=\"email\">Email </label>\r\n      <input type=\"text\" formControlName=\"email\" name=\"email\" class=\"form-control input lighter\">\r\n      <div *ngIf=\"submitted && form.email.errors\">\r\n        <small *ngIf=\"form.email.errors.required\" class=\"form-text error-text \">\r\n          Adresse email requis\r\n        </small>\r\n        <small *ngIf=\"form.email.errors.email\" class=\"form-text error-text \">\r\n          Format invalide\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">Mot de passe </label>\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" class=\"form-control input lighter\" required>\r\n      <div *ngIf=\"submitted && form.password.errors\">\r\n        <small *ngIf=\"form.password.errors.required\" class=\"form-text error-text\">\r\n          Mot de passe requis\r\n        </small>\r\n      </div>\r\n    </div>\r\n\r\n      <small *ngIf=\"errorAuth\" class=\"form-text error-text\">\r\n        {{errorAuth}}\r\n      </small>\r\n\r\n    <div class=\"action\">\r\n      <button class=\"btn btn_signin lighter\" (click)=\"login($event)\">\r\n        <div class=\"loader\" *ngIf=\"loading\"></div>\r\n        <span *ngIf=\"!loading\">CONNEXION</span>\r\n      </button>\r\n    </div>\r\n\r\n  </form>\r\n\r\n  <br><br><br>\r\n</div>\r\n","import { EncryptionService } from './../../../services/encryption/encryption.service';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { HeaderService } from '../../../services/header/header.service';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth/auth.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { loginUser } from '../../../interfaces/login.interface';\r\nimport * as $ from 'jquery';\r\nimport { AdminService } from '../../../services/admin/admin.service';\r\n\r\n@Component({\r\n  selector: 'app-connexion-admin',\r\n  templateUrl: './connexion-admin.component.html',\r\n  styleUrls: ['./connexion-admin.component.scss']\r\n})\r\nexport class ConnexionAdminComponent implements OnInit {\r\n  loginForm : FormGroup;\r\n  submitted :boolean =  false;\r\n  loading: boolean = false;\r\n  checked :boolean =  false;\r\n  pseudoStorage : string = null;\r\n  passStorage : string = null;\r\n  errorAuth  :boolean = false;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private adminService: AdminService,\r\n    private router: Router,\r\n    private authService: AuthService\r\n  ) {\r\n    this.loginForm = this.formBuilder.group({\r\n      email : ['',[Validators.required, Validators.email]],\r\n      password: ['', Validators.required]\r\n    })\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  get form() { return this.loginForm.controls }\r\n\r\n\r\n  async login(event) {\r\n    this.submitted = true;\r\n    event.preventDefault();\r\n    if (this.loginForm.invalid) {return false;}\r\n    this.loading = true;\r\n    let user: any = this.loginForm.value;\r\n    await this.adminService.login(user).subscribe(\r\n      (res: any) => {\r\n          if (res.error) {\r\n            this.errorAuth = res.message;\r\n            this.loading = false;\r\n          } else {\r\n            this.errorAuth = null;\r\n            if (res.access_token)\r\n              this.authService.saveToken(res.access_token).then(\r\n                () => {\r\n                  this.loading = false;\r\n                  this.router.navigate(['/admin']);\r\n                }\r\n              );\r\n          }\r\n      },\r\n      (err: any) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n      }\r\n    );\r\n    return true;\r\n}\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-pack-bienvenue',\r\n  templateUrl: './pack-bienvenue.component.html',\r\n  styleUrls: ['./pack-bienvenue.component.scss']\r\n})\r\nexport class PackBienvenueComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>pack-bienvenue works!</p>\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}